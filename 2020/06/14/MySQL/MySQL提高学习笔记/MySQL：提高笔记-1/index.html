<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/Mario.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/Mario.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="学完基础的语法后，进一步对 MySQL 进行学习。 之前学了一波 MySQL 在使用层面的内容，现在则将其进行一步升华，稍稍深入的学习一些 MySQL 的内部实现等进阶知识点，这当然也是跟着视频学习时做的笔记，课程地址：MySQL入门到精通，笔记总共分为5篇，此为 1&#x2F;5，其余地址如下：  MySQL：提高笔记-1 MySQL：提高笔记-2 MySQL：提高笔记-3 MySQL：提高笔">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL：提高笔记-1">
<meta property="og:url" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/index.html">
<meta property="og:site_name" content="贤余超">
<meta property="og:description" content="学完基础的语法后，进一步对 MySQL 进行学习。 之前学了一波 MySQL 在使用层面的内容，现在则将其进行一步升华，稍稍深入的学习一些 MySQL 的内部实现等进阶知识点，这当然也是跟着视频学习时做的笔记，课程地址：MySQL入门到精通，笔记总共分为5篇，此为 1&#x2F;5，其余地址如下：  MySQL：提高笔记-1 MySQL：提高笔记-2 MySQL：提高笔记-3 MySQL：提高笔">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/索引图示.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示1.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示2.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示3.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示4.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示5.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示6.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示7.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示8.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/b+树.png">
<meta property="og:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/mysql的b+数.png">
<meta property="article:published_time" content="2020-06-14T02:24:00.000Z">
<meta property="article:modified_time" content="2020-06-14T02:24:00.000Z">
<meta property="article:author" content="ZhuCC">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/索引图示.png">

<link rel="canonical" href="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>MySQL：提高笔记-1 | 贤余超</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a target="_blank" rel="noopener" href="https://github.com/zhuChengChao" class="github-corner" aria-label="View source on GitHub">
	<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
	<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
	<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
	<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
	</svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">贤余超</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一位底层码农 :-)</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">100</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">18</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">207</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="ZhuCC">
      <meta itemprop="description" content="不急不躁。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="贤余超">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL：提高笔记-1
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-14 10:24:00" itemprop="dateCreated datePublished" datetime="2020-06-14T10:24:00+08:00">2020-06-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/MySQL/" itemprop="url" rel="index"><span itemprop="name">MySQL</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>17 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>学完基础的语法后，进一步对 MySQL 进行学习。</p>
<p>之前学了一波 MySQL 在使用层面的内容，现在则将其进行一步升华，稍稍深入的学习一些 MySQL 的内部实现等进阶知识点，这当然也是跟着视频学习时做的笔记，课程地址：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1zJ411M7TB">MySQL入门到精通</a>，笔记总共分为5篇，此为 <strong>1/5</strong>，其余地址如下：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://xianyuchao.cn/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/">MySQL：提高笔记-1</a></li>
<li><a target="_blank" rel="noopener" href="https://xianyuchao.cn/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-2/">MySQL：提高笔记-2</a></li>
<li><a target="_blank" rel="noopener" href="https://xianyuchao.cn/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-3/">MySQL：提高笔记-3</a></li>
<li><a target="_blank" rel="noopener" href="https://xianyuchao.cn/2020/06/21/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-4/">MySQL：提高笔记-4</a></li>
<li><a target="_blank" rel="noopener" href="https://xianyuchao.cn/2020/06/21/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-5/">MySQL：提高笔记-5</a></li>
</ul>
<span id="more"></span>
<h1 id="mysql提高笔记-1">MySQL：提高笔记-1</h1>
<h2 id="索引">1. 索引</h2>
<h3 id="索引概述">1.1 索引概述</h3>
<p>MySQL 官方对索引的定义为：索引（index）是帮助 MySQL 高效获取数据的数据结构（有序）。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据， 这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引。如下面的示意图所示 :</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/索引图示.png" alt="索引图示"></p>
<p>左边是数据表，一共有两列七条记录，最左边的是数据记录的物理地址（注意逻辑上相邻的记录在磁盘上也并不是一定物理相邻的）。为了加快 Col2 的查找，可以维护一个右边所示的二叉查找树，每个节点分别包含索引键值和一个指向对应数据记录物理地址的指针，这样就可以运用二叉查找快速获取到相应数据。</p>
<p>一般来说索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储在磁盘上。索引是数据库中用来提高性能的最常用的工具。</p>
<h3 id="索引优势劣势">1.2 索引优势劣势</h3>
<p><strong>优势</strong></p>
<ol type="1">
<li><p>类似于书籍的目录索引，提高数据检索的效率，降低数据库的 IO 成本。</p></li>
<li><p>通过索引列对数据进行排序，降低数据排序的成本，降低 CPU 的消耗。</p></li>
</ol>
<p><strong>劣势</strong></p>
<ol type="1">
<li><p>实际上索引也是一张表，该表中保存了主键与索引字段，并指向实体类的记录，所以索引列也是要占用空间的。</p></li>
<li><p>虽然索引大大提高了查询效率，同时却也降低更新表的速度，如对表进行 INSERT、UPDATE、DELETE。因为更新表时，MySQL 不仅要保存数据，还要保存一下索引文件每次更新添加了索引列的字段，都会调整因为更新所带来的键值变化后的索引信息。</p></li>
</ol>
<h3 id="索引结构">1.3 索引结构</h3>
<p>索引是在 MySQL 的存储引擎层中实现的，而不是在服务器层实现的。所以每种存储引擎的索引都不一定完全相同，也不是所有的存储引擎都支持所有的索引类型的。MySQL 目前提供了以下 4 种索引：</p>
<ul>
<li><strong>BTREE 索引</strong> ： 最常见的索引类型，大部分索引都支持 B 树索引。</li>
<li><strong>HASH 索引</strong>：只有 Memory 引擎支持 ， 使用场景简单 。</li>
<li>R-tree 索引（空间索引）：空间索引是 MyISAM 引擎的一个特殊索引类型，主要用于地理空间数据类型，通常使用较少，不做特别介绍。</li>
<li>Full-text （全文索引） ：全文索引也是 MyISAM 的一个特殊索引类型，主要用于全文索引，InnoDB 从Mysql5.6 版本开始支持全文索引。</li>
</ul>
<center>
<b>MyISAM、InnoDB、Memory三种存储引擎对各种索引类型的支持</b>
</center>
<table>
<thead>
<tr class="header">
<th>索引</th>
<th>InnoDB引擎</th>
<th>MyISAM引擎</th>
<th>Memory引擎</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BTREE 索引</td>
<td>支持</td>
<td>支持</td>
<td>支持</td>
</tr>
<tr class="even">
<td>HASH 索引</td>
<td>不支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr class="odd">
<td>R-tree 索引</td>
<td>不支持</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr class="even">
<td>Full-text</td>
<td>5.6 版本之后支持</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<p>我们平常所说的索引，如果没有特别指明，都是指B+树（多路搜索树，并不一定是二叉的）结构组织的索引。其中聚集索引、复合索引、前缀索引、唯一索引默认都是使用 B+tree 索引，统称为 索引。</p>
<h4 id="btree-结构">1.3.1 BTREE 结构</h4>
<p>BTree又叫多路平衡搜索树，一颗 m 叉的BTree特性如下：</p>
<ul>
<li>树中每个节点最多包含 m 个孩子。</li>
<li>除根节点与叶子节点外，每个节点至少有 <code>[ceil(m/2)]</code> 个孩子。</li>
<li>若根节点不是叶子节点，则至少有两个孩子。</li>
<li>所有的叶子节点都在同一层。</li>
<li>每个非叶子节点由 n 个 key 与 n+1 个指针组成，其中 <code>[ceil(m/2)-1] &lt;= n &lt;= m-1</code></li>
</ul>
<p><strong>举个例子：</strong></p>
<p>以 5叉 BTree 为例，key 的数量：公式推导：<code>[ceil(m/2)-1] &lt;= n &lt;= m-1</code>。所以 <code>2 &lt;= n &lt;=4</code> 。当 n&gt;4时，<strong>中间节点分裂到父节点，两边节点分裂。</strong></p>
<p>插入 C N G A H E K Q M F W L T Z D P R X Y S 数据为例。</p>
<p>演变过程如下：</p>
<ol type="1">
<li><p>插入前4个字母 C N G A</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示1.png" alt="BTree图示1"></p></li>
<li><p>插入 H，n&gt;4，中间元素G字母向上分裂到新的节点</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示2.png" alt="BTree图示2"></p></li>
<li><p>插入E，K，Q不需要分裂</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示3.png" alt="BTree图示3"></p></li>
<li><p>插入M，中间元素M字母向上分裂到父节点G</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示4.png" alt="BTree图示4"></p></li>
<li><p>插入F，W，L，T不需要分裂</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示5.png" alt="BTree图示5"></p></li>
<li><p>插入Z，中间元素T向上分裂到父节点中</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示6.png" alt="BTree图示6"></p></li>
<li><p>插入D，中间元素D向上分裂到父节点中。然后插入P，R，X，Y不需要分裂</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示7.png" alt="BTree图示7"></p></li>
<li><p>最后插入S，NPQR 节点n&gt;5，中间节点Q向上分裂，但分裂后父节点DGMT的n&gt;5，中间节点M向上分裂</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/BTree图示8.png" alt="BTree图示8"></p></li>
</ol>
<p>到此，该 BTREE 树就已经构建完成了， BTREE树和二叉树相比， 查询数据的效率更高， 因为对于相同的数据量来说，BTREE的层级结构比二叉树小，因此搜索速度快。</p>
<h4 id="btree结构">1.3.3 B+TREE结构</h4>
<p>B+Tree为BTree的变种，<strong>B+Tree与BTree的区别为</strong>：</p>
<ol type="1">
<li><p>n叉B+Tree最多含有n个key，而BTree最多含有n-1个key。</p></li>
<li><p>B+Tree的叶子节点保存所有的key信息，依key大小顺序排列。</p></li>
<li><p>所有的非叶子节点都可以看作是key的索引部分。</p></li>
</ol>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/b+树.png" alt="b+树"></p>
<p>由于B+Tree只有叶子节点保存key信息，查询任何key都要从root走到叶子。所以B+Tree的查询效率更加稳定。</p>
<h4 id="mysql中的btree">1.3.3 MySQL中的B+Tree</h4>
<p>MySQL索引数据结构对经典的B+Tree进行了优化。在原B+Tree的基础上，<strong>增加一个指向相邻叶子节点的链表指针</strong>，就形成了带有顺序指针的B+Tree，提高区间访问的性能。</p>
<p>MySQL中的 B+Tree 索引结构示意图</p>
<p><img src="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1/mysql的b+数.png" alt="mysql的b+数"></p>
<h3 id="索引分类">1.4 索引分类</h3>
<ol type="1">
<li><p>单值索引 ：即一个索引只包含单个列，一个表可以有多个单列索引</p></li>
<li><p>唯一索引 ：索引列的值必须唯一，但允许有空值</p></li>
<li><p>复合索引 ：即一个索引包含多个列</p></li>
</ol>
<h3 id="索引语法">1.5 索引语法</h3>
<p>索引在创建表的时候，可以同时创建， 也可以随时增加新的索引。</p>
<ul>
<li>准备环境：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">create database demo_01 default charset=utf8mb4;</span><br><span class="line"></span><br><span class="line">use demo_01;</span><br><span class="line"></span><br><span class="line">CREATE TABLE `city` (</span><br><span class="line">  `city_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `city_name` varchar(50) NOT NULL,</span><br><span class="line">  `country_id` int(11) NOT NULL,</span><br><span class="line">  PRIMARY KEY (`city_id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">CREATE TABLE `country` (</span><br><span class="line">  `country_id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `country_name` varchar(100) NOT NULL,</span><br><span class="line">  PRIMARY KEY (`country_id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">insert into `city` (`city_id`, `city_name`, `country_id`) values(1,&#x27;西安&#x27;,1);</span><br><span class="line">insert into `city` (`city_id`, `city_name`, `country_id`) values(2,&#x27;NewYork&#x27;,2);</span><br><span class="line">insert into `city` (`city_id`, `city_name`, `country_id`) values(3,&#x27;北京&#x27;,1);</span><br><span class="line">insert into `city` (`city_id`, `city_name`, `country_id`) values(4,&#x27;上海&#x27;,1);</span><br><span class="line"></span><br><span class="line">insert into `country` (`country_id`, `country_name`) values(1,&#x27;China&#x27;);</span><br><span class="line">insert into `country` (`country_id`, `country_name`) values(2,&#x27;America&#x27;);</span><br><span class="line">insert into `country` (`country_id`, `country_name`) values(3,&#x27;Japan&#x27;);</span><br><span class="line">insert into `country` (`country_id`, `country_name`) values(4,&#x27;UK&#x27;);</span><br></pre></td></tr></table></figure>
<h4 id="创建索引">1.5.1 创建索引</h4>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE 	[UNIQUE|FULLTEXT|SPATIAL]  INDEX index_name </span><br><span class="line">[USING  index_type]</span><br><span class="line">ON table_name(index_col_name,...);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">index_col_name : column_name[(length)][ASC | DESC]</span><br></pre></td></tr></table></figure>
<p>示例 ： 为 city 表中的 city_name 字段创建索引 ；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX idx_city_name ON city(city_name);    </span><br></pre></td></tr></table></figure>
<h4 id="查看索引">1.5.2 查看索引</h4>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show index from table_name;</span><br></pre></td></tr></table></figure>
<p>示例：查看city表中的索引信息；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; SHOW INDEX FROM city;</span><br><span class="line">mysql&gt; SHOW INDEX FROM city\G;</span><br><span class="line"></span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">        Table: city</span><br><span class="line">   Non_unique: 0</span><br><span class="line">     Key_name: PRIMARY</span><br><span class="line"> Seq_in_index: 1</span><br><span class="line">  Column_name: city_id</span><br><span class="line">    Collation: A</span><br><span class="line">  Cardinality: 2</span><br><span class="line">     Sub_part: NULL</span><br><span class="line">       Packed: NULL</span><br><span class="line">         Null:</span><br><span class="line">   Index_type: BTREE</span><br><span class="line">      Comment:</span><br><span class="line">Index_comment:</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">        Table: city</span><br><span class="line">   Non_unique: 1</span><br><span class="line">     Key_name: idx_city_name</span><br><span class="line"> Seq_in_index: 1</span><br><span class="line">  Column_name: city_name</span><br><span class="line">    Collation: A</span><br><span class="line">  Cardinality: 4</span><br><span class="line">     Sub_part: NULL</span><br><span class="line">       Packed: NULL</span><br><span class="line">         Null:</span><br><span class="line">   Index_type: BTREE</span><br><span class="line">      Comment:</span><br><span class="line">Index_comment:</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<h4 id="删除索引">1.5.3 删除索引</h4>
<p>语法 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX index_name ON table_name;</span><br></pre></td></tr></table></figure>
<p>示例 ： 想要删除city表上的索引idx_city_name，可以操作如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP INDEX idx_city_name ON city;</span><br></pre></td></tr></table></figure>
<h4 id="alter命令">1.5.4 ALTER命令</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1). alter table tb_name add primary key(column_list); </span><br><span class="line">	-- 该语句添加一个主键，这意味着索引值必须是唯一的，且不能为NULL</span><br><span class="line">	</span><br><span class="line">2). alter table tb_name add unique index_name(column_list);</span><br><span class="line">	-- 这条语句创建索引的值必须是唯一的（除了NULL外，NULL可能会出现多次）</span><br><span class="line">	</span><br><span class="line">3). alter table tb_name add index index_name(column_list);</span><br><span class="line">	-- 添加普通索引， 索引值可以出现多次。</span><br><span class="line">	</span><br><span class="line">4). alter table tb_name add fulltext index_name(column_list);</span><br><span class="line">	-- 该语句指定了索引为FULLTEXT， 用于全文索引</span><br></pre></td></tr></table></figure>
<h3 id="索引设计原则">1.6 索引设计原则</h3>
<p>索引的设计可以遵循一些已有的原则，创建索引的时候请尽量考虑符合这些原则，便于提升索引的使用效率，更高效的使用索引。</p>
<ul>
<li><p>对查询频次较高，且数据量比较大的表建立索引。</p></li>
<li><p>索引字段的选择，最佳候选列应当从 where 子句的条件中提取，如果 where 子句中的组合比较多，那么应当挑选最常用、过滤效果最好的列的组合。</p></li>
<li><p>使用唯一索引，区分度越高，使用索引的效率越高。</p></li>
<li><p>索引可以有效的提升查询数据的效率，但索引数量不是多多益善，索引越多，维护索引的代价自然也就水涨船高。对于插入、更新、删除等 DML 操作比较频繁的表来说，索引过多，会引入相当高的维护代价，降低 DML操作的效率，增加相应操作的时间消耗。另外索引过多的话，MySQL也会犯选择困难病，虽然最终仍然会找到一个可用的索引，但无疑提高了选择的代价。</p></li>
<li><p>使用短索引，索引创建之后也是使用硬盘来存储的，因此提升索引访问的 I/O 效率，也可以提升总体的访问效率。假如构成索引的字段总长度比较短，那么在给定大小的存储块内可以存储更多的索引值，相应的可以有效的提升 MySQL 访问索引的 I/O 效率。</p></li>
<li><p>利用<strong>最左前缀</strong>，N个列组合而成的组合索引，那么相当于是创建了N个索引，如果查询时 where 子句中使用了组成该索引的前几个字段，那么这条查询 SQL 可以利用组合索引来提升查询效率。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-- 创建复合索引:</span><br><span class="line">CREATE INDEX idx_name_email_status ON tb_seller(NAME, email, STATUS);</span><br><span class="line"></span><br><span class="line">-- 就相当于</span><br><span class="line">--   对name 创建索引 ;</span><br><span class="line">--   对name , email 创建了索引 ;</span><br><span class="line">--   对name , email, status 创建了索引 ;</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="视图">2. 视图</h2>
<h3 id="视图概述">2.1 视图概述</h3>
<p>视图（View）是一种虚拟存在的表。视图并不在数据库中实际存在，行和列数据来自定义视图的查询中使用的表，并且是在使用视图时<strong>动态生成</strong>的。通俗的讲，视图就是一条 SELECT 语句执行后返回的结果集。所以我们在创建视图的时候，主要的工作就落在创建这条SQL查询语句上。</p>
<p>视图相对于普通的表的优势主要包括以下几项。</p>
<ul>
<li>简单：使用视图的用户完全不需要关心后面对应的表的结构、关联条件和筛选条件，对用户来说已经是过滤好的复合条件的结果集。</li>
<li>安全：使用视图的用户只能访问他们被允许查询的结果集，对表的权限管理并不能限制到某个行某个列，但是通过视图就可以简单的实现。</li>
<li>数据独立：一旦视图的结构确定了，可以屏蔽表结构变化对用户的影响，源表增加列对视图没有影响；源表修改列名，则可以通过修改视图来解决，不会造成对访问者的影响。</li>
</ul>
<h3 id="创建或者修改视图">2.2 创建或者修改视图</h3>
<p>创建视图的语法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE [OR REPLACE] [ALGORITHM = &#123;UNDEFINED | MERGE | TEMPTABLE&#125;]</span><br><span class="line">VIEW view_name [(column_list)]</span><br><span class="line">AS select_statement</span><br><span class="line">[WITH [CASCADED | LOCAL] CHECK OPTION]</span><br></pre></td></tr></table></figure>
<p>修改视图的语法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ALTER [ALGORITHM = &#123;UNDEFINED | MERGE | TEMPTABLE&#125;]</span><br><span class="line">VIEW view_name [(column_list)]</span><br><span class="line">AS select_statement</span><br><span class="line">[WITH [CASCADED | LOCAL] CHECK OPTION]</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-- 选项: </span><br><span class="line">	[WITH [CASCADED | LOCAL] CHECK OPTION]  -- 决定了是否允许更新数据使记录不再满足视图的条件。</span><br><span class="line">	</span><br><span class="line">	LOCAL ： 只要满足本视图的条件就可以更新。</span><br><span class="line">	CASCADED ： 必须满足所有针对该视图的所有视图的条件才可以更新。 默认值.</span><br></pre></td></tr></table></figure>
<p>示例 , 创建 city_country_view 视图 , 执行如下SQL :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create or replace </span><br><span class="line">view city_country_view </span><br><span class="line">as </span><br><span class="line">select t.*, c.country_name from country c , city t where c.country_id = t.country_id;</span><br></pre></td></tr></table></figure>
<p>查询视图 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from city_country_view;</span><br><span class="line"></span><br><span class="line">+---------+-----------+------------+--------------+</span><br><span class="line">| city_id | city_name | country_id | country_name |</span><br><span class="line">+---------+-----------+------------+--------------+</span><br><span class="line">|       1 | 西安       |          1 | China        |</span><br><span class="line">|       3 | 北京       |          1 | China        |</span><br><span class="line">|       4 | 上海       |          1 | China        |</span><br><span class="line">|       2 | NewYork   |          2 | America      |</span><br><span class="line">+---------+-----------+------------+--------------+</span><br></pre></td></tr></table></figure>
<h3 id="查看视图">2.3 查看视图</h3>
<p>从 MySQL 5.1 版本开始，使用 SHOW TABLES 命令的时候不仅显示表的名字，同时也会显示视图的名字，而不存在单独显示视图的 SHOW VIEWS 命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+------------------+</span><br><span class="line">| Tables_in_db1    |</span><br><span class="line">+------------------+</span><br><span class="line">| city             |</span><br><span class="line">| city_contry_view |</span><br><span class="line">| country          |</span><br><span class="line">+------------------+	 </span><br></pre></td></tr></table></figure>
<p>同样，在使用 <code>SHOW TABLE STATUS</code> 命令的时候，不但可以显示表的信息，同时也可以显示视图的信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show table status like &#x27;city_country_view&#x27;\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">           Name: city_country_view</span><br><span class="line">         Engine: NULL</span><br><span class="line">        Version: NULL</span><br><span class="line">     Row_format: NULL</span><br><span class="line">           Rows: NULL</span><br><span class="line"> Avg_row_length: NULL</span><br><span class="line">    Data_length: NULL</span><br><span class="line">Max_data_length: NULL</span><br><span class="line">   Index_length: NULL</span><br><span class="line">      Data_free: NULL</span><br><span class="line"> Auto_increment: NULL</span><br><span class="line">    Create_time: NULL</span><br><span class="line">    Update_time: NULL</span><br><span class="line">     Check_time: NULL</span><br><span class="line">      Collation: NULL</span><br><span class="line">       Checksum: NULL</span><br><span class="line"> Create_options: NULL</span><br><span class="line">        Comment: VIEW</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>如果需要查询某个视图的定义，可以使用 <code>SHOW CREATE VIEW</code> 命令进行查看 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create view city_country_view;  </span><br></pre></td></tr></table></figure>
<h3 id="删除视图">2.4 删除视图</h3>
<p>语法 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW [IF EXISTS] view_name [, view_name] ...[RESTRICT | CASCADE]	</span><br></pre></td></tr></table></figure>
<p>示例 , 删除视图 city_country_view :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP VIEW city_country_view;</span><br></pre></td></tr></table></figure>
<h2 id="存储过程和函数">3. 存储过程和函数</h2>
<h3 id="存储过程和函数概述">3.1 存储过程和函数概述</h3>
<p>存储过程和函数是：<strong>事先经过编译并存储在数据库中的一段 SQL 语句的集合</strong>，调用存储过程和函数可以简化应用开发人员的很多工作，减少数据在数据库和应用服务器之间的传输，对于提高数据处理的效率是有好处的。</p>
<p>存储过程和函数的<strong>区别</strong>在于函数必须有返回值，而存储过程没有。</p>
<ul>
<li>函数 ： 是一个有返回值的过程 ；</li>
<li>过程 ： 是一个没有返回值的函数 ；</li>
</ul>
<h3 id="创建存储过程">3.2 创建存储过程</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE PROCEDURE procedure_name ([proc_parameter[,...]])</span><br><span class="line">begin</span><br><span class="line">	-- SQL语句</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<p>示例 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test1()</span><br><span class="line">begin</span><br><span class="line">	select &#x27;Hello Mysql&#x27; ;</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call pro_test1();   -- 输出：Hello Mysql</span><br></pre></td></tr></table></figure>
<p><strong>Tips：<code>DELIMITER</code></strong></p>
<p>该关键字用来声明SQL语句的分隔符 , 告诉 MySQL 解释器，该段命令是否已经结束了，MySQL 是否可以执行了。默认情况下，delimiter是分号<code>;</code>。在命令行客户端中，如果有一行命令以分号结束，那么回车后，MySQL 将会执行该命令。</p>
<h3 id="调用存储过程">3.3 调用存储过程</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">call procedure_name();</span><br><span class="line"></span><br><span class="line">mysql&gt; call pro_test1();</span><br><span class="line">+-------------+</span><br><span class="line">| Hello Mysql |</span><br><span class="line">+-------------+</span><br><span class="line">| Hello Mysql |</span><br><span class="line">+-------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<h3 id="查看存储过程">4.4 查看存储过程</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-- 查询 db_name 数据库中的所有的存储过程</span><br><span class="line">select name from mysql.proc where db=&#x27;db_name&#x27;;</span><br><span class="line"></span><br><span class="line">-- example:</span><br><span class="line">mysql&gt; SELECT NAME FROM mysql.`proc` WHERE db=&quot;demo_01&quot;;</span><br><span class="line">+-----------+</span><br><span class="line">| NAME      |</span><br><span class="line">+-----------+</span><br><span class="line">| pro_test1 |</span><br><span class="line">+-----------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">-- 查询存储过程的状态信息</span><br><span class="line">show procedure status;</span><br><span class="line"></span><br><span class="line">-- 查询某个存储过程的定义</span><br><span class="line">show create procedure procedure_name \G;</span><br></pre></td></tr></table></figure>
<h3 id="删除存储过程">3.5 删除存储过程</h3>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP PROCEDURE  [IF EXISTS] procedure_name;</span><br></pre></td></tr></table></figure>
<h3 id="语法">3.6 语法</h3>
<p>存储过程是可以编程的，意味着可以使用变量，表达式，控制结构，来完成比较复杂的功能。</p>
<h4 id="变量">3.6.1 变量</h4>
<ul>
<li>DECLARE</li>
</ul>
<p>通过 DECLARE 可以定义一个局部变量，该变量的作用范围只能在 BEGIN…END 块中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DECLARE var_name[,...] type [DEFAULT value];</span><br></pre></td></tr></table></figure>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test2() </span><br><span class="line">begin </span><br><span class="line">	declare num int default 5;</span><br><span class="line">	select num + 10; </span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ; </span><br><span class="line"></span><br><span class="line">call pro_test2();  -- 输出：15</span><br></pre></td></tr></table></figure>
<ul>
<li>SET</li>
</ul>
<p>直接赋值使用 SET，可以赋常量或者赋表达式，具体语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SET var_name = expr [, var_name = expr] ...;</span><br></pre></td></tr></table></figure>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line">  </span><br><span class="line">CREATE  PROCEDURE pro_test3()</span><br><span class="line">BEGIN</span><br><span class="line">	DECLARE NAME VARCHAR(20);</span><br><span class="line">	SET NAME = &#x27;MYSQL&#x27;;</span><br><span class="line">	SELECT NAME ;</span><br><span class="line">END$</span><br><span class="line">  </span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">call pro_test3();  -- 输出：MYSQL</span><br></pre></td></tr></table></figure>
<p>也可以通过 <code>select ... into</code> 方式进行赋值操作 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"></span><br><span class="line">CREATE  PROCEDURE pro_test4()</span><br><span class="line">BEGIN</span><br><span class="line">	DECLARE countnum INT;</span><br><span class="line">	SELECT COUNT(*) INTO countnum FROM city;</span><br><span class="line">	SELECT countnum;</span><br><span class="line">END$</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">call pro_test4();  -- 输出：4</span><br></pre></td></tr></table></figure>
<h4 id="if条件判断">3.6.2 if条件判断</h4>
<p>语法结构 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if search_condition then </span><br><span class="line">	statement_list;</span><br><span class="line"></span><br><span class="line">[elseif search_condition then </span><br><span class="line"> 	statement_list;] </span><br><span class="line"> </span><br><span class="line"> ...</span><br><span class="line">	</span><br><span class="line">[else statement_list;]</span><br><span class="line">	</span><br><span class="line">end if;</span><br></pre></td></tr></table></figure>
<p>需求：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">根据定义的身高变量，判定当前身高的所属的身材类型 </span><br><span class="line"></span><br><span class="line">	180 及以上 ----------&gt; 身材高挑</span><br><span class="line"></span><br><span class="line">	170 - 180  ---------&gt; 标准身材</span><br><span class="line"></span><br><span class="line">	170 以下  ----------&gt; 一般身材</span><br></pre></td></tr></table></figure>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test5()</span><br><span class="line">begin</span><br><span class="line">	declare  height  int  default  175; </span><br><span class="line">	declare  description  varchar(50);</span><br><span class="line">  </span><br><span class="line">	if  height &gt;= 180  then</span><br><span class="line">		set description = &#x27;身材高挑&#x27;;</span><br><span class="line">	elseif height &gt;= 170 and height &lt; 180  then</span><br><span class="line">		set description = &#x27;标准身材&#x27;;</span><br><span class="line">	else</span><br><span class="line">		set description = &#x27;一般身材&#x27;;</span><br><span class="line">	end if;</span><br><span class="line">  </span><br><span class="line">	select description ;</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call pro_test5();  -- 输出：标准身材</span><br></pre></td></tr></table></figure>
<h4 id="传递参数">3.6.3 传递参数</h4>
<p>语法格式 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create procedure procedure_name([in/out/inout] 参数名 参数类型)</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">IN :   该参数可以作为输入，也就是需要调用方传入值，默认</span><br><span class="line">OUT:   该参数作为输出，也就是该参数可以作为返回值</span><br><span class="line">INOUT: 既可以作为输入参数，也可以作为输出参数</span><br></pre></td></tr></table></figure>
<p><strong>IN - 输入</strong></p>
<p>需求：根据定义的身高变量，判定当前身高的所属的身材类型</p>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test6(in height int)</span><br><span class="line">begin</span><br><span class="line">	declare description varchar(50) default &#x27;&#x27;;</span><br><span class="line">	if height &gt;= 180 then</span><br><span class="line">		set description=&#x27;身材高挑&#x27;;</span><br><span class="line">	elseif height &gt;= 170 and height &lt; 180 then</span><br><span class="line">    	set description=&#x27;标准身材&#x27;;</span><br><span class="line">	else</span><br><span class="line">		set description=&#x27;一般身材&#x27;;</span><br><span class="line">	end if;</span><br><span class="line">	select concat(&#x27;身高 &#x27;, height , &#x27;对应的身材类型为:&#x27;,description);</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">CALL pro_test6(155);  -- 输出：身高 155对应的身材类型为:一般身材</span><br></pre></td></tr></table></figure>
<p><strong>OUT-输出</strong></p>
<p>需求：根据传入的身高变量，获取当前身高的所属的身材类型</p>
<p>示例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test7(in height int, out description varchar(100))</span><br><span class="line">begin</span><br><span class="line">  if height &gt;= 180 then</span><br><span class="line">    set description=&#x27;身材高挑&#x27;;</span><br><span class="line">  elseif height &gt;= 170 and height &lt; 180 then</span><br><span class="line">    set description=&#x27;标准身材&#x27;;</span><br><span class="line">  else</span><br><span class="line">    set description=&#x27;一般身材&#x27;;</span><br><span class="line">  end if;</span><br><span class="line">end$	</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">-- 调用:</span><br><span class="line">CALL pro_test7(168, @description);</span><br><span class="line">SELECT @description;  -- 输出：一般身材</span><br></pre></td></tr></table></figure>
<p><strong>Tips：</strong></p>
<p><code>@description</code> : 这种变量要在变量名称前面加上“@”符号，叫做用户会话变量，代表整个会话过程他都是有作用的，这个类似于全局变量一样。</p>
<p><code>@@global.sort_buffer_size</code> : 这种在变量前加上 &quot;@@&quot; 符号, 叫做 系统变量</p>
<h4 id="case结构">3.6.4 case结构</h4>
<p>语法结构 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-- 方式一 : </span><br><span class="line">CASE case_value</span><br><span class="line"></span><br><span class="line">  WHEN when_value THEN </span><br><span class="line">  	statement_list;</span><br><span class="line">  </span><br><span class="line">  [WHEN when_value THEN </span><br><span class="line">   	statement_list;] </span><br><span class="line">   </span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  [ELSE statement_list;]</span><br><span class="line">  </span><br><span class="line">END CASE;</span><br><span class="line"></span><br><span class="line">-- 方式二 : </span><br><span class="line">CASE</span><br><span class="line"></span><br><span class="line">  WHEN search_condition THEN </span><br><span class="line">  	statement_list;</span><br><span class="line">  </span><br><span class="line">  [WHEN search_condition THEN </span><br><span class="line">   	statement_list;] </span><br><span class="line">  </span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  [ELSE statement_list;]</span><br><span class="line">  </span><br><span class="line">END CASE;</span><br></pre></td></tr></table></figure>
<p>需求：给定一个月份, 然后计算出所在的季度</p>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test8(month int)</span><br><span class="line">begin</span><br><span class="line">  declare result varchar(20);</span><br><span class="line">  case </span><br><span class="line">    when month &gt;= 1 and month &lt;=3 then </span><br><span class="line">      set result = &#x27;第一季度&#x27;;</span><br><span class="line">    when month &gt;= 4 and month &lt;=6 then </span><br><span class="line">      set result = &#x27;第二季度&#x27;;</span><br><span class="line">    when month &gt;= 7 and month &lt;=9 then </span><br><span class="line">      set result = &#x27;第三季度&#x27;;</span><br><span class="line">    when month &gt;= 10 and month &lt;=12 then </span><br><span class="line">      set result = &#x27;第四季度&#x27;;</span><br><span class="line">  end case;</span><br><span class="line">  </span><br><span class="line">  select concat(&#x27;您输入的月份为 :&#x27;, month , &#x27; , 该月份为 : &#x27; , result) as content ;</span><br><span class="line">  </span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call pro_test8(6);  -- 输出：您输入的月份为 :6 , 该月份为 : 第二季度</span><br></pre></td></tr></table></figure>
<h4 id="while循环">3.6.5 while循环</h4>
<p>语法结构:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">while search_condition do</span><br><span class="line"></span><br><span class="line">	statement_list;</span><br><span class="line">	</span><br><span class="line">end while;</span><br></pre></td></tr></table></figure>
<p>需求：计算从1加到n的值</p>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test9(n int)</span><br><span class="line">begin</span><br><span class="line">  declare total int default 0;</span><br><span class="line">  declare num int default 1;</span><br><span class="line">  while num&lt;=n do</span><br><span class="line">    set total = total + num;</span><br><span class="line">	set num = num + 1;</span><br><span class="line">  end while;</span><br><span class="line">  select total;</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">CALL pro_test9(10);  -- 输出：55</span><br></pre></td></tr></table></figure>
<h4 id="repeat结构">3.6.6 repeat结构</h4>
<p>有条件的循环控制语句，当满足条件的时候退出循环。</p>
<ul>
<li>while 是满足条件才执行；</li>
<li>repeat 是满足条件就退出循环。</li>
</ul>
<p>语法结构 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">REPEAT</span><br><span class="line"></span><br><span class="line">  statement_list;</span><br><span class="line"></span><br><span class="line">  UNTIL search_condition</span><br><span class="line"></span><br><span class="line">END REPEAT;</span><br></pre></td></tr></table></figure>
<p>需求: 计算从1加到n的值</p>
<p>示例 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create procedure pro_test10(n int)</span><br><span class="line">begin</span><br><span class="line">  declare total int default 0;</span><br><span class="line">  </span><br><span class="line">  repeat </span><br><span class="line">    set total = total + n;</span><br><span class="line">    set n = n - 1;</span><br><span class="line">    until n=0  </span><br><span class="line">  end repeat;</span><br><span class="line">  </span><br><span class="line">  select total ;</span><br><span class="line">  </span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">call pro_test10(10);  -- 输出：55</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>注意</strong>：until 后是没有分隔符的</p>
</blockquote>
<h4 id="loop语句">3.6.7 loop语句</h4>
<p>LOOP 实现简单的循环，退出循环的条件需要使用其他的语句定义，通常可以使用 <code>LEAVE</code> 语句实现，具体语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[begin_label:] LOOP</span><br><span class="line"></span><br><span class="line">  statement_list;</span><br><span class="line"></span><br><span class="line">END LOOP [end_label];</span><br></pre></td></tr></table></figure>
<p>如果不在 statement_list 中增加退出循环的语句，那么 LOOP 语句可以用来实现简单的死循环。</p>
<h4 id="leave语句">3.6.8 leave语句</h4>
<p>用来从标注的流程构造中退出，通常和 BEGIN ... END 或者循环一起使用。下面是一个使用 LOOP 和 LEAVE 的简单例子 , 退出循环：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">CREATE PROCEDURE pro_test11(n int)</span><br><span class="line">BEGIN</span><br><span class="line">  declare total int default 0;</span><br><span class="line">  </span><br><span class="line">  ins: LOOP</span><br><span class="line">    </span><br><span class="line">    IF n &lt;= 0 then</span><br><span class="line">      leave ins;</span><br><span class="line">    END IF;</span><br><span class="line">    </span><br><span class="line">    set total = total + n;</span><br><span class="line">    set n = n - 1;</span><br><span class="line">  	</span><br><span class="line">  END LOOP ins;</span><br><span class="line">  </span><br><span class="line">  select total;</span><br><span class="line">END$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line">CALL pro_test11(10);  -- 输出：55</span><br></pre></td></tr></table></figure>
<h4 id="游标光标">3.6.9 游标/光标</h4>
<p>游标是用来存储查询结果集的数据类型 , 在存储过程和函数中可以使用光标对结果集进行循环的处理。光标的使用包括光标的声明、OPEN、FETCH 和 CLOSE，其语法分别如下。</p>
<ul>
<li>声明光标：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DECLARE cursor_name CURSOR FOR select_statement ;</span><br></pre></td></tr></table></figure>
<ul>
<li>OPEN 光标：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OPEN cursor_name ;</span><br></pre></td></tr></table></figure>
<ul>
<li>FETCH 光标：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FETCH cursor_name INTO var_name [, var_name] ...</span><br></pre></td></tr></table></figure>
<ul>
<li>CLOSE 光标：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CLOSE cursor_name ;</span><br></pre></td></tr></table></figure>
<p><strong>示例</strong> :</p>
<ul>
<li>初始化脚本:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table emp(</span><br><span class="line">  id int(11) not null auto_increment ,</span><br><span class="line">  name varchar(50) not null comment &#x27;姓名&#x27;,</span><br><span class="line">  age int(11) comment &#x27;年龄&#x27;,</span><br><span class="line">  salary int(11) comment &#x27;薪水&#x27;,</span><br><span class="line">  primary key(`id`)</span><br><span class="line">)engine=innodb default charset=utf8 ;</span><br><span class="line"></span><br><span class="line">insert into emp(id,name,age,salary) values(null,&#x27;金毛狮王&#x27;,55,3800),(null,&#x27;白眉鹰王&#x27;,60,4000),(null,&#x27;青翼蝠王&#x27;,38,2800),(null,&#x27;紫衫龙王&#x27;,42,1800);</span><br></pre></td></tr></table></figure>
<ul>
<li>使用</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line">-- 查询emp表中数据, 并逐行获取进行展示</span><br><span class="line">create procedure pro_test12()</span><br><span class="line">begin</span><br><span class="line">  declare e_id int(11);</span><br><span class="line">  declare e_name varchar(50);</span><br><span class="line">  declare e_age int(11);</span><br><span class="line">  declare e_salary int(11);</span><br><span class="line">  declare emp_result cursor for select * from emp;  -- 声明游标</span><br><span class="line">  </span><br><span class="line">  open emp_result;  -- 打开游标</span><br><span class="line">  </span><br><span class="line">  fetch emp_result into e_id,e_name,e_age,e_salary;  -- fetch光标</span><br><span class="line">  select concat(&#x27;id=&#x27;,e_id , &#x27;, name=&#x27;,e_name, &#x27;, age=&#x27;, e_age, &#x27;, 薪资为: &#x27;,e_salary);</span><br><span class="line">  </span><br><span class="line">  fetch emp_result into e_id,e_name,e_age,e_salary;</span><br><span class="line">  select concat(&#x27;id=&#x27;,e_id , &#x27;, name=&#x27;,e_name, &#x27;, age=&#x27;, e_age, &#x27;, 薪资为: &#x27;,e_salary);</span><br><span class="line">  </span><br><span class="line">  fetch emp_result into e_id,e_name,e_age,e_salary;</span><br><span class="line">  select concat(&#x27;id=&#x27;,e_id , &#x27;, name=&#x27;,e_name, &#x27;, age=&#x27;, e_age, &#x27;, 薪资为: &#x27;,e_salary);</span><br><span class="line">  </span><br><span class="line">  fetch emp_result into e_id,e_name,e_age,e_salary;</span><br><span class="line">  select concat(&#x27;id=&#x27;,e_id , &#x27;, name=&#x27;,e_name, &#x27;, age=&#x27;, e_age, &#x27;, 薪资为: &#x27;,e_salary);</span><br><span class="line">  </span><br><span class="line">  fetch emp_result into e_id,e_name,e_age,e_salary;</span><br><span class="line">  select concat(&#x27;id=&#x27;,e_id , &#x27;, name=&#x27;,e_name, &#x27;, age=&#x27;, e_age, &#x27;, 薪资为: &#x27;,e_salary);</span><br><span class="line">  </span><br><span class="line">  close emp_result;  -- 关闭光标</span><br><span class="line">end$</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<p>通过循环结构 , 获取游标中的数据 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"></span><br><span class="line">create procedure pro_test12()</span><br><span class="line">begin</span><br><span class="line">  DECLARE id int(11);</span><br><span class="line">  DECLARE name varchar(50);</span><br><span class="line">  DECLARE age int(11);</span><br><span class="line">  DECLARE salary int(11);</span><br><span class="line">  DECLARE has_data int default 1;</span><br><span class="line">  </span><br><span class="line">  DECLARE emp_result CURSOR FOR select * from emp;</span><br><span class="line">  DECLARE EXIT HANDLER FOR NOT FOUND set has_data = 0;</span><br><span class="line">  </span><br><span class="line">  open emp_result;</span><br><span class="line">  </span><br><span class="line">  repeat</span><br><span class="line">    fetch emp_result into id , name , age , salary;</span><br><span class="line">    select concat(&#x27;id为&#x27;,id, &#x27;, name 为&#x27; ,name , &#x27;, age为 &#x27; ,age , &#x27;, 薪水为: &#x27;, salary);</span><br><span class="line">    until has_data = 0</span><br><span class="line">  end repeat;</span><br><span class="line">  </span><br><span class="line">  close emp_result;</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">DELIMITER ; </span><br></pre></td></tr></table></figure>
<h3 id="存储函数">3.7 存储函数</h3>
<p>语法结构:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE FUNCTION function_name([param type ... ]) </span><br><span class="line">RETURNS type </span><br><span class="line">BEGIN</span><br><span class="line">	...</span><br><span class="line">END;</span><br></pre></td></tr></table></figure>
<p>案例 : 定义一个存储函数, 请求满足条件的总记录数 ;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">delimiter $</span><br><span class="line"></span><br><span class="line">create function count_city(countryId int)</span><br><span class="line">returns int</span><br><span class="line">begin</span><br><span class="line">  declare cnum int ;</span><br><span class="line">  </span><br><span class="line">  select count(*) into cnum from city where country_id = countryId;</span><br><span class="line">  </span><br><span class="line">  return cnum;</span><br><span class="line">end$</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br></pre></td></tr></table></figure>
<p>调用:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select count_city(1);  -- 3 </span><br><span class="line">select count_city(2);  -- 1</span><br></pre></td></tr></table></figure>
<h2 id="触发器">4. 触发器</h2>
<h3 id="介绍">4.1 介绍</h3>
<p>触发器是与表有关的数据库对象，指在 insert/update/delete 之前或之后，触发并执行触发器中定义的 SQL 语句集合。触发器的这种特性可以协助应用在数据库端确保数据的完整性 , 日志记录 , 数据校验等操作 。</p>
<p>使用别名 OLD 和 NEW 来引用触发器中发生变化的记录内容，这与其他的数据库是相似的。现在触发器还只支持行级触发，不支持语句级触发。</p>
<table>
<thead>
<tr class="header">
<th>触发器类型</th>
<th>NEW 和 OLD的使用</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>INSERT 型触发器</td>
<td>NEW 表示将要或者已经新增的数据</td>
</tr>
<tr class="even">
<td>UPDATE 型触发器</td>
<td>OLD 表示修改之前的数据 , NEW 表示将要或已经修改后的数据</td>
</tr>
<tr class="odd">
<td>DELETE 型触发器</td>
<td>OLD 表示将要或者已经删除的数据</td>
</tr>
</tbody>
</table>
<h3 id="创建触发器">4.2 创建触发器</h3>
<p>语法结构 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">create trigger trigger_name </span><br><span class="line"></span><br><span class="line">before/after insert/update/delete</span><br><span class="line"></span><br><span class="line">on tbl_name </span><br><span class="line"></span><br><span class="line">[ for each row ]  -- 行级触发器</span><br><span class="line"></span><br><span class="line">begin</span><br><span class="line"></span><br><span class="line">	trigger_stmt;</span><br><span class="line"></span><br><span class="line">end;</span><br></pre></td></tr></table></figure>
<p><strong>示例</strong>:</p>
<p>需求：通过触发器记录 emp 表的数据变更日志，包含增加，修改，删除 ;</p>
<ul>
<li>首先创建一张日志表 :</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table emp_logs(</span><br><span class="line">  id int(11) not null auto_increment,</span><br><span class="line">  operation varchar(20) not null comment &#x27;操作类型, insert/update/delete&#x27;,</span><br><span class="line">  operate_time datetime not null comment &#x27;操作时间&#x27;,</span><br><span class="line">  operate_id int(11) not null comment &#x27;操作表的ID&#x27;,</span><br><span class="line">  operate_params varchar(500) comment &#x27;操作参数&#x27;,</span><br><span class="line">  primary key(`id`)</span><br><span class="line">)engine=innodb default charset=utf8;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建 insert 型触发器，完成插入数据时的日志记录 :</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"></span><br><span class="line">create trigger emp_logs_insert_trigger</span><br><span class="line">after insert </span><br><span class="line">on emp </span><br><span class="line">for each row </span><br><span class="line">begin</span><br><span class="line">  insert into emp_logs (id,operation,operate_time,operate_id,operate_params) values(null,&#x27;insert&#x27;,now(),new.id,concat(&#x27;插入后(id:&#x27;,new.id,&#x27;, name:&#x27;,new.name,&#x27;, age:&#x27;,new.age,&#x27;, salary:&#x27;,new.salary,&#x27;)&#x27;));	</span><br><span class="line">end $</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建 update 型触发器，完成更新数据时的日志记录 :</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"></span><br><span class="line">create trigger emp_logs_update_trigger</span><br><span class="line">after update </span><br><span class="line">on emp </span><br><span class="line">for each row </span><br><span class="line">begin</span><br><span class="line">  insert into emp_logs (id,operation,operate_time,operate_id,operate_params) values(null,&#x27;update&#x27;,now(),new.id,concat(&#x27;修改前(id:&#x27;,old.id,&#x27;, name:&#x27;,old.name,&#x27;, age:&#x27;,old.age,&#x27;, salary:&#x27;,old.salary,&#x27;) , 修改后(id&#x27;,new.id, &#x27;name:&#x27;,new.name,&#x27;, age:&#x27;,new.age,&#x27;, salary:&#x27;,new.salary,&#x27;)&#x27;));                                                                      </span><br><span class="line">end $</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<ul>
<li>创建 delete 行的触发器 , 完成删除数据时的日志记录 :</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"></span><br><span class="line">create trigger emp_logs_delete_trigger</span><br><span class="line">after delete </span><br><span class="line">on emp </span><br><span class="line">for each row </span><br><span class="line">begin</span><br><span class="line">  insert into emp_logs (id,operation,operate_time,operate_id,operate_params) values(null,&#x27;delete&#x27;,now(),old.id,concat(&#x27;删除前(id:&#x27;,old.id,&#x27;, name:&#x27;,old.name,&#x27;, age:&#x27;,old.age,&#x27;, salary:&#x27;,old.salary,&#x27;)&#x27;));                                                                      </span><br><span class="line">end $</span><br><span class="line"></span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>
<ul>
<li>测试：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">insert into emp(id,name,age,salary) values(null, &#x27;光明左使&#x27;,30,3500);</span><br><span class="line">insert into emp(id,name,age,salary) values(null, &#x27;光明右使&#x27;,33,3200);</span><br><span class="line"></span><br><span class="line">update emp set age = 39 where id = 3;</span><br><span class="line"></span><br><span class="line">delete from emp where id = 5;</span><br><span class="line"></span><br><span class="line">-- 查看 emp_logs 表，是否有记录</span><br><span class="line">    id  operation operate_time         operate_id  operate_params</span><br><span class="line">    ------  --------- -------------------  ----------  -----------------</span><br><span class="line">  1  insert  2021-02-27 00:50:32   5  插入后(id:5, name:光明左使, age:30, salary:3500)                                                         </span><br><span class="line">  2  insert  2021-02-27 00:50:32   6  插入后(id:6, name:光明右使, age:33, salary:3200)                                                         </span><br><span class="line">  3  update  2021-02-27 00:50:32   3  修改前(id:3, name:青翼蝠王, age:38, salary:2800) , 修改后(id3name:青翼蝠王, age:39, salary:2800)  </span><br><span class="line">  4  delete  2021-02-27 00:50:32   5  删除前(id:5, name:光明左使, age:30, salary:3500)      </span><br></pre></td></tr></table></figure>
<h3 id="删除触发器">4.3 删除触发器</h3>
<p>语法结构 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop trigger [schema_name.]trigger_name</span><br></pre></td></tr></table></figure>
<p>如果没有指定 schema_name，默认为当前数据库 。</p>
<h3 id="查看触发器">4.4 查看触发器</h3>
<p>可以通过执行 <code>SHOW TRIGGERS</code> 命令查看触发器的状态、语法等信息。</p>
<p>语法结构 ：<code>show triggers;</code></p>

    </div>

    
    
    
	
	<div>
		
			<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

<div>
    
       <div style="text-align:center;color:#bfbfbf;font-size:16px;">
             <span>--- 本文结束 </span>
             <i class="fa fa-thumbs-o-up"></i>
             <span> 感谢阅读 ---</span>
       </div>
    
</div>
		
	</div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> 学习笔记</a>
              <a href="/tags/MySQL/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> MySQL</a>
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> 数据库</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/06/07/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/SpringBoot/Spring%20Boot%E7%AC%94%E8%AE%B0-4/" rel="prev" title="SpringBoot：学习笔记-4">
      <i class="fa fa-chevron-left"></i> SpringBoot：学习笔记-4
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/06/14/MySQL/MySQL%E6%8F%90%E9%AB%98%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/MySQL%EF%BC%9A%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-2/" rel="next" title="MySQL：提高笔记-2">
      MySQL：提高笔记-2 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql%E6%8F%90%E9%AB%98%E7%AC%94%E8%AE%B0-1"><span class="nav-text">MySQL：提高笔记-1</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-text">1. 索引</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%A6%82%E8%BF%B0"><span class="nav-text">1.1 索引概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8A%BF%E5%8A%A3%E5%8A%BF"><span class="nav-text">1.2 索引优势劣势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%BB%93%E6%9E%84"><span class="nav-text">1.3 索引结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#btree-%E7%BB%93%E6%9E%84"><span class="nav-text">1.3.1 BTREE 结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#btree%E7%BB%93%E6%9E%84"><span class="nav-text">1.3.3 B+TREE结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mysql%E4%B8%AD%E7%9A%84btree"><span class="nav-text">1.3.3 MySQL中的B+Tree</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%88%86%E7%B1%BB"><span class="nav-text">1.4 索引分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E8%AF%AD%E6%B3%95"><span class="nav-text">1.5 索引语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="nav-text">1.5.1 创建索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%B4%A2%E5%BC%95"><span class="nav-text">1.5.2 查看索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%B4%A2%E5%BC%95"><span class="nav-text">1.5.3 删除索引</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#alter%E5%91%BD%E4%BB%A4"><span class="nav-text">1.5.4 ALTER命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="nav-text">1.6 索引设计原则</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE"><span class="nav-text">2. 视图</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%A6%82%E8%BF%B0"><span class="nav-text">2.1 视图概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%88%96%E8%80%85%E4%BF%AE%E6%94%B9%E8%A7%86%E5%9B%BE"><span class="nav-text">2.2 创建或者修改视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%A7%86%E5%9B%BE"><span class="nav-text">2.3 查看视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%A7%86%E5%9B%BE"><span class="nav-text">2.4 删除视图</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0"><span class="nav-text">3. 存储过程和函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E5%92%8C%E5%87%BD%E6%95%B0%E6%A6%82%E8%BF%B0"><span class="nav-text">3.1 存储过程和函数概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">3.2 创建存储过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">3.3 调用存储过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">4.4 查看存储过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-text">3.5 删除存储过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%AD%E6%B3%95"><span class="nav-text">3.6 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-text">3.6.1 变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#if%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-text">3.6.2 if条件判断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="nav-text">3.6.3 传递参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#case%E7%BB%93%E6%9E%84"><span class="nav-text">3.6.4 case结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="nav-text">3.6.5 while循环</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#repeat%E7%BB%93%E6%9E%84"><span class="nav-text">3.6.6 repeat结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#loop%E8%AF%AD%E5%8F%A5"><span class="nav-text">3.6.7 loop语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#leave%E8%AF%AD%E5%8F%A5"><span class="nav-text">3.6.8 leave语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B8%B8%E6%A0%87%E5%85%89%E6%A0%87"><span class="nav-text">3.6.9 游标&#x2F;光标</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E5%87%BD%E6%95%B0"><span class="nav-text">3.7 存储函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-text">4. 触发器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8B%E7%BB%8D"><span class="nav-text">4.1 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-text">4.2 创建触发器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-text">4.3 删除触发器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-text">4.4 查看触发器</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ZhuCC"
      src="/images/%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">ZhuCC</p>
  <div class="site-description" itemprop="description">不急不躁。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">207</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">100</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
	  
	  
        <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
        <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
        <div class="widget-wrap">
            <div id="myCanvasContainer" class="widget tagcloud">
                <canvas width="250" height="250" id="resCanvas" style="width=100%">
                    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Anaconda/" rel="tag">Anaconda</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arthas/" rel="tag">Arthas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAT/" rel="tag">CAT</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CompletableFuture/" rel="tag">CompletableFuture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/" rel="tag">ELK</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearck/" rel="tag">Elasticsearck</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitee/" rel="tag">Gitee</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Groovy/" rel="tag">Groovy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDBC/" rel="tag">JDBC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/" rel="tag">JDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">76</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag">Java基础</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AF%AD%E6%B3%95/" rel="tag">Java语法</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K%E8%BF%91%E9%82%BB/" rel="tag">K近邻</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mock/" rel="tag">Mock</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mockito/" rel="tag">Mockito</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSS/" rel="tag">OSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/" rel="tag">OpenCV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Optional/" rel="tag">Optional</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stream/" rel="tag">Stream</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/" rel="tag">TCP/IP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ThreadLocal/" rel="tag">ThreadLocal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TortoiseGit/" rel="tag">TortoiseGit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TransmittableThreadLocal/" rel="tag">TransmittableThreadLocal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typora/" rel="tag">Typora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">lambda表达式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nvidia/" rel="tag">nvidia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E7%BB%8F%E5%8E%86/" rel="tag">个人经历</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">中间件</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/" rel="tag">全文检索</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%B3%E7%AD%96%E6%A0%91/" rel="tag">决策树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/" rel="tag">分类问题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">刷题</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" rel="tag">刷题笔记</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/" rel="tag">加密文章</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" rel="tag">博客搭建</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%82%E8%80%83%E6%96%87%E4%BB%B6/" rel="tag">参考文件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag">基础知识</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a><span class="tag-list-count">104</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="tag">并发编程</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" rel="tag">开发框架</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%90%E9%95%BF%E5%8F%B2/" rel="tag">成长史</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/" rel="tag">持久层框架</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" rel="tag">排序算法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">操作系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/" rel="tag">支持向量机</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6%E6%8E%A8%E5%AF%BC/" rel="tag">数学推导</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/" rel="tag">数据清洗</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%B8%B8/" rel="tag">日常</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/" rel="tag">日志框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">机器学习</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E7%BB%93%E6%9E%84/" rel="tag">树结构</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">树莓派</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" rel="tag">测试工具</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">消息队列</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">深度学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/" rel="tag">特征选择</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" rel="tag">环境配置</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/" rel="tag">目标检测</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" rel="tag">线性回归</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%9A%E7%B1%BB/" rel="tag">聚类</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%A8%E7%A4%BA%E5%B1%82/" rel="tag">表示层</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E8%B7%AF/" rel="tag">计算机网路</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">读书笔记</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E7%94%A8%E9%93%BE%E7%9B%91%E6%8E%A7/" rel="tag">调用链监控</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF/" rel="tag">贝叶斯</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/" rel="tag">软件使用</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/" rel="tag">逻辑回归</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88%E7%B1%BB/" rel="tag">集合类</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/" rel="tag">集成学习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E7%BB%8F/" rel="tag">面经</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/" rel="tag">面试笔记</a><span class="tag-list-count">61</span></li></ul>
                </canvas>
            </div>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZhuCC</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">3.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">55:19</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '3it0tVBbppFeFBVa8QgB3vxM-gzGzoHsz',
      appKey     : '9VtnMWSrhAtC1pSRaA4Rivx9',
      placeholder: "请多多指教~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>
</html>
