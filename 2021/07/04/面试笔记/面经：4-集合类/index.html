<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/Mario.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/Mario.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="‰∏™‰∫∫Êï¥ÁêÜ üí™ ‰∏™‰∫∫‰∏ìÁî® üí™ ÊöëÊúüÂÆû‰π† üí™ ÁßãÊãõ üí™ ÂêéÁ´ØÂºÄÂèë üí™ ÂÖ´ËÇ°Êñá üò∂">
<meta property="og:type" content="article">
<meta property="og:title" content="Èù¢ÁªèÔºö4-ÈõÜÂêàÁ±ª">
<meta property="og:url" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/index.html">
<meta property="og:site_name" content="Ë¥§‰ΩôË∂Ö">
<meta property="og:description" content="‰∏™‰∫∫Êï¥ÁêÜ üí™ ‰∏™‰∫∫‰∏ìÁî® üí™ ÊöëÊúüÂÆû‰π† üí™ ÁßãÊãõ üí™ ÂêéÁ´ØÂºÄÂèë üí™ ÂÖ´ËÇ°Êñá üò∂">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/Collection.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/Map.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ1.png">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ2.png">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ3.png">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ1.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ2.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ3.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ4.PNG">
<meta property="og:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/ConcurrentHashMapÂàÜÊÆµÈîÅ.JPG">
<meta property="article:published_time" content="2021-07-04T02:24:00.000Z">
<meta property="article:modified_time" content="2021-07-04T02:24:00.000Z">
<meta property="article:author" content="ZhuCC">
<meta property="article:tag" content="Â≠¶‰π†Á¨îËÆ∞">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Èù¢ËØïÁ¨îËÆ∞">
<meta property="article:tag" content="Èù¢Áªè">
<meta property="article:tag" content="ÈõÜÂêàÁ±ª">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/Collection.PNG">

<link rel="canonical" href="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Èù¢ÁªèÔºö4-ÈõÜÂêàÁ±ª | Ë¥§‰ΩôË∂Ö</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a target="_blank" rel="noopener" href="https://github.com/zhuChengChao" class="github-corner" aria-label="View source on GitHub">
	<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
	<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
	<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
	<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
	</svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Ë¥§‰ΩôË∂Ö</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">‰∏Ä‰ΩçÂ∫ïÂ±ÇÁ†ÅÂÜú :-)</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>È¶ñÈ°µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>ÂÖ≥‰∫é</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Ê†áÁ≠æ<span class="badge">96</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>ÂàÜÁ±ª<span class="badge">18</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>ÂΩíÊ°£<span class="badge">203</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>ÊêúÁ¥¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="ÊêúÁ¥¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="ZhuCC">
      <meta itemprop="description" content="‰∏çÊÄ•‰∏çË∫Å„ÄÇ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ë¥§‰ΩôË∂Ö">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Èù¢ÁªèÔºö4-ÈõÜÂêàÁ±ª
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-07-04 10:24:00" itemprop="dateCreated datePublished" datetime="2021-07-04T10:24:00+08:00">2021-07-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%9D%A2%E7%BB%8F/" itemprop="url" rel="index"><span itemprop="name">Èù¢Áªè</span></a>
                </span>
                  Ôºå
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E9%9B%86%E5%90%88/" itemprop="url" rel="index"><span itemprop="name">JavaÈõÜÂêà</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">ValineÔºö</span>
    
    <a title="valine" href="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Êú¨ÊñáÂ≠óÊï∞">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Êú¨ÊñáÂ≠óÊï∞Ôºö</span>
              <span>42k</span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊó∂Èïø">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">ÈòÖËØªÊó∂Èïø &asymp;</span>
              <span>38 ÂàÜÈíü</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>‰∏™‰∫∫Êï¥ÁêÜ <span class="emoji" data-emoji="muscle">üí™</span> ‰∏™‰∫∫‰∏ìÁî® <span class="emoji" data-emoji="muscle">üí™</span> ÊöëÊúüÂÆû‰π† <span class="emoji" data-emoji="muscle">üí™</span> ÁßãÊãõ <span class="emoji" data-emoji="muscle">üí™</span> ÂêéÁ´ØÂºÄÂèë <span class="emoji" data-emoji="muscle">üí™</span> ÂÖ´ËÇ°Êñá <span class="emoji" data-emoji="no_mouth">üò∂</span></p>
<span id="more"></span>
<h1 id="Èù¢Áªè4-ÈõÜÂêàÁ±ª">Èù¢ÁªèÔºö4-ÈõÜÂêàÁ±ª</h1>
<h3 id="Â∏∏Áî®ÁöÑÂÆπÂô®">Â∏∏Áî®ÁöÑÂÆπÂô® <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p>Â∏∏ËßÅÂÆπÂô®‰∏ªË¶ÅÂåÖÊã¨ Collection Âíå Map ‰∏§ÁßçÔºå<strong>Collection Â≠òÂÇ®ÁùÄÂØπË±°ÁöÑÈõÜÂêà</strong>ÔºåËÄå <strong>Map Â≠òÂÇ®ÁùÄÈîÆÂÄºÂØπÔºà‰∏§‰∏™ÂØπË±°ÔºâÁöÑÊò†Â∞ÑË°®</strong>„ÄÇ</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/Collection.PNG" alt="Collection" style="zoom: 67%;"></p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/Map.PNG" alt="Map" style="zoom:67%;"></p>
<p><strong>Collection</strong></p>
<ul>
<li><p><strong>Set</strong></p>
<table>
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Set</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HashSet</td>
<td>Âü∫‰∫éÂìàÂ∏åË°®(HashMap)ÂÆûÁé∞ÔºåÊîØÊåÅÂø´ÈÄüÊü•ÊâæÔºå‰ΩÜ‰∏çÊîØÊåÅÊúâÂ∫èÊÄßÊìç‰Ωú„ÄÇ<br>Âπ∂‰∏îÂ§±Âéª‰∫ÜÂÖÉÁ¥†ÁöÑÊèíÂÖ•È°∫Â∫è‰ø°ÊÅØÔºå‰πüÂ∞±ÊòØËØ¥‰ΩøÁî® Iterator ÈÅçÂéÜ HashSet ÂæóÂà∞ÁöÑÁªìÊûúÊòØ‰∏çÁ°ÆÂÆöÁöÑ</td>
</tr>
<tr class="even">
<td>LinkedHashSet</td>
<td>ÂÖ∑Êúâ HashSet ÁöÑÊü•ÊâæÊïàÁéáÔºåÂ∫ïÂ±ÇÊòØ<strong>ÈìæË°®+ÂìàÂ∏åË°®</strong>„ÄÇ<br>‰ΩøÁî®ÂìàÂ∏åË°®Â≠òÂÇ®ÂÖÉÁ¥†ÔºåÂÜçÁª¥Êä§‰∏Ä‰∏™<strong>ÂèåÂêëÈìæË°®</strong>‰øùÂ≠òÂÖÉÁ¥†ÁöÑÊèíÂÖ•‰ø°ÊÅØ</td>
</tr>
<tr class="odd">
<td>TreeSet</td>
<td><strong>Âü∫‰∫éÁ∫¢ÈªëÊ†ëÂÆûÁé∞</strong>ÔºåÊîØÊåÅÊúâÂ∫èÊÄßÊìç‰ΩúÔºõ<br>‰æãÂ¶ÇÔºöÊ†πÊçÆ‰∏Ä‰∏™ËåÉÂõ¥Êü•ÊâæÂÖÉÁ¥†ÁöÑÊìç‰Ωú„ÄÇ<br>‰ΩÜÊòØÊü•ÊâæÊïàÁéá‰∏çÂ¶Ç HashSetÔºåHashSet Êü•ÊâæÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(1)ÔºåTreeSet Âàô‰∏∫ O(logN)</td>
</tr>
</tbody>
</table></li>
<li><p><strong>List</strong></p>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 85%">
</colgroup>
<thead>
<tr class="header">
<th>List</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ArrayList</td>
<td>Âü∫‰∫é<strong>Âä®ÊÄÅÊï∞ÁªÑ</strong>ÂÆûÁé∞ÔºåÊîØÊåÅÈöèÊú∫ËÆøÈóÆÔºå1.5ÂÄçÊâ©ÂÆπ</td>
</tr>
<tr class="even">
<td>Vector</td>
<td>Âíå ArrayList Á±ª‰ººÔºå‰ΩÜÂÆÉÊòØ<strong>Á∫øÁ®ãÂÆâÂÖ®</strong>ÁöÑÔºå2ÂÄçÊâ©ÂÆπ</td>
</tr>
<tr class="odd">
<td>LinkedList</td>
<td>Âü∫‰∫é<strong>ÂèåÂêëÈìæË°®ÂÆûÁé∞</strong>ÔºåÂè™ËÉΩÈ°∫Â∫èËÆøÈóÆÔºå‰ΩÜÊòØÂèØ‰ª•Âø´ÈÄüÂú∞Âú®ÈìæË°®‰∏≠Èó¥ÊèíÂÖ•ÂíåÂà†Èô§ÂÖÉÁ¥†„ÄÇ<br>‰∏ç‰ªÖÂ¶ÇÊ≠§ÔºåLinkedList ËøòÂèØ‰ª•Áî®‰ΩúÊ†à„ÄÅÈòüÂàóÂíåÂèåÂêëÈòüÂàó</td>
</tr>
</tbody>
</table></li>
<li><p><strong>Queue</strong></p>
<table>
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Queue</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>LinkedList</td>
<td>Âü∫‰∫éÈìæË°®ÂÆûÁé∞ÁöÑÈòüÂàóÔºåÂèØ‰ª•Áî®ÂÆÉÊù•ÂÆûÁé∞ÂèåÂêëÈòüÂàó</td>
</tr>
<tr class="even">
<td>PriorityQueue</td>
<td><strong>Âü∫‰∫éÂ†ÜÁªìÊûÑ</strong>ÂÆûÁé∞ÔºåÂèØ‰ª•Áî®ÂÆÉÊù•ÂÆûÁé∞‰ºòÂÖàÈòüÂàó</td>
</tr>
<tr class="odd">
<td>ArrayDeque</td>
<td>ÂÆûÁé∞‰∫Ü DequeÔºàÂèåÂêëÈòüÂàóÔºâÔºåDeque ÁªßÊâøËá™ Queue<br>‰ΩøÁî®‰∫ÜÂèØÂèòÊï∞ÁªÑÔºåÂèØ‰ª•ÂÅö‰∏∫ÈòüÂàóÊù•‰ΩøÁî®Ôºå‰πüÂèØ‰ª•‰Ωú‰∏∫Ê†à‰ΩøÁî®<br>ArrayDeque‰∏çÊîØÊåÅ<code>null</code>ÂÄº</td>
</tr>
</tbody>
</table></li>
</ul>
<p><strong>Map</strong></p>
<table>
<colgroup>
<col style="width: 17%">
<col style="width: 82%">
</colgroup>
<thead>
<tr class="header">
<th>Map</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>HashMap</td>
<td>Âü∫‰∫éÂìàÂ∏åË°®ÂÆûÁé∞</td>
</tr>
<tr class="even">
<td>LinkedHashMap</td>
<td>‰ΩøÁî®ÂèåÂêëÈìæË°®Êù•Áª¥Êä§ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÔºå<strong>È°∫Â∫è‰∏∫ÊèíÂÖ•È°∫Â∫èÊàñËÄÖÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÔºàLRUÔºåLeast Recently UsedÔºâÈ°∫Â∫è</strong></td>
</tr>
<tr class="odd">
<td>TreeMap</td>
<td>Âü∫‰∫é<strong>Á∫¢ÈªëÊ†ë</strong>ÂÆûÁé∞</td>
</tr>
<tr class="even">
<td>HashTable</td>
<td>Âíå HashMap Á±ª‰ººÔºå‰ΩÜÂÆÉÊòØ<strong>Á∫øÁ®ãÂÆâÂÖ®</strong>ÁöÑÔºåËøôÊÑèÂë≥ÁùÄÂêå‰∏ÄÊó∂ÂàªÂ§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ÂÜôÂÖ• HashTable Âπ∂‰∏î‰∏ç‰ºöÂØºËá¥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥<br>ÂÆÉÊòØ<strong>ÈÅóÁïôÁ±ª</strong>Ôºå‰∏çÂ∫îËØ•Âéª‰ΩøÁî®ÂÆÉ<br>Áé∞Âú®ÂèØ‰ª•‰ΩøÁî® ConcurrentHashMap Êù•ÊîØÊåÅÁ∫øÁ®ãÂÆâÂÖ®ÔºåÂÖ∂ÊïàÁéá‰ºöÊõ¥È´òÔºåÂõ†‰∏∫ÂºïÂÖ•‰∫ÜÂàÜÊÆµÈîÅÔºàJDK 7Ôºâ</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="list-set-map-ÁöÑÂå∫Âà´">List &amp; Set &amp; Map ÁöÑÂå∫Âà´</h3>
<ul>
<li><strong>List(ÂØπ‰ªòÈ°∫Â∫èÁöÑÂ•ΩÂ∏ÆÊâã)</strong>ÔºöList Êé•Âè£Â≠òÂÇ®‰∏ÄÁªÑ‰∏çÂîØ‰∏ÄÔºàÂèØ‰ª•ÊúâÂ§ö‰∏™ÂÖÉÁ¥†ÂºïÁî®Áõ∏ÂêåÁöÑÂØπË±°ÔºâÔºåÊúâÂ∫èÁöÑÂØπË±°</li>
<li><strong>Set(Ê≥®ÈáçÁã¨‰∏ÄÊó†‰∫åÁöÑÊÄßË¥®)</strong>Ôºö‰∏çÂÖÅËÆ∏ÈáçÂ§çÁöÑÈõÜÂêà„ÄÇ‰∏ç‰ºöÊúâÂ§ö‰∏™ÂÖÉÁ¥†ÂºïÁî®Áõ∏ÂêåÁöÑÂØπË±°„ÄÇ</li>
<li><strong>Map(Áî®KeyÊù•ÊêúÁ¥¢ÁöÑ‰∏ìÂÆ∂)</strong>Ôºö‰ΩøÁî®ÈîÆÂÄºÂØπÂ≠òÂÇ®„ÄÇMap‰ºöÁª¥Êä§‰∏éKeyÊúâÂÖ≥ËÅîÁöÑÂÄº„ÄÇ‰∏§‰∏™KeyÂèØ‰ª•ÂºïÁî®Áõ∏ÂêåÁöÑÂØπË±°Ôºå‰ΩÜKey‰∏çËÉΩÈáçÂ§çÔºåÂÖ∏ÂûãÁöÑKeyÊòØStringÁ±ªÂûãÔºå‰ΩÜ‰πüÂèØ‰ª•ÊòØ‰ªª‰ΩïÂØπË±°„ÄÇ</li>
</ul>
<table style="width:100%;">
<colgroup>
<col style="width: 5%">
<col style="width: 31%">
<col style="width: 31%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th>ÊØîËæÉ</th>
<th>LIst</th>
<th>Set</th>
<th>Map</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ÁªßÊâøÊé•Âè£</td>
<td>Collection</td>
<td>Collection</td>
<td>ÊòØ‰∏™Êé•Âè£</td>
</tr>
<tr class="even">
<td>Â∏∏ËßÅÂÆûÁé∞Á±ª</td>
<td>AbstractList<br>Â∏∏Áî®ÁöÑÂ≠êÁ±ªÊúâÔºö<br>ArrayList<br>LinkedList<br>Vector</td>
<td>AbstractSet<br>Â∏∏Áî®ÁöÑÂ≠êÁ±ªÊúâÔºö<br>HashSet<br>LinkedHashSet<br>TreeSet</td>
<td>ÂÆûÁé∞ÁöÑÁ±ªÔºö<br>HashMap<br>HashTable<br>LinkedHashMap</td>
</tr>
<tr class="odd">
<td>Â∏∏ËßÅÊñπÊ≥ï</td>
<td>add()<br>remove()<br>clear()<br>get()<br>contains()<br>size()<br>...</td>
<td>add()<br>remove()<br>clear()<br>get()<br>contains()<br>size()<br>...</td>
<td>put()<br>get()<br>remove()<br>clear()<br>containsKey()<br>containsValue()<br>keySet()<br>values()<br>size()<br>...</td>
</tr>
<tr class="even">
<td>ÂÖÉÁ¥†</td>
<td>ÂèØÈáçÂ§ç</td>
<td>‰∏çÂèØÈáçÂ§ç</td>
<td>‰∏çÂèØÈáçÂ§ç</td>
</tr>
<tr class="odd">
<td>È°∫Â∫è</td>
<td>ÊúâÂ∫è</td>
<td>‰∏ÄËà¨Êó†Â∫è(Áî±hashcodeÂÜ≥ÂÆö)</td>
<td>‰∏ÄËà¨Êó†Â∫è</td>
</tr>
<tr class="even">
<td>Á∫øÁ®ãÂÆâÂÖ®</td>
<td>VectorÁ∫øÁ®ãÂÆâÂÖ®</td>
<td></td>
<td>HashTableÁ∫øÁ®ãÂÆâÂÖ®</td>
</tr>
</tbody>
</table>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://blog.csdn.net/qq_41701956/article/details/103223461</p>
</blockquote>
<h3 id="Â¶Ç‰ΩïÈÄâÁî®ÈõÜÂêà">Â¶Ç‰ΩïÈÄâÁî®ÈõÜÂêà</h3>
<p>‰∏ªË¶ÅÊ†πÊçÆÈõÜÂêàÁöÑÁâπÁÇπÊù•ÈÄâÁî®ÔºåÊØîÂ¶ÇÊàë‰ª¨ÈúÄË¶Å<strong>Ê†πÊçÆÈîÆÂÄºËé∑ÂèñÂà∞ÂÖÉÁ¥†ÂÄº</strong>Êó∂Â∞±ÈÄâÁî® Map Êé•Âè£‰∏ãÁöÑÈõÜÂêàÔºõ</p>
<ul>
<li>ÈúÄË¶ÅÊéíÂ∫èÊó∂ÈÄâÊã© TreeMapÔºõ</li>
<li>‰∏çÈúÄË¶ÅÊéíÂ∫èÊó∂Â∞±ÈÄâÊã© HashMapÔºõ</li>
<li>ÈúÄË¶Å‰øùËØÅÁ∫øÁ®ãÂÆâÂÖ®Â∞±ÈÄâÁî® ConcurrentHashMap„ÄÇ</li>
</ul>
<p>ÂΩìÊàë‰ª¨<strong>Âè™ÈúÄË¶ÅÂ≠òÊîæÂÖÉÁ¥†ÂÄº</strong>Êó∂ÔºåÂ∞±ÈÄâÊã©ÂÆûÁé∞ Collection Êé•Âè£ÁöÑÈõÜÂêàÔºåÈúÄË¶Å‰øùËØÅÂÖÉÁ¥†ÂîØ‰∏ÄÊó∂ÈÄâÊã©ÂÆûÁé∞ Set Êé•Âè£ÁöÑÈõÜÂêàÊØîÂ¶Ç TreeSet Êàñ HashSetÔºå‰∏çÈúÄË¶ÅÂ∞±ÈÄâÊã©ÂÆûÁé∞ List Êé•Âè£ÁöÑÊØîÂ¶Ç ArrayList Êàñ LinkedListÔºåÁÑ∂ÂêéÂÜçÊ†πÊçÆÂÆûÁé∞Ëøô‰∫õÊé•Âè£ÁöÑÈõÜÂêàÁöÑÁâπÁÇπÊù•ÈÄâÁî®„ÄÇ</p>
<h3 id="arraylist-Âíå-linkedlist-ÁöÑÂå∫Âà´">ArrayList Âíå LinkedList ÁöÑÂå∫Âà´ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>ArrayListÔºö</strong>Â∫ïÂ±ÇÊòØÂü∫‰∫é<strong>Âä®ÊÄÅÊï∞ÁªÑ</strong>ÂÆûÁé∞ÁöÑÔºåÊü•ÊâæÂø´ÔºåÂ¢ûÂà†ËæÉÊÖ¢Ôºõ</p>
<p><strong>LinkedListÔºö</strong>Â∫ïÂ±ÇÊòØÂü∫‰∫éÈìæË°®ÂÆûÁé∞ÁöÑÔºåÊü•ÊâæÊÖ¢ÔºåÂ¢ûÂà†Âø´Ôºõ</p>
<ul>
<li>Á°ÆÂàáÁöÑËØ¥ÊòØÂèåÂêëÈìæË°®ÔºàJDK1.6 ‰πãÂâçÊòØÂèåÂêëÂæ™ÁéØÈìæË°®„ÄÅ<strong>JDK1.7 ‰πãÂêéÂèñÊ∂à‰∫ÜÂæ™ÁéØ</strong>ÔºâÔºåÊü•ÊâæÊÖ¢„ÄÅÂ¢ûÂà†Âø´„ÄÇ</li>
<li>LinkedList ÈìæË°®Áî±‰∏ÄÁ≥ªÂàóËäÇÁÇπËøûÊé•ËÄåÊàêÔºå‰∏Ä‰∏™ËäÇÁÇπÂåÖÂê´ 3 ‰∏™ÈÉ®ÂàÜÔºöÂÖÉÁ¥†ÂÜÖÂÆπ„ÄÅÂâçÈ©±ËäÇÁÇπÂíåÂêéÈ©±ËäÇÁÇπ„ÄÇ</li>
<li>ÈìæË°®ÂÜÖÈÉ®Êúâ‰∏Ä‰∏™ <strong>first ËäÇÁÇπ</strong>Ôºå‰∏∫ÈìæË°®‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºõÂÜÖÈÉ®Êúâ‰∏Ä‰∏™ <strong>last ËäÇÁÇπ</strong>Ôºå‰∏∫ÈìæË°®‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ</li>
</ul>
<blockquote>
<p><strong>Ë°•ÂÖÖÔºö</strong></p>
<p><strong>ArrayList ÁöÑÂ¢ûÂà†Êú™ÂøÖÂ∞±ÊòØÊØî LinkedList Ë¶ÅÊÖ¢Ôºö</strong></p>
<ol type="1">
<li><p>Â¶ÇÊûúÂ¢ûÂà†ÈÉΩÊòØÂú®Êú´Â∞æÊù•Êìç‰ΩúÔºàÊØèÊ¨°Ë∞ÉÁî®ÁöÑÈÉΩÊòØ <code>remove()</code> Âíå <code>add()</code>ÔºâÔºåÊ≠§Êó∂ ArrayList Â∞±‰∏çÈúÄË¶ÅÁßªÂä®ÂíåÂ§çÂà∂Êï∞ÁªÑÊù•ËøõË°åÊìç‰Ωú‰∫Ü„ÄÇÂ¶ÇÊûúÊï∞ÊçÆÈáèÊúâÁôæ‰∏áÁ∫ßÁöÑÊó∂ÔºåÈÄüÂ∫¶ÊòØ‰ºöÊØî LinkedList Ë¶ÅÂø´ÁöÑ„ÄÇ</p></li>
<li><p>Â¶ÇÊûúÂà†Èô§Êìç‰ΩúÁöÑ‰ΩçÁΩÆÊòØÂú®‰∏≠Èó¥„ÄÇÁî±‰∫é LinkedList ÁöÑÊ∂àËÄó‰∏ªË¶ÅÊòØÂú®ÈÅçÂéÜ‰∏äÔºà LinkedList ‰ºöÊØîËæÉÊü•ËØ¢ÁöÑ index ‰∏éÈìæË°®ÈïøÂ∫¶ÔºåÈÄâÊã©‰ªéÂ§¥ËøòÊòØ‰ªéÂ∞æÂºÄÂßãÊü•ÊâæÔºâÔºåArrayList ÁöÑÊ∂àËÄó‰∏ªË¶ÅÊòØÂú®ÁßªÂä®ÂíåÂ§çÂà∂‰∏äÔºàÂ∫ïÂ±ÇË∞ÉÁî®ÁöÑÊòØ <code>arrayCopy()</code> ÊñπÊ≥ïÔºåÊòØ native ÊñπÊ≥ïÔºâ„ÄÇLinkedList ÁöÑÈÅçÂéÜÈÄüÂ∫¶ÊòØË¶ÅÊÖ¢‰∫é ArrayList ÁöÑÂ§çÂà∂ÁßªÂä®ÈÄüÂ∫¶ÁöÑÔºåÂ¶ÇÊûúÊï∞ÊçÆÈáèÊúâÁôæ‰∏áÁ∫ßÁöÑÊó∂ÔºåËøòÊòØ ArrayList Ë¶ÅÂø´„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ArrayList</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E element)</span> </span>&#123;</span><br><span class="line">    rangeCheckForAdd(index);</span><br><span class="line"></span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    System.arraycopy(elementData, index, elementData, index + <span class="number">1</span>,</span><br><span class="line">                     size - index);</span><br><span class="line">    elementData[index] = element;</span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LinkedListÊØîËæÉÈúÄË¶ÅÊèíÂÖ•ÁöÑ index ‰∏éÈìæË°®ÈïøÂ∫¶</span></span><br><span class="line"><span class="comment">// Â∞è‰∫éÈìæË°®ÈïøÂ∫¶‰∏ÄËà¨Âàô‰ªéËÄåÂºÄÂßãÈÅçÂéÜÔºåÂèç‰πã‰ªéÂ∞æÂºÄÂßãÈÅçÂéÜ</span></span><br><span class="line"><span class="function">Node&lt;E&gt; <span class="title">node</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assert isElementIndex(index);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) &#123;   <span class="comment">// Â∞è‰∫éÈìæË°®ÈïøÂ∫¶ÁöÑ‰∏ÄÂçäÔºåÂàô‰ªéÂ§¥ÂºÄÂßãÈÅçÂéÜ</span></span><br><span class="line">        Node&lt;E&gt; x = first;  <span class="comment">// firstËäÇÁÇπ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">            x = x.next;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;					<span class="comment">// Â§ß‰∫éÈìæË°®ÈïøÂ∫¶ÁöÑ‰∏ÄÂçäÔºåÂàô‰ªéÊú´Â∞æÂºÄÂßãÈÅçÂéÜ</span></span><br><span class="line">        Node&lt;E&gt; x = last;  <span class="comment">// lastËäÇÁÇπ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt; index; i--)</span><br><span class="line">            x = x.prev;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://www.cnblogs.com/syp172654682/p/9817277.html</p>
</blockquote>
</blockquote>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="randomaccess-Êé•Âè£">RandomAccess Êé•Âè£</h3>
<p><strong>ArrayList ÂÆûÁé∞ RandomAccess Êé•Âè£Êúâ‰Ωï‰ΩúÁî®Ôºü‰∏∫‰Ωï LinkedList Âç¥Ê≤°ÂÆûÁé∞Ëøô‰∏™Êé•Âè£Ôºü</strong></p>
<blockquote>
<p>ArrayList ÂÆûÁé∞‰∫Ü RandomAccess</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; </span></span><br><span class="line"><span class="class">	<span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; </span></span><br><span class="line"><span class="class">	<span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LinkedList Êú™ÂÆûÁé∞ËØ•Êé•Âè£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractSequentialList</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">Deque</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<ol type="1">
<li><p>RandomAccess Êé•Âè£Âè™ÊòØ‰∏Ä‰∏™Ê†áÂøóÊé•Âè£(Marker interface)ÔºåÂè™Ë¶Å List ÈõÜÂêàÂÆûÁé∞Ëøô‰∏™Êé•Âè£ÔºåÂ∞±ËÉΩ<strong>ÊîØÊåÅÂø´ÈÄüÈöèÊú∫ËÆøÈóÆ</strong>„ÄÇ</p></li>
<li><p>ÈÄöËøáÊü•Áúã Collections Á±ª‰∏≠ÁöÑ <code>copy()</code> ÊñπÊ≥ïÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">copy</span><span class="params">(List&lt;? <span class="keyword">super</span> T&gt; dest, List&lt;? extends T&gt; src)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> srcSize = src.size();</span><br><span class="line">    <span class="keyword">if</span> (srcSize &gt; dest.size())</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">&quot;Source does not fit in dest&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (srcSize &lt; COPY_THRESHOLD ||</span><br><span class="line">        (src <span class="keyword">instanceof</span> RandomAccess &amp;&amp; dest <span class="keyword">instanceof</span> RandomAccess)) &#123;</span><br><span class="line">        <span class="comment">// src‰∏édestÂÆûÁé∞‰∫ÜRandomAccessÊé•Âè£ÔºåÂàôÁî®forÂæ™ÁéØÈÅçÂéÜ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;srcSize; i++)</span><br><span class="line">            dest.set(i, src.get(i));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// src Êàñ dest Êúâ‰∏ÄÊ≤°ÂÆûÁé∞RandomAccessÊé•Âè£ÔºåÂàôÁî®iteratorÂæ™ÁéØÈÅçÂéÜ</span></span><br><span class="line">        ListIterator&lt;? <span class="keyword">super</span> T&gt; di=dest.listIterator();</span><br><span class="line">        ListIterator&lt;? extends T&gt; si=src.listIterator();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;srcSize; i++) &#123;</span><br><span class="line">            di.next();</span><br><span class="line">            di.set(si.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÆûÁé∞ RandomAccess Êé•Âè£ÁöÑ List ÈõÜÂêàÈááÁî®‰∏ÄËà¨ÁöÑ for Âæ™ÁéØÈÅçÂéÜÔºåËÄåÊú™ÂÆûÁé∞ËøôÊé•Âè£ÂàôÈááÁî®Ëø≠‰ª£Âô®ÔºåÂç≥ ArrayList ‰∏ÄËà¨ÈááÁî® for Âæ™ÁéØÈÅçÂéÜÔºåËÄå LinkedList ‰∏ÄËà¨ÈááÁî®Ëø≠‰ª£Âô®ÈÅçÂéÜÔºõ</p></li>
<li><p>ÁêÜÁî±Âàô‰∏∫Ôºö<strong>ArrayList Áî® for Âæ™ÁéØÈÅçÂéÜÊØî iterator Ëø≠‰ª£Âô®ÈÅçÂéÜÂø´ÔºåLinkedList Áî® iterator Ëø≠‰ª£Âô®ÈÅçÂéÜÊØî for Âæ™ÁéØÈÅçÂéÜÂø´„ÄÇ</strong>ÊâÄ‰ª•ËØ¥ÔºåÂΩìÊàë‰ª¨Âú®ÂÅöÈ°πÁõÆÊó∂ÔºåÂ∫îËØ•ËÄÉËôëÂà∞ List ÈõÜÂêàÁöÑ‰∏çÂêåÂ≠êÁ±ªÈááÁî®‰∏çÂêåÁöÑÈÅçÂéÜÊñπÂºèÔºåËÉΩÂ§üÊèêÈ´òÊÄßËÉΩ„ÄÇ</p></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://blog.csdn.net/weixin_39148512/article/details/79234817</p>
</blockquote>
<h3 id="arraylist-ÁöÑÊâ©ÂÆπÊú∫Âà∂">ArrayList ÁöÑÊâ©ÂÆπÊú∫Âà∂ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<blockquote>
<p>Êõ¥Â§öÂÖ≥‰∫éArrayListÁöÑÂÜÖÂÆπÂèØËßÅÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14297634.html">JavaÔºöArrayListÁ±ªÂ∞èËÆ∞</a></p>
</blockquote>
<blockquote>
<p>Êé®ËçêÈòÖËØª+ÂèÇËÄÉÔºö</p>
<p>https://juejin.im/post/5d42ab5e5188255d691bc8d6</p>
<p>https://www.cnblogs.com/SunArmy/p/9844022.html</p>
</blockquote>
<p><strong>ÊÄªÁöÑÊù•ËØ¥Â∞±ÊòØÂàÜ‰∏§Ê≠•Ôºö</strong></p>
<ol type="1">
<li><strong>Êâ©ÂÆπ</strong>ÔºöÊääÂéüÊù•ÁöÑÊï∞ÁªÑÂ§çÂà∂Âà∞Âè¶‰∏Ä‰∏™ÂÜÖÂ≠òÁ©∫Èó¥Êõ¥Â§ßÁöÑÊï∞ÁªÑ‰∏≠Ôºà1.5ÂÄçÔºâ</li>
<li><strong>Ê∑ªÂä†ÂÖÉÁ¥†</strong>ÔºöÊääÊñ∞ÂÖÉÁ¥†Ê∑ªÂä†Âà∞Êâ©ÂÆπ‰ª•ÂêéÁöÑÊï∞ÁªÑ‰∏≠</li>
</ol>
<p><strong>ÂàÜÊ≠•ËØ¥ÊòéÔºö</strong></p>
<ol type="1">
<li><p>ÂΩì‰ΩøÁî® add ÊñπÊ≥ïÁöÑÊó∂ÂÄôÈ¶ñÂÖàË∞ÉÁî® ensureCapacityInternal ÊñπÊ≥ïÔºå‰º†ÂÖ• size+1 ËøõÂéªÔºåÊ£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÊâ©ÂÖÖ elementData Êï∞ÁªÑÁöÑÂ§ßÂ∞èÔºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.ArrayList‰∏≠ÁöÑaddÊñπÊ≥ï</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Âõ†‰∏∫Ë¶ÅÊ∑ªÂä†ÂÖÉÁ¥†ÔºåÊâÄ‰ª•Ê∑ªÂä†‰πãÂêéÂèØËÉΩÂØºËá¥ÂÆπÈáè‰∏çÂ§üÔºåÊâÄ‰ª•ÈúÄË¶ÅÂú®Ê∑ªÂä†‰πãÂâçËøõË°åÂà§Êñ≠ÔºàÊâ©ÂÆπÔºâ</span></span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    <span class="comment">// ÊúÄÂêéÊâ©ÂÆπÊàêÂäü/‰∏çÈúÄË¶ÅÊâ©ÂÆπ  ÊâçÊ∑ªÂä†ÂÖÉÁ¥†ÔºåÂπ∂‰ª§size+1</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.ArrayList ‰∏≠ add ÊñπÊ≥ïÁöÑ ensureCapacityInternal ÊñπÊ≥ï</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.calculateCapacityÊñπÊ≥ïÔºö</span></span><br><span class="line"><span class="comment">// Âà§Êñ≠‰º†ÂÖ•ÁöÑÊï∞ÁªÑÊòØÂê¶‰∏∫Á©∫ÔºåËã•ÊòØÔºåÂàôËøîÂõûDEFAULT_CAPACITY‰∏éminCapacity‰∏≠ÁöÑÊúÄÂ§ßÂÄº</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">calculateCapacity</span><span class="params">(Object[] elementData, <span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÂÖ∂‰∏≠ÔºåDEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;</span></span><br><span class="line">    <span class="comment">// Êª°Ë∂≥‰∏ãÈù¢Êù°‰ª∂Ë°®Á§∫ÁöÑÊòØÁ¨¨‰∏ÄÊ¨°Ê∑ªÂä†ÂÖÉÁ¥†ÈúÄË¶ÅÁöÑÊâ©ÂÆπÊìç‰Ωú</span></span><br><span class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">        <span class="comment">// ÂÖ∂‰∏≠private static final int DEFAULT_CAPACITY = 10;</span></span><br><span class="line">        <span class="keyword">return</span> Math.max(DEFAULT_CAPACITY, minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minCapacity;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4.ensureExplicitCapacityÊñπÊ≥ïÔºö</span></span><br><span class="line"><span class="comment">// Âà§Êñ≠Ê∑ªÂä†ÂÖÉÁ¥†ÂêéÁöÑÊï∞ÁªÑÔºåÊòØÂê¶ÂèØËÉΩÂèëÁîüÊ∫¢Âá∫ÔºåËã•ÂèØËÉΩÂèëÁîüÊ∫¢Âá∫ÔºåÂàôËøõË°ågrowÊâ©ÂÆπ</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;  <span class="comment">// Ê∂âÂèä fail-fast</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// overflow-conscious code Â∑≤ÁªèÊ∫¢Âá∫‰∫Ü ÈúÄË¶ÅÊâ©ÂÆπ‰∫Ü</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ÂΩìÈúÄË¶ÅÊâ©ÂÆπÔºåÂç≥Â∑≤ÁªèÂèëÁîü‰∫ÜÊ∫¢Âá∫ÔºåÂàôË∞ÉÁî®growÂáΩÊï∞ËøõË°åÊâ©ÂÆπÊìç‰Ωú</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">    <span class="comment">// Êâ©ÂÆπÂ§ßÂ∞è‰∏∫ÂéüÊï∞ÁªÑÈïøÂ∫¶ÁöÑ1.5ÂÄçÔºõ</span></span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// Ê£ÄÊü•Êñ∞ÂÆπÈáèÁöÑÂ§ßÂ∞èÊòØÂê¶Â∞è‰∫éÊúÄÂ∞èÈúÄË¶ÅÂÆπÈáèÔºåÂ¶ÇÊûúÂ∞è‰∫éÈÇ£Â∞±Â∞ÜÊúÄÂ∞èÂÆπÈáèÊúÄ‰∏∫Êï∞ÁªÑÁöÑÊñ∞ÂÆπÈáè</span></span><br><span class="line">    <span class="comment">// ËøôÊòØËÄÉËôëÂà∞Á¨¨‰∏ÄÊ¨°ËøõÂÖ•Êó∂ÔºåoldCapacity‰∏∫0ÁöÑÊÉÖÂÜµ</span></span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = minCapacity;</span><br><span class="line">    <span class="comment">// ÂΩìÊñ∞ÂÆπÈáèÂ§ß‰∫éMAX_ARRAY_SIZEÔºå‰ΩøÁî®hugeCapacityÊØîËæÉ‰∫åËÄÖ</span></span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    <span class="comment">// minCapacity is usually close to size, so this is a win:</span></span><br><span class="line">    elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</code>Êâ©ÂÆπÂ§ßÂ∞è‰∏∫ÂéüÊï∞ÁªÑÈïøÂ∫¶ÁöÑ1.5ÂÄçÔºõ</p>
<p><code>newCapacity - MAX_ARRAY_SIZE</code>ÂΩìÊñ∞ÂÆπÈáèÂ§ß‰∫éMAX_ARRAY_SIZEÔºå‰ΩøÁî®hugeCapacityÊØîËæÉ‰∫åËÄÖ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hugeCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (minCapacity &lt; <span class="number">0</span>) <span class="comment">// overflow</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> OutOfMemoryError();</span><br><span class="line">    <span class="comment">// ÂØπminCapacityÂíåMAX_ARRAY_SIZEËøõË°åÊØîËæÉ</span></span><br><span class="line">    <span class="comment">// Ëã•minCapacityÂ§ßÔºåÂ∞ÜInteger.MAX_VALUE‰Ωú‰∏∫Êñ∞Êï∞ÁªÑÁöÑÂ§ßÂ∞è</span></span><br><span class="line">    <span class="comment">// Ëã•MAX_ARRAY_SIZEÂ§ßÔºåÂ∞ÜMAX_ARRAY_SIZE‰Ωú‰∏∫Êñ∞Êï∞ÁªÑÁöÑÂ§ßÂ∞è</span></span><br><span class="line">    <span class="comment">// MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;</span></span><br><span class="line">    <span class="keyword">return</span> (minCapacity &gt; MAX_ARRAY_SIZE) ?</span><br><span class="line">        Integer.MAX_VALUE :</span><br><span class="line">    MAX_ARRAY_SIZE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ArrayList ‰∏≠ copy Êï∞ÁªÑÁöÑÊ†∏ÂøÉÂ∞±ÊòØ <code>System.arraycopy</code> ÊñπÊ≥ïÔºåÂ∞Ü original Êï∞ÁªÑÁöÑÊâÄÊúâÊï∞ÊçÆÂ§çÂà∂Âà∞ copy Êï∞ÁªÑ‰∏≠ÔºåËøôÊòØ‰∏Ä‰∏™Êú¨Âú∞ÊñπÊ≥ï„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âú®growÂáΩÊï∞‰∏≠ÊúÄÁªàË∞ÉÁî®Arrays.copyOfÊñπÊ≥ï</span></span><br><span class="line">elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Ëøõ‰∏ÄÊ≠•ÔºöArrays.copyOf Ë∞ÉÁî®ÊµÅÁ®ã</span></span><br><span class="line"><span class="comment">// 1.ArraysÁ±ª‰∏≠ÁöÑcopyOfÊñπÊ≥ïÔºö</span></span><br><span class="line"><span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; T[] copyOf(T[] original, <span class="keyword">int</span> newLength) &#123;</span><br><span class="line">    <span class="keyword">return</span> (T[]) copyOf(original, newLength, original.getClass());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.ArraysÁ±ª‰∏≠ÁöÑcopyOfÊñπÊ≥ïÔºö</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T,U&gt; T[] copyOf(U[] original, <span class="keyword">int</span> newLength, Class&lt;? extends T[]&gt; newType) &#123;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    T[] copy = ((Object)newType == (Object)Object[].class)</span><br><span class="line">        ? (T[]) <span class="keyword">new</span> Object[newLength]</span><br><span class="line">        : (T[]) Array.newInstance(newType.getComponentType(), newLength);</span><br><span class="line">    System.arraycopy(original, <span class="number">0</span>, copy, <span class="number">0</span>,</span><br><span class="line">                     Math.min(original.length, newLength));</span><br><span class="line">    <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. SystemÁ±ª‰∏≠ÁöÑarraycopyÊñπÊ≥ïÔºöÊòØ‰∏Ä‰∏™nativeÊñπÊ≥ï</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">arraycopy</span><span class="params">(Object src,  <span class="keyword">int</span>  srcPos,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    Object dest, <span class="keyword">int</span> destPos,</span></span></span><br><span class="line"><span class="params"><span class="function">                                    <span class="keyword">int</span> length)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="array-Âíå-arraylist-Âå∫Âà´">Array Âíå ArrayList Âå∫Âà´ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<ol type="1">
<li>ArrayÔºàÊï∞ÁªÑÔºâ ÂèØ‰ª•ÂÆπÁ∫≥Âü∫Êú¨Á±ªÂûãÂíåÂØπË±°ÔºåËÄå ArrayList Âè™ËÉΩÂÆπÁ∫≥ÂØπË±°Ôºå‰ΩÜÊòØ Array Êï∞ÁªÑÂú®Â≠òÊîæÁöÑÊó∂ÂÄô‰∏ÄÂÆöÊòØÂêåÁßçÁ±ªÂûãÁöÑÂÖÉÁ¥†ÔºåËÄå ArrayList Â∞±‰∏ç‰∏ÄÂÆö‰∫ÜÔºåÂõ†‰∏∫ ArrayList ÂèØ‰ª•Â≠òÂÇ® ObjectÔºõ</li>
<li>Array Â§ßÂ∞èÊòØÂõ∫ÂÆöÁöÑÔºåArrayList ÁöÑÂ§ßÂ∞èÊòØÂä®ÊÄÅÂèòÂåñÁöÑÔºàÂ∫ïÂ±ÇÂü∫‰∫éÂä®ÊÄÅÊï∞ÁªÑÔºåÂèØ‰ª•ËøõË°åÊâ©ÂÆπÊìç‰ΩúÔºâ„ÄÇ</li>
</ol>
<p><strong>‰ªÄ‰πàÊó∂ÂÄôÊõ¥ÈÄÇÂêà‰ΩøÁî® ArrayÔºö</strong></p>
<ol type="1">
<li>Â¶ÇÊûú<strong>ÂàóË°®ÁöÑÂ§ßÂ∞èÂ∑≤ÁªèÊåáÂÆö</strong>ÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÊòØÂ≠òÂÇ®ÂíåÈÅçÂéÜÂÆÉ‰ª¨Ôºõ</li>
<li>ÂØπ‰∫éÈÅçÂéÜ<strong>Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûã</strong>ÔºåÂ∞ΩÁÆ° Collections ‰ΩøÁî®Ëá™Âä®Ë£ÖÁÆ±Êù•ÂáèËΩªÁºñÁ†Å‰ªªÂä°ÔºåÂú®ÊåáÂÆöÂ§ßÂ∞èÁöÑÂü∫Êú¨Á±ªÂûãÁöÑÂàóË°®‰∏äÂ∑•‰Ωú‰πü‰ºöÂèòÂæóÂæàÊÖ¢Ôºõ</li>
<li>Â¶ÇÊûú‰Ω†Ë¶Å‰ΩøÁî®Â§öÁª¥Êï∞ÁªÑÔºå‰ΩøÁî® <code>[][]</code> ÊØî<code>&lt;List&gt;</code> Êõ¥ÂÆπÊòì„ÄÇ</li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="hashmap-ÁöÑÊï∞ÊçÆÁªìÊûÑ">HashMap ÁöÑÊï∞ÊçÆÁªìÊûÑ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<blockquote>
<p>Êõ¥‰∏∫ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØËßÅÂçöÂÆ¢Á´†ËäÇÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14298141.html">JavaÔºöHashMapÁ±ªÂ∞èËÆ∞</a></p>
</blockquote>
<p>HashMap ÁöÑÂÆûÁé∞ÂèØÂàÜ‰∏∫ JDK7 ‰∏é JDK8 ‰∏§‰∏™ÁâàÊú¨ÔºåJDK1.7 Âíå 1.8 ÁöÑ‰∏ªË¶ÅÂå∫Âà´Âú®‰∫é<strong>Â§¥ÊèíÂíåÂ∞æÊèí</strong>ÊñπÂºèÁöÑ‰øÆÊîπÔºåÂ§¥ÊèíÂÆπÊòìÂØºËá¥ HashMap ÈìæË°®Ê≠ªÂæ™ÁéØÔºåÂπ∂‰∏î 1.8 ‰πãÂêéÂä†ÂÖ•<strong>Á∫¢ÈªëÊ†ë</strong>ÂØπÊÄßËÉΩÊúâÊèêÂçá</p>
<blockquote>
<p><strong>HashMap ÂÆûÁé∞ÂèäÂéüÁêÜÂàÜÊûê</strong>Ôºöhttps://www.cnblogs.com/chengxiao/p/6059914.html</p>
</blockquote>
<p><strong>JDK1.7ÔºöEntryÊï∞ÁªÑ + ÈìæË°®</strong></p>
<p>HashMap ÁöÑ‰∏ªÂπ≤ÊòØ‰∏Ä‰∏™ Entry Êï∞ÁªÑ„ÄÇEntry ÊòØ HashMap ÁöÑÂü∫Êú¨ÁªÑÊàêÂçïÂÖÉÔºåÊØè‰∏Ä‰∏™ Entry ÂåÖÂê´‰∏Ä‰∏™ key-value ÈîÆÂÄºÂØπ„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashMapÁöÑ‰∏ªÂπ≤Êï∞ÁªÑÔºåÂèØ‰ª•ÁúãÂà∞Â∞±ÊòØ‰∏Ä‰∏™EntryÊï∞ÁªÑÔºåÂàùÂßãÂÄº‰∏∫Á©∫Êï∞ÁªÑ&#123;&#125;</span></span><br><span class="line"><span class="comment">// ‰∏îÊúâÔºö‰∏ªÂπ≤Êï∞ÁªÑÁöÑÈïøÂ∫¶‰∏ÄÂÆöÊòØ2ÁöÑÊ¨°ÂπÇÔºåËá≥‰∫é‰∏∫‰ªÄ‰πàËøô‰πàÂÅöÔºåÂèÇËÄÉÊñáÁ´†‰∏≠ÊúâËØ¶ÁªÜÂàÜÊûê</span></span><br><span class="line"><span class="keyword">transient</span> Entry&lt;K,V&gt;[] table = (Entry&lt;K,V&gt;[]) EMPTY_TABLE;</span><br></pre></td></tr></table></figure>
<p>Entry ÊòØ HashMap ‰∏≠ÁöÑ‰∏Ä‰∏™ÈùôÊÄÅÂÜÖÈÉ®Á±ª„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> K key;</span><br><span class="line">    V value;</span><br><span class="line">    Entry&lt;K,V&gt; next;  <span class="comment">// Â≠òÂÇ®ÊåáÂêë‰∏ã‰∏Ä‰∏™EntryÁöÑÂºïÁî®ÔºåÂçïÈìæË°®ÁªìÊûÑ</span></span><br><span class="line">    <span class="keyword">int</span> hash;         <span class="comment">// ÂØπkeyÁöÑhashÂÄºËøõË°åhashËøêÁÆóÂêéÂæóÂà∞ÁöÑÂÄºÔºåÂ≠òÂÇ®Âú®EntryÔºåÈÅøÂÖçÈáçÂ§çËÆ°ÁÆó</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ... ÊûÑÈÄ†ÂáΩÊï∞/get/set/toString</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÊèíÂÖ•ËäÇÁÇπÔºöÂ§¥ÊèíÊ≥ï</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">createEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÂèñÂá∫Á¥¢Âºï‰ΩçÁΩÆÁöÑÂÖÉÁ¥†</span></span><br><span class="line">    Entry&lt;K,V&gt; e = table[bucketIndex];</span><br><span class="line">    <span class="comment">// Â∞ÜÊñ∞ÁöÑÂÖÉÁ¥†ÊîæÁΩÆÂà∞Á¥¢Âºï‰ΩçÔºåÂêåÊó∂Â∞ÜÂéüÊù•ÁöÑ‰Ωú‰∏∫Êñ∞ÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™‰øùÂ≠òÔºåÂΩ¢ÊàêÂçïÂêëÈìæË°®</span></span><br><span class="line">    <span class="comment">// Â§¥ÊèíÊ≥ï</span></span><br><span class="line">    table[bucketIndex] = <span class="keyword">new</span> Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ÊÄªÁªì</strong>Ôºö</p>
<p>ÁÆÄÂçïÊù•ËØ¥Ôºö<strong>HashMap Áî±Êï∞ÁªÑ+ÈìæË°®ÁªÑÊàêÁöÑ</strong>ÔºåÊï∞ÁªÑÊòØ HashMap ÁöÑ‰∏ª‰ΩìÔºåÈìæË°®ÂàôÊòØ‰∏ªË¶Å‰∏∫‰∫ÜËß£ÂÜ≥ÂìàÂ∏åÂÜ≤Á™ÅËÄåÂ≠òÂú®ÁöÑÔºõ</p>
<p>Â¶ÇÊûúÂÆö‰ΩçÂà∞ÁöÑÊï∞ÁªÑ‰ΩçÁΩÆ‰∏çÂê´ÈìæË°®ÔºàÂΩìÂâçentryÁöÑnextÊåáÂêënullÔºâÔºåÈÇ£‰πàÂØπ‰∫éÊü•ÊâæÔºåÊ∑ªÂä†Á≠âÊìç‰ΩúÂæàÂø´Ôºå‰ªÖÈúÄ‰∏ÄÊ¨°ÂØªÂùÄÂç≥ÂèØÔºõ</p>
<p>Â¶ÇÊûúÂÆö‰ΩçÂà∞ÁöÑÊï∞ÁªÑÂåÖÂê´ÈìæË°®ÔºåÂØπ‰∫éÊ∑ªÂä†Êìç‰ΩúÔºåÂÖ∂Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÈ¶ñÂÖàÈÅçÂéÜÈìæË°®ÔºåÂ≠òÂú®Âç≥Ë¶ÜÁõñÔºåÂê¶ÂàôÊñ∞Â¢ûÔºõÂØπ‰∫éÊü•ÊâæÊìç‰ΩúÊù•ËÆ≤Ôºå‰ªçÈúÄÈÅçÂéÜÈìæË°®ÔºåÁÑ∂ÂêéÈÄöËøá key ÂØπË±°ÁöÑ equals ÊñπÊ≥ïÈÄê‰∏ÄÊØîÂØπÊü•Êâæ„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÊÄßËÉΩËÄÉËôëÔºåHashMap‰∏≠ÁöÑÈìæË°®Âá∫Áé∞Ë∂äÂ∞ëÔºåÊÄßËÉΩÊâç‰ºöË∂äÂ•Ω„ÄÇ</p>
</blockquote>
<p><strong>JDK1.8ÔºöNodeÊï∞ÁªÑ + ÈìæË°®/Á∫¢ÈªëÊ†ëÔºõ</strong></p>
<blockquote>
<p>Ëøõ‰∏ÄÊ≠•ËØ¥ÊòéÔºö</p>
<ol type="1">
<li>NodeÊï∞ÁªÑÔºöËøôÈáåÂèòÊàê‰∫Ü Node Êï∞ÁªÑÔºåËÄå‰∏çÊòØ Entry Êï∞ÁªÑ‰∫ÜÔºåNode Êï∞ÁªÑÂÖ∂ÂÆûÂÆûÁé∞‰∫Ü Entry Êï∞ÁªÑÔºåËßÅÊ∫êÁ†ÅÈÉ®ÂàÜ</li>
<li>ÈìæË°®ÔºöÂçïÂêëÈìæË°®</li>
<li><strong>Á∫¢ÈªëÊ†ëÔºöÁ∫¢ÈªëÊ†ëËäÇÁÇπ+ÂèåÂêëÈìæË°®</strong></li>
</ol>
</blockquote>
<p>Entry Âíå Node ÈÉΩÂåÖÂê´ key„ÄÅvalue„ÄÅhash„ÄÅnext Â±ûÊÄßÔºå‰ª•‰∏ãÊòØ <strong>Node ÁöÑÊ∫êÁ†Å</strong>Ôºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashMapÁöÑ‰∏ªÂπ≤Êï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">transient</span> Node&lt;K,V&gt;[] table;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NodeÁ±ªÁªßÊâø‰∫Ü Map.Entry&lt;K,V&gt;</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> hash;</span><br><span class="line">    <span class="keyword">final</span> K key;</span><br><span class="line">    V value;</span><br><span class="line">    Node&lt;K,V&gt; next;  <span class="comment">// ÊåáÂêë‰∏ã‰∏Ä‰∏™ËäÇÁÇπÁöÑÊåáÈíà</span></span><br><span class="line">	</span><br><span class="line">    <span class="comment">// ... ÊûÑÈÄ†ÂáΩÊï∞ get/set/toString</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Ê≥®ÊÑèËøôÊòØËé∑ÂèñNodeÁöÑhashÂÄº</span></span><br><span class="line">        <span class="comment">// Êìç‰ΩúÔºöÂØπkeyÂíåvalueÂèñ‰∫Ü‰∏Ä‰∏™ÂºÇÊàñÊìç‰Ωú</span></span><br><span class="line">        <span class="keyword">return</span> Objects.hashCode(key) ^ Objects.hashCode(value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> V <span class="title">setValue</span><span class="params">(V newValue)</span> </span>&#123;</span><br><span class="line">        V oldValue = value;</span><br><span class="line">        value = newValue;</span><br><span class="line">        <span class="keyword">return</span> oldValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Âà§Êñ≠ÊòØÂê¶Áõ∏Á≠âÔºåÂêåÊó∂ÂØπkeyÂíåvalueËøõË°åÂà§Êñ≠</span></span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">this</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Map.Entry) &#123;</span><br><span class="line">            Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line">            <span class="keyword">if</span> (Objects.equals(key, e.getKey()) &amp;&amp;</span><br><span class="line">                Objects.equals(value, e.getValue()))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏ãÊòØ<strong>Á∫¢ÈªëÊ†ëÁöÑËäÇÁÇπÁ±ªÊ∫êÁ†Å</strong>Ôºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Á∫¢ÈªëÊ†ëËäÇÁÇπ+ÂèåÂêëÈìæË°®ÔºåÂèØËßÅÂÖ∂ÁªßÊâø‰∫ÜLinkedHashMap.Entry&lt;K,V&gt;</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">LinkedHashMap</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    TreeNode&lt;K,V&gt; parent;  <span class="comment">// red-black tree links</span></span><br><span class="line">    TreeNode&lt;K,V&gt; left;	   <span class="comment">// Â∑¶Â≠êÊ†ë</span></span><br><span class="line">    TreeNode&lt;K,V&gt; right;   <span class="comment">// Âè≥Â≠êÊï∞</span></span><br><span class="line">    TreeNode&lt;K,V&gt; prev;    <span class="comment">// needed to unlink next upon deletion</span></span><br><span class="line">    <span class="keyword">boolean</span> red;</span><br><span class="line">    TreeNode(<span class="keyword">int</span> hash, K key, V val, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">        <span class="keyword">super</span>(hash, key, val, next);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ...ÂÖ≥‰∫éÊ†ëÁöÑ‰∏Ä‰∫õÊìç‰Ωú</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LinkedHashMapÊ∫êÁ†Å‰∏≠Ôºö</span></span><br><span class="line"><span class="comment">// Á∫¢ÈªëÊ†ë‰∏≠ÁöÑÂèåÂêëÈìæË°®Â∞±‰ΩìÁé∞Âú®Ê≠§</span></span><br><span class="line"><span class="comment">// ËÄå‰πãÊâÄ‰ª•Âú®Áª¥Êä§Á∫¢ÈªëÊ†ëÁöÑÂêåÊó∂ÔºåÂÜçÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÂèåÂêëÈìæË°®ÁöÑÁªìÊûÑÔºåËøôÊòØ‰∏∫‰∫ÜÊâ©ÂÆπÊñπ‰æø</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">HashMap</span>.<span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    Entry&lt;K,V&gt; before, after;  <span class="comment">// Ââç‰∏Ä‰∏™ÂíåÂêé‰∏Ä‰∏™ËäÇÁÇπ</span></span><br><span class="line">    Entry(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">        <span class="keyword">super</span>(hash, key, value, next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ËΩ¨Êç¢‰∏∫Á∫¢ÈªëÊ†ëÁöÑÊù°‰ª∂</strong>Ôºö</p>
<ol type="1">
<li><p>ÂΩìÈìæË°®‰∏äÁöÑÂÖÉÁ¥†‰∏™Êï∞Ë∂ÖËøá 8 ‰∏™</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âà§Êñ≠ÈìæË°®ÈïøÂ∫¶Âà∞Ëææ8Ë∞ÉÁî®treeifyBinÊñπÊ≥ïËΩ¨Êç¢Á∫¢ÈªëÊ†ë,TREEIFY_THRESHOLDÁöÑÂÄº‰∏∫8</span></span><br><span class="line"><span class="comment">// static final int TREEIFY_THRESHOLD = 8;</span></span><br><span class="line"><span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>)</span><br><span class="line">    treeifyBin(tab, hash);</span><br></pre></td></tr></table></figure></li>
<li><p>Âú®Êï∞ÁªÑÈïøÂ∫¶ &gt;= 64 Êó∂Êâç‰ºöËΩ¨ÂåñÊàêÁ∫¢ÈªëÊ†ëÔºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// treeifyBinÊñπÊ≥ïÂºÄÂ§¥ÊúâÂà§Êñ≠Êï∞ÁªÑÈïøÂ∫¶ÊòØÂê¶Â∞è‰∫é64,Â∞è‰∫éÂàôËøõË°åÊâ©ÂÆπ,Âê¶ÂàôËΩ¨Á∫¢ÈªëÊ†ë.</span></span><br><span class="line"><span class="comment">// ÂÖ∂‰∏≠:MIN_TREEIFY_CAPACITYÁöÑÂÄº‰∏∫64.</span></span><br><span class="line"><span class="comment">// static final int MIN_TREEIFY_CAPACITY = 64;</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">treeifyBin</span><span class="params">(Node&lt;K,V&gt;[] tab, <span class="keyword">int</span> hash)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, index; Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="keyword">if</span> (tab == <span class="keyword">null</span> || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)</span><br><span class="line">        resize();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://blog.csdn.net/g5zhu5896/article/details/82968287</p>
</blockquote></li>
<li><p>ÈùûÊ†ëÂåñ‰ªÄ‰πàÊó∂ÂÄôËøõË°åÔºü</p>
<ol type="1">
<li>Ê†ë‰∏äÁöÑËäÇÁÇπ‰∏™Êï∞Â∞è‰∫é6Ôºõ</li>
<li>‰ªÖÂú® resize Êó∂ÔºåÂØπÊ†ëÁöÑËøÅÁßª‰∏≠ËøõË°å‰∫ÜÈùûÊ†ëÂåñÁöÑÊìç‰Ωú„ÄÇ</li>
</ol></li>
</ol>
<p>ËäÇÁÇπÂèòÊàêÊ†ëËäÇÁÇπÔºå‰ª•ÊèêÈ´òÊêúÁ¥¢ÊïàÁéáÂíåÊèíÂÖ•ÊïàÁéáÂà∞ O(logN)„ÄÇ</p>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://blog.csdn.net/vking_wang/article/details/14166593</p>
</blockquote>
<h3 id="hashmap-ÁöÑ-put-get">HashMap ÁöÑ put() &amp; get() <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>putÊñπÊ≥ïÔºö</strong></p>
<ol type="1">
<li><p>ÂΩìÊàë‰ª¨ÊÉ≥ÂæÄ‰∏Ä‰∏™ HashMap ‰∏≠Ê∑ªÂä†‰∏ÄÂØπ key-value Êó∂ÔºåÁ≥ªÁªü<strong>È¶ñÂÖà‰ºöËÆ°ÁÆó key ÁöÑ hash ÂÄº</strong>Ôºõ</p>
<blockquote>
<p>hash ÁöÑËÆ°ÁÆóÂÖ¨ÂºèÔºö<code>(key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</code>ÔºåÂêéÁª≠Ê†πÊçÆ <code>hash &amp; (Êï∞ÁªÑÈïøÂ∫¶-1)</code> ËÆ°ÁÆóÂú® hashË°® ‰∏≠ÁöÑ‰ΩçÁΩÆ</p>
</blockquote></li>
<li>ÊãøÂà∞‰∫Ü hash ÂÄºÂêéÔºåË∞ÉÁî® <code>putVal(...)</code>ÔºåÂÅö‰∫ÜÂ¶Ç‰∏ãÊìç‰ΩúÔºö
<ol type="1">
<li>Âà§Êñ≠ table ÊòØÂê¶‰∏∫Á©∫ÔºåËã•‰∏∫Á©∫ÔºåÂàôË∞ÉÁî® <code>resize()</code> ÂØπ table Êï∞ÁªÑËøõË°åÂàùÂßãÂåñÔºõ</li>
<li>Ê†πÊçÆ hash ÂÄºÁ°ÆËÆ§Âú® table ‰∏≠Â≠òÂÇ®ÁöÑ‰ΩçÁΩÆ„ÄÇËã•ËØ•‰ΩçÁΩÆÊ≤°ÊúâÂÖÉÁ¥†ÔºåÂàôÁõ¥Êé•ÊèíÂÖ•Ôºõ</li>
<li>Ëã•‰∏ç‰∏∫Á©∫ÔºåÂ≠òÂú®‰∏§ÁßçÊÉÖÂÜµÔºö
<ol type="1">
<li>Â¶ÇÊûú‰∏§‰∏™ hash ÂÄºÁõ∏Á≠â‰∏î key ÂÄºÁõ∏Á≠âÔºöÂàôÁî®Êñ∞ÁöÑ Entry ÁöÑ value Ë¶ÜÁõñÂéüÊù•ËäÇÁÇπÁöÑ valueÔºõ</li>
<li>ÂèëÁîü‰∫ÜÂìàÂ∏åÂÜ≤Á™ÅÔºåÂÜçÊ¨°ÂàÜÊÉÖÂÜµËøõË°åËÆ®ËÆ∫Ôºö
<ol type="1">
<li>Ëã•ËØ•ÈìæÂ∑≤Áªè‰∏∫Ê†ëÔºåÂàôÂ∞ÜËØ•ËäÇÁÇπÊèíÂÖ•Ê†ë‰∏≠Ôºõ</li>
<li>Ëã•ËØ•ËäÇÁÇπ‰∏∫ÈìæË°®ÔºåÂàôÊèíÂÖ•Âà∞ÈìæË°®‰∏≠ÔºåËÄåÂΩìÊèíÂÖ•Êñ∞ËäÇÁÇπÂêéÔºåËã•ÈìæË°®ÁöÑÈïøÂ∫¶ËøáÈïø(Â§ß‰∫éÁ≠â‰∫éTREEIFY_THRESHOLD)ÔºåÂàôÂ∞ÜÈìæË°®ËΩ¨Âåñ‰∏∫Á∫¢ÈªëÊ†ëÁªìÊûÑ„ÄÇ</li>
</ol>
<blockquote>
<p>ËøôÈÉ®ÂàÜÂÜÖÂÆπËßÅÂçöÂÆ¢Ôºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14298141.html">JavaÔºöHashMapÁ±ªÂ∞èËÆ∞ÔºöHashMap ÁöÑ put&amp;get ÊâßË°åËøáÁ®ã</a></p>
</blockquote></li>
</ol></li>
</ol></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 1. ÈÄöËøáhash(key)ËÆ°ÁÆókeyÁöÑhashÂÄº</span></span><br><span class="line">    <span class="comment">// 2. ÊãøÂà∞‰∫Ü hash ÂÄºÂêéÔºåË∞ÉÁî® putVal()</span></span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. ÈÄöËøáhash(key)ËÆ°ÁÆókeyÁöÑhashÂÄºÔºå</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="comment">// Êâ∞Âä®ÈÅøÂÖçÁÆóÊ≥ïÔºåÂÖÖÂàÜÂà©Áî®È´ò‰Ωé‰Ωç</span></span><br><span class="line">    <span class="comment">// ÂÖ∂‰∏≠Ôºö&gt;&gt;&gt; Êó†Á¨¶Âè∑Âè≥ÁßªÔºåÂç≥È´ò‰ΩçË°•0</span></span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ÊãøÂà∞‰∫ÜhashÂÄºÂêéÔºåË∞ÉÁî®putVal()</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="params"><span class="function">               <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÂÆö‰πâËæÖÂä©ÂèòÈáè</span></span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="comment">// 2.1 Âà§Êñ≠tableÊòØÂê¶‰∏∫Á©∫</span></span><br><span class="line">    <span class="comment">// hashmapÂØπË±°‰∏≠ÔºåËã•tableÂ±ûÊÄß‰∏∫Á©∫-&gt;Á¨¨‰∏ÄÊ¨°put-&gt;resize()</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// Ë∞ÉÁî®resizeÂáΩÊï∞ÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫16ÔºåÂØπ‰∫éresizeÂáΩÊï∞ÂêéÁª≠ÂàÜÊûê‚òÜ</span></span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="comment">// 2.2 ÂèëÁé∞tab[i]Ê≤°ÊúâÂÄºÔºåÁõ¥Êé•Â≠òÂÖ•Âç≥ÂèØ</span></span><br><span class="line">    <span class="comment">// Ê†πÊçÆkeyÁöÑhashÂÄºËÆ°ÁÆóËØ•keyÂú®hashmap‰∏≠ÁöÑ‰ΩçÁΩÆ</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">        <span class="comment">// ÂèëÁé∞tab[i]Ê≤°ÊúâÂÄºÔºåÂàôÂ∞ÜÂÖÉÁ¥†ÊîæÂÖ•table‰∏≠</span></span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 2.3 tab[i]ÂèñÂà∞ÂÄº‰∫ÜÔºåËé´ÊÖåÔºåÂÖàÂÆö‰πâ‰∏ãÊñπ2‰∏™ÂèòÈáè</span></span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="comment">// 2.3.1 Â¶ÇÊûúÊòØkeyÈáçÂ§ç‰∫ÜÔºåÂæàÁÆÄÂçïÔºåÁõ¥Êé•e = pÔºåÂç≥valueÊõøÊç¢‰∏Ä‰∏ãÂç≥ÂèØ</span></span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;  <span class="comment">// ÂΩìÂâçÁ¥¢Âºï‰ΩçÁΩÆÂØπÂ∫îÈìæË°®ÁöÑÂ§¥ËäÇÁÇπÁöÑhashÂÄºÂíåÂæÖÊ∑ªÂä†ÂÖÉÁ¥†ÂÄºÁõ∏Âêå</span></span><br><span class="line">            ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="comment">// 2.3.2 ÂèëÁîü‰∫ÜhashÂÜ≤Á™Å</span></span><br><span class="line">        <span class="comment">// 2.3.2.1 ËØ•Èìæ‰∏∫Ê†ëÔºåÂàôÂ∞ÜËØ•ËäÇÁÇπÊèíÂÖ•Ê†ë‰∏≠</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="comment">// 2.3.2.2 ËØ•Èìæ‰∏∫ÈìæË°®ÔºåÂàôÊèíÂÖ•Âà∞ÈìæË°®‰∏≠</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ÂºÄÂßãÈÅçÂéÜÈìæË°®</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="comment">// ËäÇÁÇπÂêéÂ∑≤ÁªèÊ≤°ÂÖÉÁ¥†‰∫ÜÔºåÂàôÊèíÂÖ•</span></span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="comment">// Ê∑ªÂä†ÂÆåÊàêÂêéÔºåÂà§Êñ≠ÊòØÈúÄË¶ÅÊ†ëÂåñ</span></span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// ÈÅçÂéÜËøáÁ®ã‰∏≠Âà§Êñ≠ËäÇÁÇπkeyÂíåÂæÖÊèíÂÖ•ËäÇÁÇπÊòØÂê¶Áõ∏ÂêåÔºåÊª°Ë∂≥ÂàôËØ¥ÊòéÊúâÈáçÂ§çkey</span></span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// e‰∏ç‰∏∫Á©∫ÔºåËØ¥Êòé‰∫ßÁîü‰∫ÜhashÂÜ≤Á™ÅÔºå‰∏îÂ≠òÂú®‰∫ÜÂÄºÁöÑÊõøÊç¢</span></span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            V oldValue = e.value;  <span class="comment">// ÊóßÁöÑvalueÂÄºËøîÂõû</span></span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                e.value = value;  <span class="comment">// Êñ∞ÁöÑÂÄºÊõøÊç¢ÊóßÁöÑÂÄº</span></span><br><span class="line">            afterNodeAccess(e);  <span class="comment">// Á©∫ÊñπÊ≥ïÔºåÁî®‰∫éÂêéÁª≠ÈáçÂÜô</span></span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="comment">// ÊòØÂê¶ÈúÄË¶ÅËøõË°åÊâ©ÂÆπ</span></span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        <span class="comment">// Ëã•ÈúÄË¶ÅÊâ©ÂÆπÔºåÂàôËøõË°åÊâ©ÂÆπÊìç‰ΩúÔºåÂêéÁª≠ÂàÜÊûê</span></span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);  <span class="comment">// Á©∫ÊñπÊ≥ïÔºåÁî®‰∫éÂêéÁª≠ÈáçÂÜô</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>getÊñπÊ≥ïÔºö</strong></p>
<p>ÈÄöËøá key ÁöÑ hash ÂÄºÊâæÂà∞Âú® table Êï∞ÁªÑ‰∏≠ÁöÑÁ¥¢ÂºïÂ§ÑÁöÑ NodeÔºåÁÑ∂ÂêéËøîÂõûËØ• key ÂØπÂ∫îÁöÑ value Âç≥ÂèØ„ÄÇ</p>
<p>Âú®ËøôÈáåËÉΩÂ§üÊ†πÊçÆ key Âø´ÈÄüÁöÑÂèñÂà∞ value Èô§‰∫ÜÂíå HashMap ÁöÑÊï∞ÊçÆÁªìÊûÑÂØÜ‰∏çÂèØÂàÜÂ§ñÔºåËøòÂíå Node ÊúâËé´Â§ßÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<p>HashMap Âú®Â≠òÂÇ®ËøáÁ®ã‰∏≠Âπ∂Ê≤°ÊúâÂ∞Ü keyÔºåvalue ÂàÜÂºÄÊù•Â≠òÂÇ®ÔºåËÄåÊòØÂΩìÂÅö‰∏Ä‰∏™Êï¥‰Ωì key-value Êù•Â§ÑÁêÜÁöÑÔºåËøô‰∏™Êï¥‰ΩìÂ∞±ÊòØ Node ÂØπË±°„ÄÇ</p>
<p>ÂêåÊó∂ value ‰πüÂè™Áõ∏ÂΩì‰∫é key ÁöÑÈôÑÂ±ûËÄåÂ∑≤„ÄÇ</p>
<p><strong>Âç≥Âú®Â≠òÂÇ®ÁöÑËøáÁ®ã‰∏≠ÔºåÁ≥ªÁªüÊ†πÊçÆ key ÁöÑ HashCode Êù•ÂÜ≥ÂÆö Node Âú® table Êï∞ÁªÑ‰∏≠ÁöÑÂ≠òÂÇ®‰ΩçÁΩÆ<code>hash(key) &amp; (Êï∞ÁªÑÈïøÂ∫¶-1)</code>ÔºâÔºåÂú®ÂèñÁöÑËøáÁ®ã‰∏≠ÂêåÊ†∑Ê†πÊçÆ key ÁöÑ HashCode ÂèñÂá∫Áõ∏ÂØπÂ∫îÁöÑ Node ÂØπË±°Ôºàvalue Â∞±ÂåÖÂê´Âú®ÈáåÈù¢Ôºâ„ÄÇ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt; e;</span><br><span class="line">    <span class="comment">// Ê†πÊçÆkeyÊâævalueÔºå‰º†ÂÖ•hash(key) Âíå key</span></span><br><span class="line">    <span class="comment">// Ê†πÊçÆËøîÂõûÁªìÊûúÔºå‰∏∫nullÂàôÁõ¥Êé•ËøîÂõûÔºå‰∏çÁÑ∂Â∞±ËøîÂõûeÁöÑvalue</span></span><br><span class="line">    <span class="keyword">return</span> (e = getNode(hash(key), key)) == <span class="keyword">null</span> ? <span class="keyword">null</span> : e.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> Node&lt;K,V&gt; <span class="title">getNode</span><span class="params">(<span class="keyword">int</span> hash, Object key)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; <span class="keyword">int</span> n; K k;</span><br><span class="line">    <span class="comment">// Â¶ÇÊûúË°®‰∏çÊòØÁ©∫ÁöÑÔºåÂπ∂‰∏îË¶ÅÊü•ÊâæÁ¥¢ÂºïÂ§ÑÊúâÂÄº</span></span><br><span class="line">    <span class="keyword">if</span> ((tab = table) != <span class="keyword">null</span> &amp;&amp; (n = tab.length) &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        (first = tab[(n - <span class="number">1</span>) &amp; hash]) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// Â∞±Âà§Êñ≠‰Ωç‰∫éÁ¨¨‰∏Ä‰∏™ÁöÑkeyÊòØÂê¶ÊòØË¶ÅÊü•ÊâæÁöÑkeyÔºåÂç≥hashÂÄºÁõ∏Á≠âÁöÑÊÉÖÂÜµ‰∏ãÔºåÂÜÖÂÆπ‰πüË¶ÅÁõ∏Âêå</span></span><br><span class="line">        <span class="keyword">if</span> (first.hash == hash &amp;&amp; <span class="comment">// always check first node</span></span><br><span class="line">            ((k = first.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line">        <span class="comment">// ËØ¥ÊòéÁ¨¨‰∏Ä‰∏™ÁªìÁÇπÁöÑÂÄº‰∏çÁõ∏ÂêåÔºåËã•ÁªìÁÇπÂêéÊúâÈìæË°®/Ê†ëÁªßÁª≠ÈÅçÂéÜÊü•Êâæ</span></span><br><span class="line">        <span class="keyword">if</span> ((e = first.next) != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Â¶ÇÊûú‰∏çÊòØÂ∞±Âà§Êñ≠ÈìæË°®ÊòØÂê¶ÊòØÁ∫¢Èªë‰∫åÂèâÊ†ëÔºåÂ¶ÇÊûúÊòØÔºåÂ∞±‰ªéÊ†ë‰∏≠ÂèñÂÄº</span></span><br><span class="line">            <span class="keyword">if</span> (first <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">                <span class="keyword">return</span> ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);</span><br><span class="line">            <span class="comment">// Â¶ÇÊûú‰∏çÊòØÊ†ëÔºåÂ∞±ÈÅçÂéÜÈìæË°®</span></span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">return</span> e;</span><br><span class="line">            &#125; <span class="keyword">while</span> ((e = e.next) != <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://www.cnblogs.com/kangkaii/p/8473793.html</p>
</blockquote>
<h3 id="hashmap-ÁöÑ-resize-ÊñπÊ≥ï">HashMap ÁöÑ resize ÊñπÊ≥ï <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<blockquote>
<p>Êõ¥Â§öÂÖ≥‰∫é resize ÁöÑÊñπÊ≥ïËØ¶Ëß£ËßÅ‰∏™‰∫∫ÂçöÂÆ¢Ôºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14298141.html">JavaÔºöHashMapÁ±ªÂ∞èËÆ∞ÔºöHashMap ÁöÑ resize/Êâ©ÂÆπ</a></p>
</blockquote>
<p><strong>Êúâ‰∏§ÁßçÊÉÖÂÜµ‰ºöË∞ÉÁî® resize ÊñπÊ≥ïÔºö</strong></p>
<ol type="1">
<li><p>Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî® HashMap ÁöÑ put ÊñπÊ≥ïÊó∂Ôºå‰ºöË∞ÉÁî® resize ÊñπÊ≥ïÂØπ table Êï∞ÁªÑËøõË°åÂàùÂßãÂåñÔºåÂ¶ÇÊûú‰∏ç‰º†ÂÖ•ÊåáÂÆöÂÄºÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫ 16„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashmapÂØπË±°‰∏≠ tabelÂ±ûÊÄß‰∏∫Á©∫---&gt;Á¨¨‰∏ÄÊ¨°put----&gt;resize()</span></span><br><span class="line"><span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">    n = (tab = resize()).length;</span><br></pre></td></tr></table></figure></li>
<li><p>Êâ©ÂÆπÊó∂‰ºöË∞ÉÁî® resizeÔºåÂç≥ size &gt; threshold Êó∂Ôºåtable Êï∞ÁªÑÂ§ßÂ∞èÁøªÂÄç„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">       resize();</span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠Ôºö<code>threshold=loadFactor * length</code>Ôºå‰πüÂ∞±ÊòØËØ¥Êï∞ÁªÑÈïøÂ∫¶Âõ∫ÂÆö‰ª•ÂêéÔºå Â¶ÇÊûúË¥üËΩΩÂõ†Â≠êË∂äÂ§ßÔºåÊâÄËÉΩÂÆπÁ∫≥ÁöÑÂÖÉÁ¥†‰∏™Êï∞Ë∂äÂ§öÔºåÂ¶ÇÊûúË∂ÖËøáËøô‰∏™ÂÄºÂ∞±‰ºöËøõË°åÊâ©ÂÆπ(<strong>ÈªòËÆ§ÊòØÊâ©ÂÆπ‰∏∫ÂéüÊù•ÁöÑ2ÂÄç</strong>)</p>
<blockquote>
<p>Â¶ÇÊûúÂú®‰∏Ä‰∫õÁâπÊÆäÊÉÖÂÜµ‰∏ãÔºåÊØîÂ¶ÇÁ©∫Èó¥ÊØîËæÉÂ§öÔºå‰ΩÜË¶ÅÊ±ÇÈÄüÂ∫¶ÊØîËæÉÂø´ÔºåËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•ÊääÊâ©ÂÆπÂõ†Â≠êË∞ÉÂ∞è‰ª•ËæÉÂ∞ëhashÂÜ≤Á™ÅÁöÑÊ¶ÇÁéá</p>
<p>Áõ∏ÂèçÂ∞±Â¢ûÂ§ßÊâ©ÂÆπÂõ†Â≠ê(Ëøô‰∏™ÂÄºÂèØ‰ª•Â§ß‰∫é1ÁöÑÔºåÂõ†‰∏∫Â≠òÂú®hashÂÜ≤Á™ÅÔºå‰πüÂæàÂ•ΩÁêÜËß£)</p>
</blockquote></li>
</ol>
<p><strong>resize ÊñáÂ≠óËØ¥Êòé</strong>Ôºö</p>
<p>ÊØèÊ¨°Êâ©ÂÆπ‰πãÂêéÂÆπÈáèÈÉΩÊòØ<strong>ÁøªÂÄç</strong>„ÄÇÊâ©ÂÆπÂêéË¶ÅÂ∞ÜÂéüÊï∞ÁªÑ‰∏≠ÁöÑÊâÄÊúâÂÖÉÁ¥†ÊâæÂà∞Âú®Êñ∞Êï∞ÁªÑ‰∏≠ÂêàÈÄÇÁöÑ‰ΩçÁΩÆ„ÄÇ</p>
<p>ÊúâÂ¶Ç‰∏ãÔºöÂΩìÊàë‰ª¨Êää <code>table[i]</code> ‰ΩçÁΩÆÁöÑÊâÄÊúâ <code>node</code> ËøÅÁßªÂà∞ <code>newtab</code> ‰∏≠ÂéªÁöÑÊó∂ÂÄôÔºöËøôÈáåÈù¢ÁöÑ <code>node</code> Ë¶Å‰πàÂú® <code>newtab</code> ÁöÑ <code>i</code> ‰ΩçÁΩÆÔºà‰∏çÂèòÔºâÔºåË¶Å‰πàÂú® <code>newtab</code> ÁöÑ <code>i + n</code> ‰ΩçÁΩÆ„ÄÇ</p>
<blockquote>
<p>ÂÖ∂‰∏≠ n ‰∏∫ Âéütable ÁöÑÈïøÂ∫¶</p>
</blockquote>
<p>‰πüÂ∞±ÊòØÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Â§ÑÁêÜÔºöÊää <code>table[i]</code> Ëøô‰∏™Ê°∂‰∏≠ÁöÑ <code>node</code> ÊãÜÂàÜ‰∏∫‰∏§‰∏™ÈìæË°® L1 Âíå L2ÔºöÂ¶ÇÊûú <code>hash &amp; n == 0</code>ÔºåÈÇ£‰πàÂΩìÂâçËøô‰∏™ <code>node</code> Ë¢´ËøûÊé•Âà∞ L1 ÈìæË°®ÔºõÂê¶ÂàôËøûÊé•Âà∞ L2 ÈìæË°®„ÄÇËøôÊ†∑‰∏ãÊù•ÔºåÂΩìÈÅçÂéÜÂÆå <code>table[i]</code> Â§ÑÁöÑÊâÄÊúâ node ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂæóÂà∞‰∏§‰∏™ÈìæË°® L1 Âíå L2ÔºåËøôÊó∂Êàë‰ª¨‰ª§ <code>newtab[i] = L1</code>Ôºå<code>newtab[i + n] = L2</code>ÔºåËøôÂ∞±ÂÆåÊàê‰∫Ü <code>table[i]</code> ‰ΩçÁΩÆÊâÄÊúâ node ÁöÑËøÅÁßªÔºàrehashÔºâÔºå<strong>Ëøô‰πüÊòØ HashMap ‰∏≠ÂÆπÈáè‰∏ÄÂÆöÁöÑÊòØ 2 ÁöÑÊï¥Êï∞Ê¨°ÂπÇÂ∏¶Êù•ÁöÑÊñπ‰æø‰πãÂ§Ñ</strong>„ÄÇ</p>
<blockquote>
<p>ÂõæËß£ÊµÅÁ®ãÔºöÊâ©ÂÆπÊú∫Âà∂Ôºöhttps://www.cnblogs.com/duodushuduokanbao/p/9492952.html</p>
<p>Êàë‰ª¨‰ΩøÁî®ÁöÑÊòØ <strong>2Ê¨°ÂπÇ</strong> ÁöÑÊâ©Â±ï(ÊåáÈïøÂ∫¶Êâ©‰∏∫ÂéüÊù•2ÂÄç)ÔºåÊâÄ‰ª•Ôºå<strong>ÂÖÉÁ¥†ÁöÑ‰ΩçÁΩÆË¶Å‰πàÊòØÂú®Âéü‰ΩçÁΩÆÔºåË¶Å‰πàÊòØÂú®Âéü‰ΩçÁΩÆÂÜçÁßªÂä® 2Ê¨°ÂπÇ ÁöÑ‰ΩçÁΩÆ</strong>„ÄÇ</p>
<p>Áúã‰∏ãÂõæÂèØ‰ª•ÊòéÁôΩËøôÂè•ËØùÁöÑÊÑèÊÄùÔºån‰∏∫tableÁöÑÈïøÂ∫¶ÔºåÂõæ(a)Ë°®Á§∫Êâ©ÂÆπÂâçÁöÑ key1 Âíå key2 ‰∏§Áßç key Á°ÆÂÆöÁ¥¢Âºï‰ΩçÁΩÆÁöÑÁ§∫‰æãÔºåÂõæ(b)Ë°®Á§∫Êâ©ÂÆπÂêé key1 Âíå key2 ‰∏§Áßç key Á°ÆÂÆöÁ¥¢Âºï‰ΩçÁΩÆÁöÑÁ§∫‰æãÔºåÂÖ∂‰∏≠ hash1 ÊòØ key1 ÂØπÂ∫îÁöÑÂìàÂ∏å‰∏éÈ´ò‰ΩçËøêÁÆóÁªìÊûú„ÄÇ</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ1.png" alt="HashMapÊâ©ÂÆπ1"></p>
<p>ÂÖÉÁ¥†Âú®ÈáçÊñ∞ËÆ°ÁÆó hash ‰πãÂêéÔºåÂõ†‰∏∫ n Âèò‰∏∫ 2 ÂÄçÔºåÈÇ£‰πà n-1 ÁöÑ mask ËåÉÂõ¥Âú®È´ò‰ΩçÂ§ö1bit(Á∫¢Ëâ≤)ÔºåÂõ†Ê≠§Êñ∞ÁöÑ index Â∞±‰ºöÂèëÁîüËøôÊ†∑ÁöÑÂèòÂåñÔºö</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ2.png" alt="HashMapÊâ©ÂÆπ2"></p>
<p>Âõ†Ê≠§ÔºåÊàë‰ª¨Âú®Êâ©ÂÖÖ HashMap ÁöÑÊó∂ÂÄôÔºå‰∏çÈúÄË¶ÅÂÉè JDK1.7 ÁöÑÂÆûÁé∞ÈÇ£Ê†∑ÈáçÊñ∞ËÆ°ÁÆó hashÔºå<strong>Âè™ÈúÄË¶ÅÁúãÁúãÂéüÊù•ÁöÑ hash ÂÄºÊñ∞Â¢ûÁöÑÈÇ£‰∏™ bit ÊòØ1ËøòÊòØ0Â∞±Â•Ω‰∫Ü</strong>ÔºåÊòØ0ÁöÑËØùÁ¥¢ÂºïÊ≤°ÂèòÔºåÊòØ1ÁöÑËØùÁ¥¢ÂºïÂèòÊàê<strong>‚ÄúÂéüÁ¥¢Âºï+oldCap‚Äù</strong>ÔºåÂèØ‰ª•ÁúãÁúã‰∏ãÂõæ‰∏∫16Êâ©ÂÖÖ‰∏∫32ÁöÑresizeÁ§∫ÊÑèÂõæÔºö</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/HashMapÊâ©ÂÆπ3.png" alt="HashMapÊâ©ÂÆπ3"></p>
<p>Ëøô‰∏™ËÆæËÆ°Á°ÆÂÆûÈùûÂ∏∏ÁöÑÂ∑ßÂ¶ôÔºåÊó¢ÁúÅÂéª‰∫ÜÈáçÊñ∞ËÆ°ÁÆó hash ÂÄºÁöÑÊó∂Èó¥ÔºåËÄå‰∏îÂêåÊó∂ÔºåÁî±‰∫éÊñ∞Â¢ûÁöÑ1bitÊòØ0ËøòÊòØ1ÂèØ‰ª•ËÆ§‰∏∫ÊòØÈöèÊú∫ÁöÑÔºåÂõ†Ê≠§ resize ÁöÑËøáÁ®ãÔºåÂùáÂåÄÁöÑÊää‰πãÂâçÁöÑÂÜ≤Á™ÅÁöÑËäÇÁÇπÂàÜÊï£Âà∞Êñ∞ÁöÑ bucket ‰∫Ü„ÄÇËøô‰∏ÄÂùóÂ∞±ÊòØ JDK1.8 Êñ∞Â¢ûÁöÑ‰ºòÂåñÁÇπ„ÄÇÊúâ‰∏ÄÁÇπÊ≥®ÊÑèÂå∫Âà´ÔºåJDK1.7‰∏≠ rehash ÁöÑÊó∂ÂÄôÔºåÊóßÈìæË°®ËøÅÁßªÊñ∞ÈìæË°®ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÂú®Êñ∞Ë°®ÁöÑÊï∞ÁªÑÁ¥¢Âºï‰ΩçÁΩÆÁõ∏ÂêåÔºåÂàôÈìæË°®ÂÖÉÁ¥†‰ºöÂÄíÁΩÆÔºå‰ΩÜÊòØ‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫Ôºå<strong>JDK1.8‰∏ç‰ºöÂÄíÁΩÆ</strong>„ÄÇ</p>
</blockquote>
<p><strong>resize Ê∫êÁ†Å</strong>ÔºöËßÅÂçöÂÆ¢ÂÜÖÂÆπÂêß<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14298141.html">JavaÔºöHashMapÁ±ªÂ∞èËÆ∞ÔºöHashMap ÁöÑ resize/Êâ©ÂÆπ-resizeËØ¶Ëß£ + Á∫¢ÈªëÊ†ëÊï∞ÊçÆËøÅÁßªsplit</a></p>
<h3 id="hashmap-ÁöÑ-size-ÊòØ-2-ÁöÑÊï¥Êï∞Ê¨°Êñπ">HashMap ÁöÑ size ÊòØ 2 ÁöÑÊï¥Êï∞Ê¨°Êñπ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>ÊÄªÁöÑÊù•ËÆ≤ÔºöÊòØ‰∏∫‰∫ÜÂ∞Ü key ÁöÑ hash ÂÄºÂùáÂåÄÁöÑÂàÜÂ∏ÉÂú®Êï∞ÁªÑÁöÑÁ¥¢Âºï‰∏äÔºåÂáèÂ∞ëÂìàÂ∏åÂÜ≤Á™ÅÁöÑÂá∫Áé∞„ÄÇ</strong></p>
<ol type="1">
<li>ËøôÊ†∑ÂÅöÊÄªÊòØËÉΩÂ§ü‰øùËØÅ HashMap ÁöÑÂ∫ïÂ±ÇÊï∞ÁªÑÈïøÂ∫¶‰∏∫ 2 ÁöÑ n Ê¨°Êñπ„ÄÇÂΩì length ‰∏∫ 2 ÁöÑ n Ê¨°ÊñπÊó∂Ôºå<code>hash(key)&amp;(length-1)</code> Â∞±Áõ∏ÂΩì‰∫éÂØπ length ÂèñÊ®° <code>(hash(key)%length)</code>ÔºåËÄå‰∏îÈÄüÂ∫¶ÊØîÁõ¥Êé•ÂèñÊ®°Âø´ÂæóÂ§öÔºå<strong>ËøôÊòØ HashMap Âú®ÈÄüÂ∫¶‰∏äÁöÑ‰∏Ä‰∏™‰ºòÂåñ</strong>„ÄÇ</li>
<li>Â¶ÇÊûú length ‰∏∫ 2 ÁöÑÊ¨°ÂπÇÔºåÂàô length - 1 ËΩ¨Âåñ‰∏∫‰∫åËøõÂà∂ÂøÖÂÆöÊòØ <code>11111‚Ä¶‚Ä¶</code> ÁöÑÂΩ¢ÂºèÔºåÂú®‰∏é key ÁöÑhashÂÄºËøõË°å‰∫åËøõÂà∂ËøõË°å‰∏éÊìç‰ΩúÊó∂ÊïàÁéá‰ºöÈùûÂ∏∏ÁöÑÂø´ÔºåËÄå‰∏î<strong>Á©∫Èó¥‰∏çÊµ™Ë¥π</strong>„ÄÇ</li>
<li>Â¶ÇÊûú length ‰∏çÊòØ 2 ÁöÑÊ¨°ÂπÇÔºåÊØîÂ¶ÇÔºölength ‰∏∫ 15ÔºåÂàô length - 1 ‰∏∫ 14ÔºåÂØπÂ∫îÁöÑ‰∫åËøõÂà∂‰∏∫ <code>1110</code>ÔºåÂú®‰∫é keyÁöÑhash ‰∏éÊìç‰ΩúÔºåÊúÄÂêé‰∏Ä‰ΩçÈÉΩ‰∏∫ 0 ÔºåËÄå <code>0001Ôºå0011Ôºå0101Ôºå1001Ôºå1011Ôºå0111Ôºå1101</code> ËøôÂá†‰∏™‰ΩçÁΩÆÊ∞∏ËøúÈÉΩ‰∏çËÉΩÂ≠òÊîæÂÖÉÁ¥†‰∫ÜÔºå<strong>Á©∫Èó¥Êµ™Ë¥πÁõ∏ÂΩìÂ§ß</strong>ÔºåÊõ¥Á≥üÁöÑÊòØËøôÁßçÊÉÖÂÜµ‰∏≠ÔºåÊï∞ÁªÑÂèØ‰ª•‰ΩøÁî®ÁöÑ‰ΩçÁΩÆÊØîÊï∞ÁªÑÈïøÂ∫¶Â∞è‰∫ÜÂæàÂ§öÔºåËøôÊÑèÂë≥ÁùÄËøõ‰∏ÄÊ≠•Â¢ûÂä†‰∫ÜÁ¢∞ÊíûÁöÑÂá†ÁéáÔºåÂáèÊÖ¢‰∫ÜÊü•ËØ¢ÁöÑÊïàÁéáÔºåËøôÊ†∑Â∞±‰ºöÈÄ†ÊàêÁ©∫Èó¥ÁöÑÊµ™Ë¥π„ÄÇ</li>
<li><strong>‰æø‰∫éÊâ©ÂÆπ</strong>ÔºöÊâ©ÂÖÖ HashMap ÁöÑÊó∂ÂÄôÔºå‰∏çÈúÄÈáçÊñ∞ËÆ°ÁÆó hashÔºåÂè™ÈúÄË¶ÅÁúãÁúãÂéüÊù•ÁöÑ hash ÂÄºÊñ∞Â¢ûÁöÑÈÇ£‰∏™ bit ÊòØ1ËøòÊòØ0Â∞±Â•Ω‰∫ÜÔºåÊòØ0ÁöÑËØùÁ¥¢ÂºïÊ≤°ÂèòÔºåÊòØ1ÁöÑËØùÁ¥¢ÂºïÂèòÊàê<strong>‚ÄúÂéüÁ¥¢Âºï+oldCap‚Äù</strong>ÔºåÊõ¥‰∏∫ÂÖ∑‰ΩìÁöÑÂèØËßÅ‰∏ä‰∏ÄÈóÆÔºö<strong>HashMap ÁöÑ resize ÊñπÊ≥ï</strong></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://blog.csdn.net/zjcjava/article/details/78495416</p>
<p>https://www.cnblogs.com/zhimingxin/p/8609545.html</p>
</blockquote>
<h3 id="hashmap-Â§öÁ∫øÁ®ãÊ≠ªÂæ™ÁéØÊï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢ò">HashMap Â§öÁ∫øÁ®ãÊ≠ªÂæ™ÁéØ+Êï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢ò <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>JDK7 ‰∏ãÂ≠òÂú®Â§öÁ∫øÁ®ãÊ≠ªÂæ™ÁéØÈóÆÈ¢òÔºö</strong></p>
<p>‰∏ªË¶ÅÊòØÂ§öÁ∫øÁ®ãÂêåÊó∂ put Êó∂ÔºåÂ¶ÇÊûúÂêåÊó∂Ëß¶Âèë‰∫Ü rehash Êìç‰ΩúÔºå‰ºöÂØºËá¥ HashMap ‰∏≠ÁöÑÈìæË°®‰∏≠Âá∫Áé∞ <strong>Âæ™ÁéØËäÇÁÇπ</strong>ÔºåËøõËÄå‰ΩøÂæóÂêéÈù¢ÂÜçÊ¨° get ÁöÑÊó∂ÂÄôÔºå‰ºö<strong>Ê≠ªÂæ™ÁéØ</strong>„ÄÇ</p>
<blockquote>
<p>‰ª£Á†ÅÊÄªÁªìÔºöÂú® resize Êó∂Ôºå‰ºöËøõÂÖ•‰∏Ä‰∏™ transfer ÂáΩÊï∞ÔºåÂΩì‰∏Ä‰∏™Á∫øÁ®ãÂú®Âú®ËøõË°åËäÇÁÇπËøÅÁßªÊó∂ÔºåÂ§±Âéª‰∫Ü CPU ÁöÑÊéßÂà∂ÊùÉÔºåËÄåÂØºËá¥Âè¶‰∏Ä‰∏™Á∫øÁ®ãÂÆåÊàê‰∫ÜÊâ©ÂÆπÔºåÂÜçÊÅ¢Â§ç‰πãÂâçÁöÑÁ∫øÁ®ãÊó∂Â∞±ÂèØËÉΩ‰ºöÂá∫Áé∞ÈìæË°®ÁöÑÁéØÁä∂ÁªìÊûÑÔºÅ</p>
</blockquote>
<p><strong>ËØ¶ÁªÜËØ¥ÊòéÔºö</strong></p>
<p>ÈÄöËøáÊü•Áúã JDK7 <code>put()</code> „ÄÅ<code>addEntry()</code>„ÄÅ<code>resize()</code>„ÄÅ<code>transfer()</code>ÂáΩÊï∞ËØ¥ÊòéÊ≠ªÂæ™ÁéØÂá∫Áé∞ËøáÁ®ã</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// HashMapÂÖÅËÆ∏Â≠òÂÇ®nullÈîÆÔºåÂ≠òÂÇ®Âú®Êï∞ÁªÑÁöÑ0Á¥¢Âºï‰ΩçÁΩÆ</span></span><br><span class="line">    <span class="keyword">if</span> (key == <span class="keyword">null</span>)</span><br><span class="line">        <span class="comment">// JDK7‰∏≠ÈÄöËøá putForNullKey ÂáΩÊï∞Êù•Â§ÑÁêÜkey‰∏∫null</span></span><br><span class="line">        <span class="keyword">return</span> putForNullKey(value);</span><br><span class="line">    <span class="comment">// ÂÜÖÈÉ®ÈÄöËøá‰∏Ä‰∏™Êâ∞‰π±ÁÆóÊ≥ïËé∑Âæó‰∏Ä‰∏™hashÂÄºÔºåÁî®‰∫éËÆ°ÁÆóÊï∞ÁªÑÁ¥¢Âºï</span></span><br><span class="line">    <span class="keyword">int</span> hash = hash(key);</span><br><span class="line">    <span class="comment">// ËÆ°ÁÆóÊï∞ÁªÑÁ¥¢ÂºïÔºåÊâæÂà∞ÈÇ£‰∏™hashÊ°∂ÁöÑ‰ΩçÁΩÆ</span></span><br><span class="line">    <span class="keyword">int</span> i = indexFor(hash, table.length);</span><br><span class="line">    <span class="comment">// Âà§Êñ≠ÊòØÂê¶ÊòØÈáçÂ§çÈîÆ</span></span><br><span class="line">    <span class="keyword">for</span> (Entry&lt;K,V&gt; e = table[i]; e != <span class="keyword">null</span>; e = e.next) &#123;</span><br><span class="line">        Object k;</span><br><span class="line">        <span class="keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            e.value = value;</span><br><span class="line">            e.recordAccess(<span class="keyword">this</span>);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    modCount++;</span><br><span class="line">    <span class="comment">// Ê∑ªÂä†ÂÖÉÁ¥†</span></span><br><span class="line">    addEntry(hash, key, value, i);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Ê∑ªÂä†Êñ∞ËäÇÁÇπ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> bucketIndex)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÂÖÉÁ¥†‰∏™Êï∞Â§ß‰∫éÈòàÂÄºÔºåÂêåÊó∂ÂΩìÂâçÁ¥¢Âºï‰ΩçÊúâÂÄºÔºåÂ∞±‰ºöÊâßË°åÊâ©ÂÆπÊìç‰Ωú</span></span><br><span class="line">    <span class="keyword">if</span> ((size &gt;= threshold) &amp;&amp; (<span class="keyword">null</span> != table[bucketIndex])) &#123;</span><br><span class="line">        <span class="comment">// 2ÂÄçÊâ©ÂÆπÔºåËøôÈáåÂ∞±‰ºöÂá∫Áé∞Á∫øÁ®ãÂÆâÂÖ®ÈóÆÈ¢òÔºÅÔºÅÔºÅ</span></span><br><span class="line">        resize(<span class="number">2</span> * table.length);</span><br><span class="line">        hash = (<span class="keyword">null</span> != key) ? hash(key) : <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// ÈáçÊñ∞ËÆ°ÁÆóÁ¥¢Âºï‰ΩçÁΩÆ</span></span><br><span class="line">        bucketIndex = indexFor(hash, table.length);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// Âü∫‰∫éÈîÆÂÄºÂàõÂª∫EntryËäÇÁÇπÔºåÂπ∂‰ª•Â§¥ÊèíÊ≥ïÂ≠òÂÖ•ÂØπÂ∫î‰ΩçÁΩÆÔºåÂú®Êâ©ÂÆπ‰πãÂêéÂÜçÊ∑ªÂä†Êï∞ÊçÆ</span></span><br><span class="line">    createEntry(hash, key, value, bucketIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ÈúÄË¶ÅÁªèËøáÊâ©ÂÆπ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> newCapacity)</span> </span>&#123;</span><br><span class="line">    Entry[] oldTable = table;</span><br><span class="line">    <span class="keyword">int</span> oldCapacity = oldTable.length;</span><br><span class="line">    <span class="comment">// ËææÂà∞ÊúÄÂ§ßÂÆπÈáèÔºå‰∏çÊâ©ÂÆπ</span></span><br><span class="line">    <span class="keyword">if</span> (oldCapacity == MAXIMUM_CAPACITY) &#123;</span><br><span class="line">        threshold = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Ê†πÊçÆÊñ∞ÂÆπÈáèÂàõÂª∫Êï∞ÁªÑ</span></span><br><span class="line">    Entry[] newTable = <span class="keyword">new</span> Entry[newCapacity];</span><br><span class="line">    <span class="keyword">boolean</span> oldAltHashing = useAltHashing;</span><br><span class="line">    useAltHashing |= sun.misc.VM.isBooted() &amp;&amp;</span><br><span class="line">            (newCapacity &gt;= Holder.ALTERNATIVE_HASHING_THRESHOLD);</span><br><span class="line">    <span class="comment">// ËÆ°ÁÆóÊòØÂê¶ÈúÄË¶ÅÈáçÊñ∞ËÆ°ÁÆóhash</span></span><br><span class="line">    <span class="keyword">boolean</span> rehash = oldAltHashing ^ useAltHashing;</span><br><span class="line">    <span class="comment">// Â∞ÜÊóßÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ËøÅÁßªÂà∞Êñ∞ÁöÑÊï∞ÁªÑ‰∏≠</span></span><br><span class="line">    transfer(newTable, rehash);</span><br><span class="line">    <span class="comment">// ‰øùÂ≠òÊñ∞Êï∞ÁªÑ</span></span><br><span class="line">    table = newTable;</span><br><span class="line">    threshold = (<span class="keyword">int</span>)Math.min(newCapacity * loadFactor, MAXIMUM_CAPACITY + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ‚òÜ1ÔºöÊâ©ÂÆπËøáÁ®ã‰∏≠ÂΩìÁÑ∂Ê∂âÂèäÂà∞‰∫ÜËäÇÁÇπÁöÑËΩ¨ÁßªÊìç‰Ωú</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">transfer</span><span class="params">(Entry[] newTable, <span class="keyword">boolean</span> rehash)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = newTable.length;</span><br><span class="line">    <span class="comment">// ÈÅçÂéÜÊï∞ÊçÆÁöÑÊØè‰∏Ä‰∏™ËßíÊ†á‰Ωç</span></span><br><span class="line">    <span class="keyword">for</span> (Entry&lt;K,V&gt; e : table) &#123;</span><br><span class="line">        <span class="comment">// ÂΩìÊï∞ÁªÑÂØπÂ∫îÁöÑÊ°∂‰ΩçÁΩÆ‰∏ç‰∏∫nullÔºåÂàôÈúÄË¶ÅËøõË°åÊï∞ÊçÆËøÅÁßª</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">null</span> != e) &#123;</span><br><span class="line">            <span class="comment">// ‚òÜ2ÔºöËÆ∞ÂΩïÈÅçÂéÜÂà∞ÁöÑÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">            Entry&lt;K,V&gt; next = e.next;</span><br><span class="line">            <span class="keyword">if</span> (rehash) &#123;</span><br><span class="line">                e.hash = <span class="keyword">null</span> == e.key ? <span class="number">0</span> : hash(e.key);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ËÆ°ÁÆóÊñ∞Êï∞ÁªÑÁöÑËßíÊ†á‰ΩçÁΩÆÔºåÊúâ‰∏§ÁßçÊÉÖÂÜµÔºöÂú®ÂéüÂÖà‰ΩçÁΩÆ / Âéü‰ΩçÁΩÆ+ÂéüÈïøÂ∫¶</span></span><br><span class="line">            <span class="keyword">int</span> i = indexFor(e.hash, newCapacity);</span><br><span class="line">            <span class="comment">// ‚òÜ5.ÊääÂΩìÂâçÂÖÉÁ¥†ÁöÑ‰∏ã‰∏Ä‰∏™Êîπ‰∏∫Êñ∞Êï∞ÁªÑÂØπÂ∫î‰ΩçÁΩÆÁöÑÂÖÉÁ¥†--Â§¥ÊèíÊ≥ï</span></span><br><span class="line">            e.next = newTable[i];</span><br><span class="line">            <span class="comment">// Â∞ÜÂΩìÂâçÂÖÉÁ¥†ÊîæÁΩÆÂú®Êï∞ÁªÑÂØπÂ∫îÁ¥¢Âºï‰ΩçÁΩÆ</span></span><br><span class="line">            newTable[i] = e;</span><br><span class="line">            <span class="comment">// ÂÜçÊ¨°ËøÅÁßª‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">            e = next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ÁªìÂêà‰∏äËø∞‰ª£Á†ÅËøõË°åÊñáÂ≠ó+ÂõæÁâáËØ¥Êòé</strong>Ôºö</p>
<ol type="1">
<li><p>ÂÅáÂÆö thread-1, thread-2 ÈÉΩËøõÂÖ•‰∫Ü <code>transfer()</code> ÂáΩÊï∞ËøõË°åÊâ©ÂÆπÊó∂ÁöÑÊï∞ÊçÆËøÅÁßªÂ∑•‰ΩúÔºåÂÅáÂÆöÊ≠§Êó∂ÁöÑ table ÁªìÊûÑÂ¶Ç‰∏ãÔºö</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ1.PNG" alt="resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ1"></p></li>
<li><p>ÂΩì thread-1 ÊâßË°åÂÆå <code>Entry&lt;K,V&gt; next = e.next;</code>ÂêéÂ§±ÂéªÁöÑ CPU ÁöÑ‰ΩøÁî®ÊùÉÔºåÁé∞Âú® thread-1 ÁöÑÁä∂ÊÄÅÂ∞±ÊòØ‰∏äÈù¢ÁöÑÁä∂ÊÄÅÔºõ</p></li>
<li><p>thread-2 Ëé∑Âèñ CPU ÁöÑÊâßË°åÊùÉÔºå‰πüËøõÂÖ•ËøôÈáåÊâßË°åÔºåËµ∑ÂßãÁä∂ÊÄÅ‰πüÊòØ‰∏äÂõæÊâÄÁ§∫Ôºõ</p></li>
<li><p>thread-2 ÊâßË°åÂêéÁª≠ÈÄªËæëÂÆåÊàêÊâ©ÂÆπÔºåÊúÄÁªàÁªìÊûúÂ¶Ç‰∏ãÔºàÂ§¥ÊèíÊ≥ïÔºâÔºö</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ2.PNG" alt="resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ2"></p></li>
<li><p>thead-1 ÂÜçÊ¨°Ëé∑ÂèñCPUÁöÑÊâßË°åÊùÉÔºåÊ≠§Êó∂ e Âíå next ÁöÑËäÇÁÇπÊåáÂêëÊÅ¢Â§çÔºåÁÑ∂ÂêéÁªßÁª≠Âà∞ <code>e.next = newTable[i];</code></p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ3.PNG" alt="resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ3"></p></li>
<li><p>ÂΩì thread-1 ÊâßË°åÂÆå <code>e.next = newTable[i];</code>ÂêéÂ≠òÂú®Â¶Ç‰∏ãÁªìÊûÑÔºåÂç≥Â≠òÂú®‰∫ÜÁéØÁä∂ÁªìÊûÑ</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ4.PNG" alt="resizeÈÄ†ÊàêÊ≠ªÂæ™ÁéØ4"></p></li>
</ol>
<p><strong>JDK8 ‰∏ãÂ≠òÂú®Êï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢òÔºö</strong></p>
<p>‰∏çËøáÔºåJDK 1.8 ÂêéËß£ÂÜ≥‰∫ÜÂ§öÁ∫øÁ®ãÊ≠ªÂæ™ÁéØÈóÆÈ¢òÔºà‰∏çÈÄÇÁî®Â§¥ÊèíÊ≥ïÔºâÔºå‰ΩÜÊòØËøòÊòØ‰∏çÂª∫ËÆÆÂú®Â§öÁ∫øÁ®ã‰∏ã‰ΩøÁî® HashMapÔºåÂõ†‰∏∫Â§öÁ∫øÁ®ã‰∏ã‰ΩøÁî® HashMap ËøòÊòØ‰ºöÂ≠òÂú®ÂÖ∂‰ªñÈóÆÈ¢òÊØîÂ¶Ç<strong>Êï∞ÊçÆ‰∏¢Â§±</strong>„ÄÇÂπ∂ÂèëÁéØÂ¢É‰∏ãÊé®Ëçê‰ΩøÁî® ConcurrentHashMap„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ê∑ªÂä†ÂÖÉÁ¥†Êó∂Ôºå‰ºöÊúâÊï∞ÊçÆË¶ÜÁõñ‰∏¢Â§±Êï∞ÊçÆ</span></span><br><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="params"><span class="function">               <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="comment">// Ê≠§Â§ÑÔºåÂ¶ÇÊûúÂ§ö‰∏™Á∫øÁ®ãÂêëÂêå‰∏Ä‰∏™‰ΩçÁΩÆÂ≠òÂÖ•ÂÖÉÁ¥†Ôºå‰ºöÊúâÂÄºË¶ÜÁõñÁöÑÈóÆÈ¢òÔºåÂØºËá¥Êï∞‰∏¢Â§±</span></span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ‰∏ãÈù¢‰ª£Á†ÅÁúÅÁï•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// resizeÂáΩÊï∞‰∏≠ÔºöÊâ©ÂÆπÊó∂ÔºåËøÅÁßªÊï∞ÊçÆÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ºöÊúâÊï∞ÊçÆË¶ÜÁõñ‰∏¢Â§±ÁöÑÈóÆÈ¢ò</span></span><br><span class="line"><span class="comment">// Â§öÁ∫øÁ®ãÁéØÂ¢É‰∏ãÔºåÁªôÂêå‰∏Ä‰∏™Êï∞ÁªÑÁöÑÁõ∏Âêå‰ΩçÁΩÆËµãÂÄºÔºå‰ºöÊúâÊï∞ÊçÆË¶ÜÁõñÁöÑÈ£éÈô©</span></span><br><span class="line"><span class="keyword">if</span> (loTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">    loTail.next = <span class="keyword">null</span>;</span><br><span class="line">    newTab[j] = loHead;  <span class="comment">// Â∞ÜÂéüÂßãÁ¥¢Âºï‰ΩçÁöÑÊï∞ÊçÆËøÅÁßªÂà∞Êñ∞Êï∞ÁªÑ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (hiTail != <span class="keyword">null</span>) &#123;</span><br><span class="line">    hiTail.next = <span class="keyword">null</span>;</span><br><span class="line">    newTab[j + oldCap] = hiHead; <span class="comment">// Â∞ÜÊñ∞Á¥¢Âºï‰ΩçÁöÑÊï∞ÊçÆËøÅÁßªÂà∞Êñ∞Êï∞ÁªÑ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ËØ¶ÁªÜËØ∑ÈòÖËØª‰∏™‰∫∫ÂçöÂÆ¢ÈÉ®ÂàÜÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14298141.html">JavaÔºöHashMapÁ±ªÂ∞èËÆ∞ÔºöHashMap Â§öÁ∫øÁ®ã‰∏ãÁöÑÈóÆÈ¢ò</a></p>
</blockquote>
<h3 id="hashmap-‰∏é-hashtable-ÁöÑÂå∫Âà´">HashMap ‰∏é HashTable ÁöÑÂå∫Âà´ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>ÊÄªÁªì</strong>Ôºö</p>
<p>HashTable Âíå HashMap ÁöÑÂÆûÁé∞ÂéüÁêÜÂá†‰πé‰∏ÄÊ†∑ÔºåÊúÄ‰∏ªË¶ÅÁöÑÂ∑ÆÂà´Êó†ÈùûÊòØÔºö</p>
<ol type="1">
<li><p>HashTable ‰∏çÂÖÅËÆ∏ key Âíå value ‰∏∫ nullÔºõ</p></li>
<li><p><strong>HashTable ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ</strong></p>
<p>‰ΩÜÊòØ HashTable Á∫øÁ®ãÂÆâÂÖ®ÁöÑÁ≠ñÁï•ÂÆûÁé∞‰ª£‰ª∑Âç¥Â§™Â§ß‰∫ÜÔºåÁÆÄÂçïÁ≤óÊö¥Ôºå<strong>get/put ÊâÄÊúâÁõ∏ÂÖ≥Êìç‰ΩúÈÉΩÊòØ synchronized ÁöÑ</strong>ÔºåËøôÁõ∏ÂΩì‰∫éÁªôÊï¥‰∏™ÂìàÂ∏åË°®Âä†‰∫Ü‰∏ÄÊääÂ§ßÈîÅÔºåÂ§öÁ∫øÁ®ãËÆøÈóÆÊó∂ÂÄôÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™Á∫øÁ®ãËÆøÈóÆÊàñÊìç‰ΩúËØ•ÂØπË±°ÔºåÈÇ£ÂÖ∂‰ªñÁ∫øÁ®ãÂè™ËÉΩÈòªÂ°ûÔºåÁõ∏ÂΩì‰∫éÂ∞ÜÊâÄÊúâÁöÑÊìç‰Ωú‰∏≤Ë°åÂåñÔºåÂú®Á´û‰∫âÊøÄÁÉàÁöÑÂπ∂ÂèëÂú∫ÊôØ‰∏≠ÊÄßËÉΩÂ∞±‰ºöÈùûÂ∏∏Â∑Æ„ÄÇ</p></li>
</ol>
<p><strong>Áõ∏ÂêåÁÇπÔºö</strong></p>
<ol type="1">
<li>ÈÉΩÂèØ‰ª•Áî®Êù•Â≠òÂÇ®ÈîÆÂÄºÂØπ</li>
<li>Â∫ïÂ±ÇÂìàÂ∏åË°®ÁªìÊûÑÊü•ËØ¢ÈÄüÂ∫¶ÈÉΩÂæàÂø´</li>
<li>ÂÜÖÈÉ®ÈÄöËøáÂçïÈìæË°®Ëß£ÂÜ≥ÂÜ≤Á™ÅÈóÆÈ¢òÔºåÂÆπÈáè‰∏çË∂≥‰ºöËá™Âä®Â¢ûÂä†</li>
<li>ÈÉΩÂÆûÁé∞‰∫Ü Map Êé•Âè£</li>
<li>ÈÉΩÂÆûÁé∞‰∫Ü Serializable Êé•Âè£ÔºåÊîØÊåÅÂ∫èÂàóÂåñ</li>
<li>ÂÆûÁé∞‰∫Ü Cloneable Êé•Âè£ÔºåÂèØ‰ª•Ë¢´ÂÖãÈöÜ</li>
</ol>
<p><strong>‰∏çÂêåÁÇπÔºö</strong></p>
<ol type="1">
<li><p>ÁªßÊâø‰ΩìÁ≥ªÔºö<strong>HashTable Âü∫‰∫é Dictionary Á±ª</strong>ÔºåËÄå <strong>HashMap ÊòØÂü∫‰∫é AbstractMap</strong>„ÄÇ</p>
<p>Dictionary ÊòØ‰ªª‰ΩïÂèØÂ∞ÜÈîÆÊò†Â∞ÑÂà∞Áõ∏Â∫îÂÄºÁöÑÁ±ªÁöÑÊäΩË±°Áà∂Á±ªÔºõËÄå AbstractMap ÊòØÂü∫‰∫é Map Êé•Âè£ÁöÑÂÆûÁé∞ÔºåÂÆÉ‰ª•ÊúÄÂ§ßÈôêÂ∫¶Âú∞ÂáèÂ∞ëÂÆûÁé∞Ê≠§Êé•Âè£ÊâÄÈúÄÁöÑÂ∑•‰Ωú„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************ÂàÜÂâ≤Á∫ø**************************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hashtable</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÊçÆËØ¥ËøôÊòØÂõ†‰∏∫ÔºöÂéÜÂè≤ÂéüÂõ†</p>
</blockquote></li>
<li><p><strong>Á∫øÁ®ãÂÆâÂÖ®‰∏ç‰∏ÄÊ†∑Ôºö</strong>Hashtable ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåËÄå HashMap ‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå‰ΩÜÊòØÊàë‰ª¨‰πüÂèØ‰ª•ÈÄöËøá <code>Collections.synchronizedMap(hashMap)</code>Ôºå‰ΩøÂÖ∂ÂÆûÁé∞ÂêåÊ≠•„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ËøôÊòØHashtableÁöÑput()ÊñπÊ≥ï:synchronizedÂä†ÈîÅ‰∫Ü</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">put</span><span class="params">(K key, V value)</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ËøôÊòØHashMapÁöÑput()ÊñπÊ≥ï:Ê≤°Áî®ÈÄöËøásynchronizedÂä†ÈîÅ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>HashMap ÁöÑ key Âíå value ÈÉΩÂÖÅËÆ∏‰∏∫ nullÔºåËÄå Hashtable ÁöÑ key Âíå value ÈÉΩ‰∏çÂÖÅËÆ∏‰∏∫ null„ÄÇ</strong></p>
<p>HashMap ÈÅáÂà∞ key ‰∏∫ null ÁöÑÊó∂ÂÄôÔºåÂú® hash ÂáΩÊï∞‰∏≠ÂÅö‰∫ÜÂØπÂ∫îÁöÑÂà§Êñ≠ÔºåÂ∞Ü null ‰øÆÊîπ‰∏∫ 0ÔºåËÄåÂØπ value Ê≤°ÊúâÂ§ÑÁêÜÔºõ</p>
<p>Hashtable ÈÅáÂà∞ nullÔºåÁõ¥Êé•ËøîÂõû <code>NullPointerException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashMapÂú®putÂÄºÊó∂ÔºåÂú®ËÆ°ÁÆókeyÁöÑhashÂÄºÊó∂ÊúânullÁöÑÂà§Êñ≠</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Âú® hash(key)ÊñπÊ≥ï‰∏≠ÔºöÂØπ‰∫énullÂÅö‰∫ÜÁâπÊÆäÁöÑÂ§ÑÁêÜ</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************ÂàÜÂâ≤Á∫ø**************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Hashtable</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Make sure the value is not null </span></span><br><span class="line">    <span class="comment">// 1.ÂÄº‰∏∫nullÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">    <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Makes sure the key is not already in the hashtable.</span></span><br><span class="line">    Entry&lt;?,?&gt; tab[] = table;</span><br><span class="line">    <span class="comment">// Áî±‰∫ékeyÊòØnullÔºånullÂΩìÁÑ∂ÊòØÊ≤°ÊúâhashCode()ËøôÁßçÊñπÊ≥ïÁöÑ</span></span><br><span class="line">    <span class="comment">// Âõ†Ê≠§‰∏äËø∞ÈúÄË¶ÅÁõ¥Êé•ÊäõÂá∫ÂºÇÂ∏∏NullPointerException</span></span><br><span class="line">    <span class="keyword">int</span> hash = key.hashCode();  </span><br><span class="line">    <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Âõ†Ê≠§ÂèØ‰ª•ÂæóÂá∫Ôºö<strong>HashMap ÁöÑ get ÊñπÊ≥ï‰∏çËÉΩÂê¶Âà§Êñ≠Êüê‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú® map ‰∏≠</strong>ÔºåÂõ†‰∏∫ get ËøîÂõû null ÊúâÂèØËÉΩÊòØ‰∏çÂåÖÂê´ËØ• keyÔºå‰πüÊúâÂèØËÉΩËØ• key ÂØπÂ∫îÁöÑ value ‰∏∫ null„ÄÇ<strong>Âõ†‰∏∫ HashMap ‰∏≠ÂÖÅËÆ∏ key ‰∏∫ nullÔºå‰πüÂÖÅËÆ∏ value ‰∏∫ null„ÄÇ</strong></p></li>
<li><p><strong>ÈÅçÂéÜÊñπÂºèÁöÑÂÜÖÈÉ®ÂÆûÁé∞‰∏ä‰∏çÂêå</strong>ÔºöHashMap ‰ΩøÁî® Iterator ÈÅçÂéÜÔºåHashTable ‰ΩøÁî® Enumeration ÈÅçÂéÜÔºõ</p>
<blockquote>
<p>ÊçÆËØ¥Ëøô‰πüÊòØÂõ†‰∏∫ÔºöÂéÜÂè≤ÂéüÂõ†</p>
</blockquote></li>
<li><p>HashMap Âíå HashTable ÁöÑ<strong>ÂàùÂßãÂåñÊñπÂºè</strong>Âíå<strong>Êâ©ÂÆπÊñπÂºè</strong>‰∏çÂêå</p>
<p>HashMapÔºöÂú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠<strong>‰∏çÂàõÂª∫Êï∞ÁªÑ</strong>ÔºåËÄåÊòØÂú®Á¨¨‰∏ÄÊ¨° put Êó∂ÊâçÂàõÂª∫Ôºå‰∏îÂàùÂßãÂ§ßÂ∞è‰∏∫16Ôºõ‰πãÂêéÊØèÊ¨°Êâ©ÂÖÖÂÆπÈáè‰∏∫ÂéüÊù•ÁöÑ‰∏§ÂÄçÔºõ</p>
<p><strong>HashTableÔºöÂú®ÊûÑÈÄ†ÂáΩÊï∞Áõ¥Êé•ÂàõÂª∫hashtableÔºå‰∏îÂÖ∂ÂàùÂßãÂ§ßÂ∞è‰∏∫11Ôºå‰πãÂêéÊØèÊ¨°Êâ©ÂÖÖ2n+1</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hashmapÂàùÂßãÂåñ:HashMap hashMap = new HashMap();</span></span><br><span class="line"><span class="comment">// ÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÂÖà‰∏çÂàõÂª∫ÔºåÂú®‰ΩøÁî®ÁöÑÊó∂ÂÄôÂÜçÂàõÂª∫</span></span><br><span class="line">    <span class="keyword">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; <span class="comment">// all other fields defaulted</span></span><br><span class="line">    <span class="comment">// ÂÖ∂‰∏≠ÔºöDEFAULT_LOAD_FACTOR = 0.75f;</span></span><br><span class="line">    <span class="comment">// DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; // aka 16</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashMap</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);</span><br><span class="line">    <span class="comment">// Ë∞ÉÁî®ÊñπÊ≥ïÔºöpublic HashMap(int initialCapacity, float loadFactor)&#123;&#125;</span></span><br><span class="line">    <span class="comment">// ‰∏äËø∞ÊñπÊ≥ïÂπ∂‰∏çÂàõÂª∫ÁúüÊ≠£ÁöÑÊï∞ÁªÑÔºåËÄåÊòØÁ≠âÂà∞Á¨¨‰∏ÄÊ¨°putÊó∂ÊâçÈÄöËøáresizeÂéªÂàõÂª∫</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**********************ÂàÜÂâ≤Á∫ø**************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// hashtableÂàùÂßãÂåñ:Hashtable hashtable = new Hashtable();</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÊûÑÈÄ†ÂáΩÊï∞Áõ¥Êé•ÂàõÂª∫hashtable</span></span><br><span class="line">    <span class="keyword">this</span>(<span class="number">11</span>, <span class="number">0.75f</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Hashtable</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (initialCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal Capacity: &quot;</span>+</span><br><span class="line">                                           initialCapacity);</span><br><span class="line">    <span class="keyword">if</span> (loadFactor &lt;= <span class="number">0</span> || Float.isNaN(loadFactor))</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Illegal Load: &quot;</span>+loadFactor);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (initialCapacity==<span class="number">0</span>)</span><br><span class="line">        initialCapacity = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.loadFactor = loadFactor;</span><br><span class="line">    <span class="comment">// ÂßãÂåñtableÔºåËé∑ÂæóÂ§ßÂ∞è‰∏∫initialCapacityÁöÑtableÊï∞ÁªÑ</span></span><br><span class="line">    table = <span class="keyword">new</span> Entry&lt;?,?&gt;[initialCapacity];</span><br><span class="line">    <span class="comment">// ËÆ°ÁÆóÈòÄÂÄº</span></span><br><span class="line">    threshold = (<span class="keyword">int</span>)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hastableÊâ©ÂÆπÂàÜÊûêÔºö</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Make sure the value is not null</span></span><br><span class="line">    <span class="keyword">if</span> (value == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// Âà§Êñ≠valueÊòØÂê¶‰∏∫null</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Makes sure the key is not already in the hashtable.</span></span><br><span class="line">    Entry&lt;?,?&gt; tab[] = table;</span><br><span class="line">    <span class="comment">// keyËã•‰∏∫null‰πü‰ºöÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">    <span class="keyword">int</span> hash = key.hashCode();</span><br><span class="line">    <span class="comment">// ËÆ°ÁÆókeyÂú®hashË°®‰∏≠ÁöÑ‰ΩçÁΩÆ</span></span><br><span class="line">    <span class="keyword">int</span> index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    Entry&lt;K,V&gt; entry = (Entry&lt;K,V&gt;)tab[index];</span><br><span class="line">    <span class="comment">// entry‰∏∫nullÔºåË°®Á§∫ËøòÊ≤°ÊúâÂú®hashË°®‰∏≠Ê∑ªÂä†ËøáÂÖÉÁ¥†ÔºåÈúÄË¶ÅÂéªÊ∑ªÂä†</span></span><br><span class="line">    <span class="comment">// entry‰∏ç‰∏∫nullÔºåË°®Á§∫ÂèëÁîü‰∫ÜhashÂÜ≤Á™ÅÔºåÂàôÈÅçÂéÜÈìæË°®ÊâæÂà∞ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆ</span></span><br><span class="line">    <span class="keyword">for</span>(; entry != <span class="keyword">null</span> ; entry = entry.next) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((entry.hash == hash) &amp;&amp; entry.key.equals(key)) &#123;</span><br><span class="line">            <span class="comment">// keyÂ∑≤ÁªèÂ≠òÂú®‰∫ÜÔºåÂàôÊõøÊç¢‰∏Ä‰∏ãvalueÔºåÁÑ∂ÂêéËøîÂõûoldvalue</span></span><br><span class="line">            V old = entry.value;</span><br><span class="line">            entry.value = value;</span><br><span class="line">            <span class="keyword">return</span> old;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// Ê∑ªÂä†ÂÖÉÁ¥†ÔºåËßÅ‰∏ãÈù¢</span></span><br><span class="line">    addEntry(hash, key, value, index);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addEntry</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    modCount++;</span><br><span class="line"></span><br><span class="line">    Entry&lt;?,?&gt; tab[] = table;</span><br><span class="line">    <span class="comment">// ÂØπÂÆπÈáèËøõË°åÊ£ÄÈ™åÔºåËã•Â§ß‰∫éÈòàÂÄºÔºåÂàôÈúÄË¶ÅËøõË°åÊâ©ÂÆπÊìç‰ΩúÔºåËßÅ‰∏ãÈù¢</span></span><br><span class="line">    <span class="keyword">if</span> (count &gt;= threshold) &#123;</span><br><span class="line">        <span class="comment">// Rehash the table if the threshold is exceeded</span></span><br><span class="line">        rehash();</span><br><span class="line"></span><br><span class="line">        tab = table;</span><br><span class="line">        hash = key.hashCode();</span><br><span class="line">        index = (hash &amp; <span class="number">0x7FFFFFFF</span>) % tab.length;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// Creates the new entry.</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="comment">// Ê∑ªÂä†ÂÖÉÁ¥†</span></span><br><span class="line">    Entry&lt;K,V&gt; e = (Entry&lt;K,V&gt;) tab[index];</span><br><span class="line">    tab[index] = <span class="keyword">new</span> Entry&lt;&gt;(hash, key, value, e);</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// rehashÔºåÊâ©ÂÆπÊìç‰Ωú</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">rehash</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> oldCapacity = table.length;</span><br><span class="line">    Entry&lt;?,?&gt;[] oldMap = table;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="comment">// ËøôÈáåÔºöÊñ∞ÂÆπÈáè=ÊóßÂÆπÈáè * 2 + 1</span></span><br><span class="line">    <span class="keyword">int</span> newCapacity = (oldCapacity &lt;&lt; <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (oldCapacity == MAX_ARRAY_SIZE)</span><br><span class="line">            <span class="comment">// Keep running with MAX_ARRAY_SIZE buckets</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        newCapacity = MAX_ARRAY_SIZE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Êñ∞Âª∫‰∏Ä‰∏™size = newCapacity ÁöÑHashTable</span></span><br><span class="line">    Entry&lt;?,?&gt;[] newMap = <span class="keyword">new</span> Entry&lt;?,?&gt;[newCapacity];</span><br><span class="line"></span><br><span class="line">    modCount++;</span><br><span class="line">    <span class="comment">// ÈáçÊñ∞ËÆ°ÁÆóÈòÄÂÄº</span></span><br><span class="line">    threshold = (<span class="keyword">int</span>)Math.min(newCapacity * loadFactor, MAX_ARRAY_SIZE + <span class="number">1</span>);</span><br><span class="line">    table = newMap;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = oldCapacity ; i-- &gt; <span class="number">0</span> ;) &#123;</span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;K,V&gt; old = (Entry&lt;K,V&gt;)oldMap[i] ; old != <span class="keyword">null</span> ; ) &#123;</span><br><span class="line">            Entry&lt;K,V&gt; e = old;</span><br><span class="line">            old = old.next;</span><br><span class="line">            <span class="keyword">int</span> index = (e.hash &amp; <span class="number">0x7FFFFFFF</span>) % newCapacity;</span><br><span class="line">            e.next = (Entry&lt;K,V&gt;)newMap[index];</span><br><span class="line">            newMap[index] = e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://blog.csdn.net/u010983881/article/details/49762595</p>
<p>https://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="hashtable-‰∏é-concurrenthashmap-ÁöÑÂå∫Âà´">HashTable ‰∏é ConcurrentHashMap ÁöÑÂå∫Âà´ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>HashTable Âíå ConcurrentHashMap ÁöÑÂå∫Âà´Ôºö</strong></p>
<blockquote>
<p>ËøôÈáåÊòØÊåâÁÖß JDK7 ÂØπ ConcurrentHashMap ËøõË°å‰∫ÜÂàÜÊûêÔºåÂêéÁª≠Âú®ÂÖ≥‰∫é ConcurrentHashMap ÂàÜÊûê‰∏≠Ôºå‰ºöÊèêÂà∞ JDK8 ÁöÑ‰ºòÂåñ</p>
</blockquote>
<p>HashTable Âíå ConcurrentHashMap Áõ∏ÊØîÔºå<strong>ÊïàÁéá‰Ωé</strong>„ÄÇ Hashtable ‰πãÊâÄ‰ª•ÊïàÁéá‰Ωé‰∏ªË¶ÅÊòØ‰ΩøÁî®‰∫Ü synchronized ÂÖ≥ÈîÆÂ≠óÂØπ put Á≠âÊìç‰ΩúËøõË°åÂä†ÈîÅÔºåËÄå synchronized ÂÖ≥ÈîÆÂ≠óÂä†ÈîÅÊòØÂØπÊï¥Âº† Hash Ë°®ÁöÑÔºåÂç≥ÊØèÊ¨°ÈîÅ‰ΩèÊï¥Âº†Ë°®ËÆ©Á∫øÁ®ã<strong>Áã¨Âç†</strong>ÔºåËá¥‰ΩøÊïàÁéá‰Ωé‰∏ãÔºõ</p>
<p>ËÄå ConcurrentHashMap ÈááÁî®<strong>ÈîÅÂàÜÊÆµÊäÄÊúØ</strong>ÔºåÂ∞ÜÊï¥‰∏™ Hash Ê°∂ËøõË°å‰∫ÜÂàÜÊÆµ SegmentÔºå‰πüÂ∞±ÊòØÂ∞ÜËøô‰∏™Â§ßÁöÑÊï∞ÁªÑÂàÜÊàê‰∫ÜÂá†‰∏™Â∞èÁöÑÁâáÊÆµ SegmentÔºåËÄåÊØè‰∏™Â∞èÁöÑÁâáÊÆµ Segment ‰∏äÈù¢ÈÉΩÊúâÈîÅÂ≠òÂú®ÔºåÈÇ£‰πàÂú®ÊèíÂÖ•ÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÂ∞±ÈúÄË¶ÅÂÖàÊâæÂà∞Â∫îËØ•ÊèíÂÖ•Âà∞Âì™‰∏Ä‰∏™ÁâáÊÆµ Segment ÔºåÁÑ∂ÂêéÂØπËØ• Segment Âä†ÈîÅÂç≥ÂèØÔºåËøôÊ†∑ÂÅöÊòéÊòæÂáèÂ∞è‰∫ÜÈîÅÁöÑÁ≤íÂ∫¶ÔºåÂõ†Ê≠§Ôºå ConcurrentHashMap Âú®Â§öÁ∫øÁ®ãÂπ∂ÂèëÁºñÁ®ã‰∏≠ÂèØ‰ª•ÂÆûÁé∞Â§öÁ∫øÁ®ã put Êìç‰Ωú„ÄÇ</p>
<p><img src="/2021/07/04/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A4-%E9%9B%86%E5%90%88%E7%B1%BB/ConcurrentHashMapÂàÜÊÆµÈîÅ.JPG" alt="ConcurrentHashMapÂàÜÊÆµÈîÅ"></p>
<p><strong>ÊÄªÁªìÔºö</strong></p>
<p>ConcurrentHashMap ÁöÑÂá∫Áé∞‰πüÊÑèÂë≥ÁùÄ HashTable ÁöÑËêΩÂπïÔºåÊâÄ‰ª•Âú®‰ª•ÂêéÁöÑÈ°πÁõÆ‰∏≠ÔºåÂ∞ΩÈáèÂ∞ëÁî® HashTableÔºõ</p>
<p>ÂØπ‰∫éÊôÆÈÄöÂú∫ÊôØÂèØ‰ª•‰ΩøÁî® HashMap ÂÆûÁé∞ÔºåÂ¶ÇÊûúÊòØÈ´òÂπ∂ÂèëÂú∫ÊôØÂª∫ËÆÆ‰ΩøÁî® ConcurrentHashMap ÂÆûÁé∞</p>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
<p>http://www.apgblogs.com/hashmap-hashtable-concurrenthashmap/</p>
</blockquote>
<h3 id="concurrenthashmap-ÁöÑÂÆûÁé∞ÂéüÁêÜ">ConcurrentHashMap ÁöÑÂÆûÁé∞ÂéüÁêÜ <span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span><span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<blockquote>
<p>ËøôÈáå‰ªÖËøõË°å‰∏Ä‰∏™ÁÆÄÂçïÁöÑËØ¥ÊòéÔºåÂ¶ÇÈúÄËØ¶ÁªÜ‰∫ÜËß£ÔºöËßÅÂçöÂÆ¢</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14758479.html">JavaÔºöConcurrentHashMapÁ±ªÂ∞èËÆ∞-2(JDK7)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14758491.html">JavaÔºöConcurrentHashMapÁ±ªÂ∞èËÆ∞-3(JDK8)</a></li>
</ul>
</blockquote>
<p><strong>Êï∞ÊçÆÁªìÊûÑ</strong>Ôºö</p>
<ul>
<li><p>JDK 7Ôºö‰∏≠ ConcurrentHashMap ÈááÁî®‰∫Ü <strong>Êï∞ÁªÑ + Segment + ÂàÜÊÆµÈîÅ</strong> ÁöÑÊñπÂºèÂÆûÁé∞„ÄÇ</p></li>
<li><p>JDK 8Ôºö‰∏≠ ConcurrentHashMap ÂèÇËÄÉ‰∫Ü JDK 8 HashMap ÁöÑÂÆûÁé∞ÔºåÈááÁî®‰∫Ü <strong>Êï∞ÁªÑ + ÈìæË°®/Á∫¢ÈªëÊ†ë</strong> ÁöÑÂÆûÁé∞ÊñπÂºèÊù•ËÆæËÆ°Ôºå<strong>ÂÜÖÈÉ®Â§ßÈáèÈááÁî® CAS Êìç‰Ωú</strong>„ÄÇ</p></li>
</ul>
<p><strong>ÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÁöÑÊñπÂºèÔºö</strong></p>
<ul>
<li><p><strong>JDK 7Ôºö</strong></p>
<p>ConcurrentHashMap ÈááÁî®‰∫ÜÈùûÂ∏∏Á≤æÂ¶ôÁöÑ&quot;<strong>ÂàÜÊÆµÈîÅ&quot;Á≠ñÁï•</strong>ÔºåConcurrentHashMap ÁöÑ‰∏ªÂπ≤ÊòØ‰∏™ Segment Êï∞ÁªÑ„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Segment&lt;K,V&gt;[]  segments;</span><br></pre></td></tr></table></figure>
<p>Segment ÁªßÊâø‰∫Ü <strong>ReentrantLock</strong>ÔºåÊâÄ‰ª•ÂÆÉÂ∞±ÊòØ‰∏ÄÁßçÂèØÈáçÂÖ•ÈîÅÔºàReentrantLock)„ÄÇÂú® ConcurrentHashMapÔºå‰∏Ä‰∏™ Segment Â∞±ÊòØ‰∏Ä‰∏™Â≠êÂìàÂ∏åË°®Ôºå<strong>Segment ÈáåÁª¥Êä§‰∫Ü‰∏Ä‰∏™ HashEntry Êï∞ÁªÑ</strong>ÔºåÂπ∂ÂèëÁéØÂ¢É‰∏ãÔºåÂØπ‰∫é‰∏çÂêå Segment ÁöÑÊï∞ÊçÆËøõË°åÊìç‰ΩúÊòØ‰∏çÁî®ËÄÉËôëÈîÅÁ´û‰∫âÁöÑ„ÄÇÂ∞±ÊåâÈªòËÆ§ÁöÑ ConcurrentLevel ‰∏∫ 16 Êù•ËÆ≤ÔºåÁêÜËÆ∫‰∏äÂ∞±ÂÖÅËÆ∏ 16 ‰∏™Á∫øÁ®ãÂπ∂ÂèëÊâßË°å„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÂØπ‰∫éÂêå‰∏Ä‰∏™ Segment ÁöÑÊìç‰ΩúÊâçÈúÄËÄÉËôëÁ∫øÁ®ãÂêåÊ≠•Ôºå‰∏çÂêåÁöÑ Segment ÂàôÊó†ÈúÄËÄÉËôë„ÄÇSegment Á±ª‰ºº‰∫é HashMapÔºå‰∏Ä‰∏™ Segment Áª¥Êä§ÁùÄ‰∏Ä‰∏™HashEntry Êï∞ÁªÑÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">transient</span> <span class="keyword">volatile</span> HashEntry&lt;K,V&gt;[] table;</span><br></pre></td></tr></table></figure>
<p>HashEntry ÊòØÁõÆÂâçÊàë‰ª¨ÊèêÂà∞ÁöÑÊúÄÂ∞èÁöÑÈÄªËæëÂ§ÑÁêÜÂçïÂÖÉ‰∫Ü„ÄÇ<strong>‰∏Ä‰∏™ ConcurrentHashMap Áª¥Êä§‰∏Ä‰∏™ Segment Êï∞ÁªÑÔºå‰∏Ä‰∏™ Segment Áª¥Êä§‰∏Ä‰∏™ HashEntry Êï∞ÁªÑ„ÄÇ</strong>Âõ†Ê≠§ÔºåConcurrentHashMap ÂÆö‰Ωç‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑËøáÁ®ãÈúÄË¶ÅËøõË°å‰∏§Ê¨° Hash Êìç‰Ωú„ÄÇÁ¨¨‰∏ÄÊ¨° Hash ÂÆö‰ΩçÂà∞ SegmentÔºåÁ¨¨‰∫åÊ¨° Hash ÂÆö‰ΩçÂà∞ÂÖÉÁ¥†ÊâÄÂú®ÁöÑÈìæË°®ÁöÑÂ§¥ÈÉ®„ÄÇ</p></li>
<li><p><strong>JDK8 Ôºö</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ÊâÄÊúâÊï∞ÊçÆÈÉΩÂ≠òÂú®table‰∏≠, Âè™ÊúâÂΩìÁ¨¨‰∏ÄÊ¨°ÊèíÂÖ•Êó∂Êâç‰ºöË¢´Âä†ËΩΩÔºåÊâ©ÂÆπÊó∂ÊÄªÊòØ‰ª•2ÁöÑÂÄçÊï∞ËøõË°å</span></span><br><span class="line"><span class="keyword">transient</span> <span class="keyword">volatile</span> Node&lt;K,V&gt;[] table;</span><br><span class="line"><span class="comment">// Âú®Êâ©ÂÆπÊó∂Â≠òÊîæÂèòÈáèÔºåÁªìÊùüÂêéÁΩÆ‰∏∫null</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Node&lt;K,V&gt;[] nextTable;</span><br><span class="line"><span class="comment">// ‰ª•volatile‰øÆÈ•∞ÁöÑsizeCtlÁî®‰∫éÊï∞ÁªÑÂàùÂßãÂåñ‰∏éÊâ©ÂÆπÊéßÂà∂</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> <span class="keyword">int</span> sizeCtl;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol type="1">
<li><p>JDK1.8 ÂèñÊ∂à‰∫Ü segment Êï∞ÁªÑÔºå<strong>Áõ¥Êé•Áî® table ‰øùÂ≠òÊï∞ÊçÆÔºåÈîÅÁöÑÁ≤íÂ∫¶Êõ¥Â∞è</strong>ÔºåÂáèÂ∞ëÂπ∂ÂèëÂÜ≤Á™ÅÁöÑÊ¶ÇÁéá„ÄÇ</p></li>
<li>JDK1.8 Â≠òÂÇ®Êï∞ÊçÆÊó∂ÈááÁî®‰∫Ü<strong>ÈìæË°®+Á∫¢ÈªëÊ†ë</strong>ÁöÑÂΩ¢ÂºèÔºåÁ∫ØÈìæË°®ÁöÑÂΩ¢ÂºèÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÁ∫¢ÈªëÊ†ëÂàô‰∏∫ O(logn)ÔºåÊÄßËÉΩÊèêÂçáÂæàÂ§ß„ÄÇ</li>
<li>JDK1.8 ÁöÑÂÆûÁé∞Èôç‰ΩéÈîÅÁöÑÁ≤íÂ∫¶ÔºåJDK1.7ÁâàÊú¨ÈîÅÁöÑÁ≤íÂ∫¶ÊòØ<strong>Âü∫‰∫éSegmentÁöÑÔºåÂåÖÂê´Â§ö‰∏™ HashEntry</strong>ÔºåËÄåJDK1.8ÈîÅÁöÑÁ≤íÂ∫¶<strong>Â∞±ÊòØHashEntryÔºàÈ¶ñËäÇÁÇπÔºâ</strong></li>
<li>JDK1.8 ÁâàÊú¨ÁöÑÊï∞ÊçÆÁªìÊûÑÂèòÂæóÊõ¥Âä†ÁÆÄÂçïÔºå‰ΩøÂæóÊìç‰Ωú‰πüÊõ¥Âä†Ê∏ÖÊô∞ÊµÅÁïÖÔºå<strong>Âõ†‰∏∫Â∑≤Áªè‰ΩøÁî® synchronized Êù•ËøõË°åÂêåÊ≠•</strong>ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂàÜÊÆµÈîÅÁöÑÊ¶ÇÂøµÔºå‰πüÂ∞±‰∏çÈúÄË¶Å Segment ËøôÁßçÊï∞ÊçÆÁªìÊûÑ‰∫ÜÔºåÁî±‰∫éÁ≤íÂ∫¶ÁöÑÈôç‰ΩéÔºåÂÆûÁé∞ÁöÑÂ§çÊùÇÂ∫¶‰πüÂ¢ûÂä†‰∫Ü</li>
<li><p><strong>JDK1.8 ‰∏∫‰ªÄ‰πà‰ΩøÁî®ÂÜÖÁΩÆÈîÅsynchronizedÊù•‰ª£ÊõøÈáçÂÖ•ÈîÅReentrantLockÔºåÊàëËßâÂæóÊúâ‰ª•‰∏ãÂá†ÁÇπ</strong></p>
<ol type="1">
<li>Âõ†‰∏∫Á≤íÂ∫¶Èôç‰Ωé‰∫ÜÔºåÂú®Áõ∏ÂØπËÄåË®ÄÁöÑ‰ΩéÁ≤íÂ∫¶Âä†ÈîÅÊñπÂºèÔºåsynchronizedÂπ∂‰∏çÊØîReentrantLockÂ∑ÆÔºåÂú®Á≤óÁ≤íÂ∫¶Âä†ÈîÅ‰∏≠ReentrantLockÂèØËÉΩÈÄöËøáConditionÊù•ÊéßÂà∂ÂêÑ‰∏™‰ΩéÁ≤íÂ∫¶ÁöÑËæπÁïåÔºåÊõ¥Âä†ÁöÑÁÅµÊ¥ªÔºåËÄåÂú®‰ΩéÁ≤íÂ∫¶‰∏≠ÔºåConditionÁöÑ‰ºòÂäøÂ∞±Ê≤°Êúâ‰∫Ü</li>
</ol>
<pre><code>2. JVMÁöÑÂºÄÂèëÂõ¢Èòü‰ªéÊù•ÈÉΩÊ≤°ÊúâÊîæÂºÉsynchronizedÔºåËÄå‰∏îÂü∫‰∫éJVMÁöÑsynchronized‰ºòÂåñÁ©∫Èó¥Êõ¥Â§ßÔºå‰ΩøÁî®ÂÜÖÂµåÁöÑÂÖ≥ÈîÆÂ≠óÊØî‰ΩøÁî®APIÊõ¥Âä†Ëá™ÁÑ∂
3. Âú®Â§ßÈáèÁöÑÊï∞ÊçÆÊìç‰Ωú‰∏ãÔºåÂØπ‰∫éJVMÁöÑÂÜÖÂ≠òÂéãÂäõÔºåÂü∫‰∫éAPIÁöÑReentrantLock‰ºöÂºÄÈîÄÊõ¥Â§öÁöÑÂÜÖÂ≠òÔºåËôΩÁÑ∂‰∏çÊòØÁì∂È¢àÔºå‰ΩÜÊòØ‰πüÊòØ‰∏Ä‰∏™ÈÄâÊã©‰æùÊçÆ</code></pre></li>
</ol>
<blockquote>
<p>Êâ©Â±ïÈòÖËØªÔºöhttps://www.cnblogs.com/chengxiao/p/6842045.html</p>
</blockquote>
<h3 id="linkedhashmap-ÁöÑÂÆûÁé∞ÂéüÁêÜ">LinkedHashMap ÁöÑÂÆûÁé∞ÂéüÁêÜ</h3>
<blockquote>
<p>Êõ¥Â§öÂÜÖÂÆπËßÅÂçöÊñáÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14447418.html">JavaÔºöLinkedHashMapÁ±ªÂ∞èËÆ∞</a></p>
</blockquote>
<p>LinkedHashMap ‰πüÊòØÂü∫‰∫é HashMap ÂÆûÁé∞ÁöÑÔºå‰∏çÂêåÁöÑÊòØÂÆÉÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ <strong>Entry head, tail</strong>ÔºåËøô‰∏™ head, tail ‰∏çÊòØÊîæÂú® Table ÈáåÔºåÂÆÉÊòØÈ¢ùÂ§ñÁã¨Á´ãÂá∫Êù•ÁöÑ„ÄÇ</p>
<p>LinkedHashMap ‰∏≠ÁöÑÈùôÊÄÅÂÜÖÈÉ®Á±ª Entry Á±ªÈÄöËøáÁªßÊâø hashMap ‰∏≠ÁöÑ NodeÔºåÂπ∂Ê∑ªÂä†‰∏§‰∏™Â±ûÊÄß <strong>Entry beforeÔºåEntry after</strong> Âπ∂ÁªìÂêà headÔºåtail ÁªÑÊàê‰∏Ä‰∏™ÂèåÂêëÈìæË°®ÔºåÊù•ÂÆûÁé∞Êåâ<strong>ÊèíÂÖ•È°∫Â∫è</strong>Êàñ<strong>ËÆøÈóÆÈ°∫Â∫è</strong>ÊéíÂ∫è„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// LinkedHashMapÂÆûÁé∞‰∫ÜÈùôÊÄÅÂÜÖÈÉ®Á±ªEntryÔºåÁªßÊâø‰∫ÜHashMap.NodeÔºå</span></span><br><span class="line">    <span class="comment">// ÂêåÊó∂ÂÆö‰πâ‰∫Übefore, after‰∏§‰∏™Â±ûÊÄß</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">HashMap</span>.<span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">        Entry&lt;K,V&gt; before, after;</span><br><span class="line">        Entry(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">            <span class="keyword">super</span>(hash, key, value, next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// ÈìæË°®ÁöÑÂ§¥ÁªìÁÇπÔºåË°®Á§∫ÊúÄËÄÅÁöÑÈÇ£‰∏™ËäÇÁÇπ</span></span><br><span class="line">    <span class="keyword">transient</span> LinkedHashMap.Entry&lt;K,V&gt; head;</span><br><span class="line">	<span class="comment">// ÈìæË°®ÁöÑÂ∞æËäÇÁÇπÔºåË°®Á§∫ÊúÄÊñ∞ÊèíÂÖ•ÁöÑÈÇ£‰∏™ËäÇÁÇπ</span></span><br><span class="line">    <span class="keyword">transient</span> LinkedHashMap.Entry&lt;K,V&gt; tail;</span><br><span class="line">	<span class="comment">// ÈìæË°®ÁöÑÈÅçÂéÜÈ°∫Â∫èÔºö</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">boolean</span> accessOrder;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Âõ†Ê≠§ÔºåLinkedHashMap ÂÖ∂ÂÆûÂ∞±ÊòØÂèØ‰ª•ÁúãÊàê HashMap ÁöÑÂü∫Á°Ä‰∏äÔºåÂ§ö‰∫Ü‰∏Ä‰∏™ÂèåÂêëÈìæË°®Êù•Áª¥ÊåÅÈ°∫Â∫è„ÄÇ</strong></p>
<p>ÂÖ∂‰∏≠ÔºåLinkedHashMap ÂÆö‰πâ‰∫ÜÊéíÂ∫èÊ®°Âºè accessOrderÔºåËØ•Â±ûÊÄß‰∏∫ boolean ÂûãÂèòÈáèÔºå</p>
<ul>
<li>ÂØπ‰∫é<strong>ËÆøÈóÆÈ°∫Â∫è</strong>Ôºå‰∏∫ trueÔºåÊåâËÆøÈóÆÈ°∫Â∫èÊéíÂ∫èÔºåÂç≥ÊØèÂΩìËÆøÈóÆ‰∏ÄÊ¨°ÂÖÉÁ¥†ÔºåËØ•ÂÖÉÁ¥†Â∞±‰ºöË¢´ÁßªÂä®ÈìæË°®ÁöÑÊúÄÂêéÈù¢</li>
<li>ÂØπ‰∫é<strong>ÊèíÂÖ•È°∫Â∫è</strong>ÔºåÂàô‰∏∫ falseÔºåÂç≥ÊåâÁÖßÊèíÂÖ•ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èËøõË°åÊéíÂ∫èÔºõ</li>
</ul>
<p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºå‰∏çÂøÖÊåáÂÆöÊéíÂ∫èÊ®°ÂºèÔºåÂÖ∂Ëø≠‰ª£È°∫Â∫èÂç≥‰∏∫ÈªòËÆ§‰∏∫ÊèíÂÖ•È°∫Â∫è„ÄÇ</p>
<blockquote>
<p>Êé®ËçêÈòÖËØªÔºöhttps://www.jianshu.com/p/8f4f58b4b8ab</p>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="treemap-ÂÆûÁé∞ÂéüÁêÜ">TreeMap ÂÆûÁé∞ÂéüÁêÜ</h3>
<blockquote>
<p>ËßÅÔºö<a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuchengchao/p/14448137.html">JavaÔºöTreeMapÁ±ªÂ∞èËÆ∞</a></p>
</blockquote>
<p>TreeMap ÁöÑÂÆûÁé∞Â∞±ÊòØ<strong>Á∫¢ÈªëÊ†ëÊï∞ÊçÆÁªìÊûÑ</strong>Ôºå‰πüÂ∞±ËØ¥ÊòØ‰∏ÄÊ£µËá™Âπ≥Ë°°ÁöÑÊéíÂ∫è‰∫åÂèâÊ†ëÔºåËøôÊ†∑Â∞±ÂèØ‰ª•‰øùËØÅÂΩìÈúÄË¶ÅÂø´ÈÄüÊ£ÄÁ¥¢ÊåáÂÆöËäÇÁÇπÔºõ</p>
<p>TreeMap ‰∏≠ÁöÑÊØè‰∏™ Entry ÈÉΩË¢´ÂΩìÊàê‚ÄúÁ∫¢ÈªëÊ†ë‚ÄùÁöÑ‰∏Ä‰∏™ËäÇÁÇπÂØπÂæÖÔºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Á∫¢ÈªëÊ†ëËäÇÁÇπÂÆö‰πâ</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    K key;</span><br><span class="line">    V value;</span><br><span class="line">    Entry&lt;K,V&gt; left;  <span class="comment">// ÂΩìÂâçËäÇÁÇπÁöÑÂ∑¶Â≠êÊ†ë</span></span><br><span class="line">    Entry&lt;K,V&gt; right; <span class="comment">// ÂΩìÂâçËäÇÁÇπÁöÑÂè≥Â≠êÊ†ë</span></span><br><span class="line">    Entry&lt;K,V&gt; parent;  <span class="comment">// ÂΩìÂâçËäÇÁÇπÁöÑÁà∂ËäÇÁÇπ</span></span><br><span class="line">    <span class="keyword">boolean</span> color = BLACK;  <span class="comment">// Á∫¢/Èªë</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ... ÁúÅÁï•‰∏Ä‰∏ãÊûÑÈÄ†ÊñπÊ≥ï/get/setÊñπÊ≥ï</span></span><br><span class="line">	</span><br><span class="line">    <span class="comment">// Âà§Êñ≠ËäÇÁÇπÊòØÂê¶Áõ∏Á≠â</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!(o <span class="keyword">instanceof</span> Map.Entry))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Map.Entry&lt;?,?&gt; e = (Map.Entry&lt;?,?&gt;)o;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> valEquals(key,e.getKey()) &amp;&amp; valEquals(value,e.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// ËÆ°ÁÆóEntryÁöÑhashÂÄº</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> keyHash = (key==<span class="keyword">null</span> ? <span class="number">0</span> : key.hashCode());</span><br><span class="line">        <span class="keyword">int</span> valueHash = (value==<span class="keyword">null</span> ? <span class="number">0</span> : value.hashCode());</span><br><span class="line">        <span class="keyword">return</span> keyHash ^ valueHash;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÂèÇËÄÉÔºö</p>
<p>https://blog.csdn.net/jtcode_is_my_partner/article/details/81408392</p>
<p>https://zhuanlan.zhihu.com/p/157315716</p>
</blockquote>
<h3 id="set-setÂÆûÁé∞ÂéüÁêÜ">Set &amp; SetÂÆûÁé∞ÂéüÁêÜ</h3>
<p><strong>ÊÄªÁªìÔºö</strong></p>
<ul>
<li>È¶ñÂÖàÔºåSetÈõÜÂêà‰∏çÂåÖÂê´ÈáçÂ§çÂÖÉÁ¥†Ôºå<strong>ÈÉΩÂÖ∑ÊúâÂîØ‰∏ÄÊÄß</strong>Ôºõ</li>
<li>ÂΩìÊó†ÊéíÂ∫èË¶ÅÊ±ÇÂèØ‰ª•ÈÄâÁî® HashSetÔºõ</li>
<li>Ëã•ÊÉ≥ÂèñÂá∫ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÂíåÊîæÂÖ•ÂÖÉÁ¥†ÁöÑÈ°∫Â∫èÁõ∏ÂêåÔºåÈÇ£‰πàÂèØ‰ª•ÈÄâÁî® LinkedHashSetÔºõ</li>
<li>Ëã•ÊÉ≥ÊèíÂÖ•„ÄÅÂà†Èô§Á´ãÂç≥ÊéíÂ∫èÊàñËÄÖÊåâÁÖß‰∏ÄÂÆöËßÑÂàôÊéíÂ∫èÂèØ‰ª•ÈÄâÁî® TreeSet„ÄÇ</li>
</ul>
<p><strong>SetÊé•Âè£ÁöÑÁâπÊÄßÔºö</strong></p>
<p>Set Êé•Âè£ÁªßÊâø‰∫Ü Collection Êé•Âè£ÔºåSet ÈõÜÂêà‰∏≠‰∏çËÉΩÂåÖÂê´ÈáçÂ§çÁöÑÂÖÉÁ¥†ÔºåÊØè‰∏™ÂÖÉÁ¥†ÂøÖÈ°ªÊòØÂîØ‰∏ÄÁöÑÔºå‰Ω†Âè™Ë¶ÅÂ∞ÜÂÖÉÁ¥†Âä†ÂÖ• Set ‰∏≠ÔºåÈáçÂ§çÁöÑÂÖÉÁ¥†‰ºöËá™Âä®ÁßªÈô§„ÄÇ</p>
<p>Â∏∏Áî®ÁöÑ Set ÊúâÔºöHashSet„ÄÅLinkedHashSet „ÄÅTreeSet</p>
<p><strong>HashSetÁâπÁÇπÔºö</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<ol type="1">
<li><p>HashSet ‰∏≠‰∏çËÉΩÊúâÁõ∏ÂêåÁöÑÂÖÉÁ¥†Ôºå‰ΩÜ<strong>ÂèØ‰ª•Êúâ null ÂÖÉÁ¥†</strong>ÔºåÂç≥ÂÖÉÁ¥†ÂÖ∑ÊúâÂîØ‰∏ÄÊÄßÔºõ</p>
<p>‰∏îÂÖ∂Â∫ïÂ±ÇÈááÁî®ÁöÑËøòÊòØ HashMapÔºåÂØπ‰∫éputÂÖÉÁ¥†ÔºåÂÖ∂ÈááÁî®ÁöÑÊñπÂºè‰∏∫Ôºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashSet ÁöÑÂÄºÈÉΩÊòØÂ≠òÂÇ®Âú® HashMap ‰∏≠ÁöÑ</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// HashSet ÁöÑÊûÑÈÄ†Ê≥ï‰∏≠‰ºöÂàùÂßãÂåñ‰∏Ä‰∏™HashMapÂØπË±°Ôºå</span></span><br><span class="line">    map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// HashSetÁöÑÂÄºÊòØ‰Ωú‰∏∫HashMapÁöÑkeyÂ≠òÂÇ®Âú®HashMap ‰∏≠ÁöÑ</span></span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;  <span class="comment">// ÂΩìÂ≠òÂÇ®ÁöÑÂÄºÂ∑≤ÁªèÂ≠òÂú®Êó∂ËøîÂõû false</span></span><br><span class="line">    <span class="comment">// private static final Object PRESENT = new Object();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>Â≠òÂÖ• HashSet ÁöÑÂÖÉÁ¥†ÊòØÊó†Â∫èÁöÑÔºõ</p></li>
<li><p>Ê∑ªÂä†„ÄÅÂà†Èô§ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩ‰∏∫ O(1)ÔºåÂõ†‰∏∫ÂÖ∂ÊòØÂü∫‰∫éHashMapËøõË°åÁöÑ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.size();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.isEmpty();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.remove(o)==PRESENT;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ....</span></span><br></pre></td></tr></table></figure></li>
<li><p>ÈùûÁ∫øÁ®ãÂÆâÂÖ®</p></li>
</ol>
<p><strong>LinkedHashSetÁâπÁÇπÔºö</strong></p>
<ol type="1">
<li><p>ÂØπ‰∫é LinkedHashSet ËÄåË®ÄÔºåÂÆÉÁªßÊâø‰∫é HashSet„ÄÅÂèàÂü∫‰∫é LinkedHashMap Êù•ÂÆûÁé∞ÁöÑÔºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">extends</span> <span class="title">HashSet</span>&lt;<span class="title">E</span>&gt;  // ÁªßÊâø‰∫Ü<span class="title">HashSet</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedHashSet</span><span class="params">(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor)</span> </span>&#123;</span><br><span class="line">    	<span class="comment">// Áî±‰∫éÂÖ∂ÁªßÊâøËá™HashSetÔºåÂõ†Ê≠§Ë∞ÉÁî®ÁöÑÊòØHashSetÁöÑÊûÑÈÄ†ÂáΩÊï∞</span></span><br><span class="line">    	<span class="comment">// ËÄåÂú®HashSetÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÔºåÊúâÂ¶Ç‰∏ãÔºö‚ñ≥</span></span><br><span class="line">        <span class="keyword">super</span>(initialCapacity, loadFactor, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">LinkedHashSet</span><span class="params">(<span class="keyword">int</span> initialCapacity)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(initialCapacity, <span class="number">.75f</span>, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">LinkedHashSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(<span class="number">16</span>, <span class="number">.75f</span>, <span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Âú®HashSetÁ±ª‰∏≠‚ñ≥</span></span><br><span class="line">HashSet(<span class="keyword">int</span> initialCapacity, <span class="keyword">float</span> loadFactor, <span class="keyword">boolean</span> dummy) &#123;</span><br><span class="line">	<span class="comment">// ÂàõÂª∫‰∫Ü‰∏Ä‰∏™LinkedHashMap</span></span><br><span class="line">	map = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(initialCapacity, loadFactor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>LinkedHashSet ‰∏≠‰∏çËÉΩÊúâÁõ∏ÂêåÂÖÉÁ¥†Ôºå<strong>ÂèØ‰ª•Êúâ‰∏Ä‰∏™ null ÂÖÉÁ¥†</strong>ÔºåÂÖÉÁ¥†‰∏•Ê†ºÊåâÁÖßÊîæÂÖ•ÁöÑÈ°∫Â∫èÊéíÂàóÔºàÂá∫‰∫éÂÖ∂Âü∫‰∫éLinkedHashMapÂÆûÁé∞ÔºåËÄåLinkedHashMapÁª¥Êä§‰∫Ü‰∏Ä‰∏™ÂèåÂêëÈìæË°®ÔºâÔºõ</p></li>
<li><p>Ê∑ªÂä†„ÄÅÂà†Èô§ÂÖÉÁ¥†ÁöÑÊìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩ‰∏∫ O(1)Ôºõ</p></li>
<li><p>ÈùûÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ</p></li>
</ol>
<p><strong>TreeSetÁâπÁÇπÔºö</strong></p>
<ol type="1">
<li><p>TreeSet Â∫ïÂ±ÇÂÆûÈôÖ‰ΩøÁî®ÁöÑÂ≠òÂÇ®ÂÆπÂô®Â∞±ÊòØ TreeMapÔºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">NavigableSet</span>&lt;<span class="title">E</span>&gt;, <span class="title">Cloneable</span>, <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">transient</span> NavigableMap&lt;E,Object&gt; m;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TreeSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// Â∫ïÂ±ÇÂÆûÈôÖ‰ΩøÁî®ÁöÑÂ≠òÂÇ®ÂÆπÂô®Â∞±ÊòØ TreeMapÔºõ</span></span><br><span class="line">        <span class="keyword">this</span>(<span class="keyword">new</span> TreeMap&lt;E,Object&gt;());  <span class="comment">// Ë∞ÉÁî® TreeSet</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ÊääTreeMapËµãÂÄºÁªô‰∫ÜNavigableMap&lt;E,Object&gt;</span></span><br><span class="line">    TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span><br><span class="line">        <span class="keyword">this</span>.m = m;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    	<span class="comment">// Êú¨Ë¥®‰∏äËøòÊòØË∞ÉÁî®‰∫Ü TreeMap ÁöÑÊñπÊ≥ï</span></span><br><span class="line">        <span class="keyword">return</span> m.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>TreeSet ‰∏≠‰∏çËÉΩÊúâÁõ∏ÂêåÂÖÉÁ¥†Ôºå<strong>‰∏çÂèØ‰ª•ÊúânullÂÖÉÁ¥†</strong>ÔºåÊ†πÊçÆÂÖÉÁ¥†ÁöÑËá™ÁÑ∂È°∫Â∫èËøõË°åÊéíÂ∫èÔºõ</p></li>
<li><p>Ê∑ªÂä†„ÄÅÂà†Èô§Êìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØ O(log(n))Ôºõ</p></li>
<li><p>ÈùûÁ∫øÁ®ãÂÆâÂÖ®</p></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://blog.csdn.net/StemQ/article/details/66477615</p>
</blockquote>
<h3 id="set-‰øùËØÅÂÖÉÁ¥†‰∏çÈáçÂ§ç">Set ‰øùËØÅÂÖÉÁ¥†‰∏çÈáçÂ§ç</h3>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;   <span class="comment">// HashSetÁöÑÂ∫ïÂ±Ç‰∏∫‰∏Ä‰∏™HashMapÁªìÊûÑ</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object PRESENT = <span class="keyword">new</span> Object();  <span class="comment">// ‰Ωú‰∏∫‰∏Ä‰∏™Âç†‰ΩçÁ¨¶</span></span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÖÉÁ¥†ÂÄº‰Ωú‰∏∫ÁöÑÊòØ map ÁöÑ keyÔºåmap ÁöÑ value ÂàôÊòØ PRESENT ÂèòÈáèÔºåËøô‰∏™ÂèòÈáèÂè™‰Ωú‰∏∫ÊîæÂÖ• map Êó∂ÁöÑ‰∏Ä‰∏™Âç†‰ΩçÁ¨¶ËÄåÂ≠òÂú®ÔºåÊâÄ‰ª•Ê≤°‰ªÄ‰πàÂÆûÈôÖÁî®Â§Ñ„ÄÇÂÖ∂ÂÆûÔºåËøôÊó∂ÂÄôÁ≠îÊ°àÂ∑≤ÁªèÂá∫Êù•‰∫ÜÔºö<strong>HashMap ÁöÑ key ÊòØ‰∏çËÉΩÈáçÂ§çÁöÑÔºåËÄåËøôÈáå HashSet ÁöÑÂÖÉÁ¥†ÂèàÊòØ‰Ωú‰∏∫‰∫Ü map ÁöÑ keyÔºåÂΩìÁÑ∂‰πü‰∏çËÉΩÈáçÂ§ç‰∫Ü„ÄÇ</strong></p>
<p>LinkedHashSet„ÄÅTreeSetÈÉΩ‰∏ÄÊ†∑ÔºåÈÉΩÈááÁî®‰∫ÜPRESENTËøô‰∏™Âç†‰ΩçÁ¨¶„ÄÇ</p>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="collection-Âíå-collections">Collection Âíå Collections</h3>
<p><strong>CollectionÔºö</strong>ÊòØ‰∏Ä‰∏™<strong>ÈõÜÂêàÊé•Âè£</strong>„ÄÇÂÆÉÊèê‰æõ‰∫ÜÂØπÈõÜÂêàÂØπË±°ËøõË°åÂü∫Êú¨Êìç‰ΩúÁöÑÈÄöÁî®Êé•Âè£ÊñπÊ≥ï„ÄÇListÔºåSetÔºåQueue Êé•Âè£ÈÉΩÁªßÊâø CollectionÔºõÁõ¥Êé•ÂÆûÁé∞ËØ•Êé•Âè£ÁöÑÁ±ªÂè™Êúâ AbstractCollection Á±ªÔºåËØ•Á±ª‰πüÂè™ÊòØ‰∏Ä‰∏™ÊäΩË±°Á±ªÔºåÊèê‰æõ‰∫ÜÂØπÈõÜÂêàÁ±ªÊìç‰ΩúÁöÑ‰∏Ä‰∫õÂü∫Êú¨ÂÆûÁé∞„ÄÇ</p>
<p><strong>CollectionsÔºö</strong>ÊòØ‰∏çÂ±û‰∫é Java ÁöÑÈõÜÂêàÊ°ÜÊû∂ÁöÑÔºåÂÆÉÊòØ<strong>ÈõÜÂêàÁ±ªÁöÑ‰∏Ä‰∏™Â∑•ÂÖ∑Á±ª/Â∏ÆÂä©Á±ª</strong>„ÄÇÊ≠§Á±ª‰∏çËÉΩË¢´ÂÆû‰æãÂåñÔºå ÊúçÂä°‰∫é Java ÁöÑ Collection Ê°ÜÊû∂„ÄÇÂÆÉÂåÖÂê´ÊúâÂÖ≥ÈõÜÂêàÊìç‰ΩúÁöÑÈùôÊÄÅÂ§öÊÄÅÊñπÊ≥ïÔºåÂÆûÁé∞ÂØπÂêÑÁßçÈõÜÂêàÁöÑÊêúÁ¥¢„ÄÅÊéíÂ∫è„ÄÅÁ∫øÁ®ãÂÆâÂÖ®Á≠âÊìç‰Ωú„ÄÇ</p>
<p><strong>Â∏∏Áî®ÂäüËÉΩ</strong></p>
<ul>
<li><code>public static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements)</code>ÔºöÂæÄÈõÜÂêà‰∏≠Ê∑ªÂä†‰∏Ä‰∫õÂÖÉÁ¥†„ÄÇ</li>
<li><code>public static void reverse(List&lt;?&gt; list)</code>ÔºöÂ∞ÜÈõÜÂêàÂèçËΩ¨</li>
<li><code>public static void shuffle(List&lt;?&gt; list)</code> ÔºöÊâì‰π±È°∫Â∫èÔºåÊâì‰π±ÈõÜÂêàÈ°∫Â∫è„ÄÇ</li>
<li><code>public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>ÔºöÂ∞ÜÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÊåâÁÖßÈªòËÆ§ËßÑÂàôÊéíÂ∫è„ÄÇ</li>
<li><code>public static &lt;T&gt; void sort(List&lt;T&gt; listÔºåComparator&lt;? super T&gt; )</code> :Â∞ÜÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÊåâÁÖßÊåáÂÆöËßÑÂàôÊéíÂ∫è„ÄÇ</li>
</ul>
<blockquote>
<p><strong>Collections ‰∏≠ÁöÑ sort ÊñπÊ≥ï</strong></p>
<p><strong>Comparator ÊØîËæÉÂô®</strong></p>
<p>ÊéíÂ∫èÊñπÊ≥ïÔºö<code>public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>ÔºöÂ∞ÜÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÊåâÁÖßÈªòËÆ§ËßÑÂàôÊéíÂ∫è„ÄÇ</p>
<p>Â¶ÇÔºåÂØπÂ≠óÁ¨¶‰∏≤Á±ªÂûãËøõË°åÊØîËæÉÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsDemo2</span> </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">           ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           list.add(<span class="string">&quot;cba&quot;</span>); list.add(<span class="string">&quot;aba&quot;</span>); list.add(<span class="string">&quot;sba&quot;</span>); list.add(<span class="string">&quot;nba&quot;</span>);</span><br><span class="line">           <span class="comment">//ÊéíÂ∫èÊñπÊ≥ï</span></span><br><span class="line">           Collections.sort(list);</span><br><span class="line">           System.out.println(list);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// ÁªìÊûúÔºö</span></span><br><span class="line"><span class="comment">// [aba, cba, nba, sba]</span></span><br></pre></td></tr></table></figure>
<p>ËØ¥Âà∞ÊéíÂ∫è‰∫ÜÔºåÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØ‰∏§‰∏™ÂØπË±°‰πãÈó¥ÊØîËæÉÂ§ßÂ∞èÔºåÈÇ£‰πàÂú® Java ‰∏≠Êèê‰æõ‰∫Ü‰∏§ÁßçÊØîËæÉÂÆûÁé∞ÁöÑÊñπÂºèÔºå‰∏ÄÁßçÊòØÊØîËæÉÊ≠ªÊùøÁöÑÈááÁî® <code>java.lang.Comparable</code> Êé•Âè£ÂéªÂÆûÁé∞Ôºå‰∏ÄÁßçÊòØÁÅµÊ¥ªÁöÑÂΩìÊàëÈúÄË¶ÅÂÅöÊéíÂ∫èÁöÑÊó∂ÂÄôÂú®ÂéªÈÄâÊã©ÁöÑ<code>java.util.Comparator</code> Êé•Âè£ÂÆåÊàê„ÄÇ</p>
<p>ÈÇ£‰πàÊàë‰ª¨ÈááÁî®ÁöÑ <code>public static &lt;T&gt; void sort(List&lt;T&gt; list)</code> Ëøô‰∏™ÊñπÊ≥ïÂÆåÊàêÁöÑÊéíÂ∫èÔºå<strong>ÂÆûÈôÖ‰∏äË¶ÅÊ±Ç‰∫ÜË¢´ÊéíÂ∫èÁöÑÁ±ªÂûãÈúÄË¶ÅÂÆûÁé∞ Comparable Êé•Âè£ÂÆåÊàêÊØîËæÉÁöÑÂäüËÉΩ</strong>ÔºåÂú® String Á±ªÂûã‰∏äÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">String</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span>, <span class="title">Comparable</span>&lt;<span class="title">String</span>&gt;, <span class="title">CharSequence</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">       <span class="comment">// ÂÆûÁé∞‰∫ÜComparable&lt;String&gt;ÁöÑÊñπÊ≥ïÔºåËØ•Êé•Âè£ÂÜÖÊúâÊäΩË±°ÊñπÊ≥ïpublic int compareTo(T o);</span></span><br><span class="line">       <span class="comment">// Âú®StringÂÜÖÂØπÂÖ∂ËøõË°å‰∫ÜÂÆûÁé∞</span></span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String anotherString)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">int</span> len1 = value.length;</span><br><span class="line">           <span class="keyword">int</span> len2 = anotherString.value.length;</span><br><span class="line">           <span class="keyword">int</span> lim = Math.min(len1, len2);</span><br><span class="line">           <span class="keyword">char</span> v1[] = value;</span><br><span class="line">           <span class="keyword">char</span> v2[] = anotherString.value;</span><br><span class="line">   </span><br><span class="line">           <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">           <span class="keyword">while</span> (k &lt; lim) &#123;</span><br><span class="line">               <span class="keyword">char</span> c1 = v1[k];</span><br><span class="line">               <span class="keyword">char</span> c2 = v2[k];</span><br><span class="line">               <span class="keyword">if</span> (c1 != c2) &#123;</span><br><span class="line">                   <span class="keyword">return</span> c1 - c2;</span><br><span class="line">               &#125;</span><br><span class="line">               k++;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> len1 - len2;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>String Á±ªÂÆûÁé∞‰∫ÜËøô‰∏™Êé•Âè£ÔºåÂπ∂ÂÆåÊàê‰∫ÜÊØîËæÉËßÑÂàôÁöÑÂÆö‰πâÔºå‰ΩÜÊòØËøôÊ†∑Â∞±ÊääËøôÁßçËßÑÂàôÂÜôÊ≠ª‰∫ÜÔºåÈÇ£ÊØîÂ¶ÇÊàëÊÉ≥Ë¶ÅÂ≠óÁ¨¶‰∏≤ÊåâÁÖßÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÈôçÂ∫èÊéíÂàóÔºåÈÇ£‰πàËøôÊ†∑Â∞±Ë¶Å‰øÆÊîπStringÁöÑÊ∫ê‰ª£Á†ÅÔºåËøôÊòØ‰∏çÂèØËÉΩÁöÑ‰∫Ü„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ÈáçÂÜôÊéíÂ∫èÁöÑËßÑÂàô</span></span><br><span class="line">&gt;<span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person o)</span> </span>&#123;</span><br><span class="line">       <span class="comment">// return 0; // ËÆ§‰∏∫ÂÖÉÁ¥†ÈÉΩÊòØÁõ∏ÂêåÁöÑ</span></span><br><span class="line">       <span class="comment">// Ëá™ÂÆö‰πâÊØîËæÉÁöÑËßÑÂàô, ÊØîËæÉ‰∏§‰∏™‰∫∫ÁöÑÂπ¥ÈæÑ(this,ÂèÇÊï∞Person)</span></span><br><span class="line">       <span class="comment">// return this.getAge() - o.getAge();  // Âπ¥ÈæÑÂçáÂ∫èÊéíÂ∫è</span></span><br><span class="line">       <span class="keyword">return</span> o.getAge() - <span class="keyword">this</span>.getAge();  <span class="comment">// Âπ¥ÈæÑÈôçÂ∫èÊéíÂ∫è</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>ÈÇ£‰πàËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® <code>public static &lt;T&gt; void sort(List&lt;T&gt; listÔºåComparator&lt;? super T&gt; )</code> ÊñπÊ≥ïÁÅµÊ¥ªÁöÑÂÆåÊàêÔºåËøô‰∏™ÈáåÈù¢Â∞±Ê∂âÂèäÂà∞‰∫Ü <strong>ComparatorËøô‰∏™Êé•Âè£</strong>Ôºå‰Ωç‰∫é‰Ωç‰∫é <code>java.util</code> ÂåÖ‰∏ãÔºåÊéíÂ∫èÊòØ comparator ËÉΩÂÆûÁé∞ÁöÑÂäüËÉΩ‰πã‰∏ÄÔºåËØ•Êé•Âè£‰ª£Ë°®‰∏Ä‰∏™ÊØîËæÉÂô®ÔºåÊØîËæÉÂô®ÂÖ∑ÊúâÂèØÊØîÊÄßÔºÅÈ°æÂêçÊÄù‰πâÂ∞±ÊòØÂÅöÊéíÂ∫èÁöÑÔºåÈÄö‰øóÂú∞ËÆ≤ÈúÄË¶ÅÊØîËæÉ‰∏§‰∏™ÂØπË±°Ë∞ÅÊéíÂú®ÂâçË∞ÅÊéíÂú®ÂêéÔºåÈÇ£‰πàÊØîËæÉÁöÑÊñπÊ≥ïÂ∞±ÊòØÔºö<code>public int compare(String o1, String o2)</code> ÔºöÊØîËæÉÂÖ∂‰∏§‰∏™ÂèÇÊï∞ÁöÑÈ°∫Â∫è„ÄÇ</p>
<p>‰∏§‰∏™ÂØπË±°ÊØîËæÉÁöÑÁªìÊûúÊúâ‰∏âÁßçÔºöÂ§ß‰∫éÔºåÁ≠â‰∫éÔºåÂ∞è‰∫é„ÄÇ</p>
<p>Â¶ÇÊûúË¶ÅÊåâÁÖßÂçáÂ∫èÊéíÂ∫èÔºåÂàôo1 Â∞è‰∫éo2ÔºåËøîÂõûÔºàË¥üÊï∞ÔºâÔºåÁõ∏Á≠âËøîÂõû0Ôºåo1Â§ß‰∫éo2ËøîÂõûÔºàÊ≠£Êï∞Ôºâ;</p>
<p>Â¶ÇÊûúË¶ÅÊåâÁÖßÈôçÂ∫èÊéíÂ∫èÔºåÂàôo1 Â∞è‰∫éo2ÔºåËøîÂõûÔºàÊ≠£Êï∞ÔºâÔºåÁõ∏Á≠âËøîÂõû0Ôºåo1Â§ß‰∫éo2ËøîÂõûÔºàË¥üÊï∞Ôºâ</p>
<p><strong>ÊÄªÁªì Comparator ÁöÑÊéíÂ∫èËßÑÂàô: o1-o2 ‰∏∫ÂçáÂ∫èÔºõo2-o1 ‰∏∫ÈôçÂ∫è</strong></p>
<p>Êìç‰ΩúÂ¶Ç‰∏ã:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsDemo3</span> </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">           ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">           list.add(<span class="string">&quot;cba&quot;</span>);</span><br><span class="line">           list.add(<span class="string">&quot;aba&quot;</span>);</span><br><span class="line">           list.add(<span class="string">&quot;sba&quot;</span>);</span><br><span class="line">           list.add(<span class="string">&quot;nba&quot;</span>);</span><br><span class="line">           <span class="comment">// Ëá™ÂÆö‰πâÊéíÂ∫èÊñπÊ≥ï ÊåâÁÖßÁ¨¨‰∏Ä‰∏™ÂçïËØçÁöÑÈôçÂ∫è</span></span><br><span class="line">           Collections.sort(list, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">               <span class="meta">@Override</span></span><br><span class="line">               <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">                   <span class="keyword">return</span> o2.charAt(<span class="number">0</span>) ‚Äê o1.charAt(<span class="number">0</span>);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">           System.out.println(list);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// ÁªìÊûúÂ¶Ç‰∏ãÔºö</span></span><br><span class="line"><span class="comment">// [sba, nba, cba, aba]</span></span><br></pre></td></tr></table></figure>
<p><strong>ÊÄªÁªìÔºöComparable ‰∏é Comparator ‰∏§‰∏™Êé•Âè£ÁöÑÂå∫Âà´</strong></p>
<p><strong>Comparable</strong>ÔºöÂº∫Ë°åÂØπÂÆûÁé∞ÂÆÉÁöÑÊØè‰∏™Á±ªÁöÑÂØπË±°ËøõË°åÊï¥‰ΩìÊéíÂ∫è„ÄÇËøôÁßçÊéíÂ∫èË¢´Áß∞‰∏∫Á±ªÁöÑËá™ÁÑ∂ÊéíÂ∫èÔºåÁ±ªÁöÑ compareTo ÊñπÊ≥ïË¢´Áß∞‰∏∫ÂÆÉÁöÑËá™ÁÑ∂ÊØîËæÉÊñπÊ≥ï„ÄÇÂè™ËÉΩÂú®Á±ª‰∏≠ÂÆûÁé∞ <code>compareTo()</code> ‰∏ÄÊ¨°Ôºå‰∏çËÉΩÁªèÂ∏∏‰øÆÊîπÁ±ªÁöÑ‰ª£Á†ÅÂÆûÁé∞Ëá™Â∑±ÊÉ≥Ë¶ÅÁöÑÊéíÂ∫è„ÄÇÂÆûÁé∞Ê≠§Êé•Âè£ÁöÑÂØπË±°ÂàóË°®ÔºàÂíåÊï∞ÁªÑÔºâÂèØ‰ª•ÈÄöËøá<code>Collections.sort</code>ÔºàÂíå <code>Arrays.sort</code>ÔºâËøõË°åËá™Âä®ÊéíÂ∫èÔºåÂØπË±°ÂèØ‰ª•Áî®‰ΩúÊúâÂ∫èÊò†Â∞Ñ‰∏≠ÁöÑÈîÆÊàñÊúâÂ∫èÈõÜÂêà‰∏≠ÁöÑÂÖÉÁ¥†ÔºåÊó†ÈúÄÊåáÂÆöÊØîËæÉÂô®„ÄÇ</p>
<p><strong>Comparator</strong>ÔºöÂº∫Ë°åÂØπÊüê‰∏™ÂØπË±°ËøõË°åÊï¥‰ΩìÊéíÂ∫è„ÄÇÂèØ‰ª•Â∞Ü Comparator ‰º†ÈÄíÁªô sort ÊñπÊ≥ïÔºàÂ¶Ç<code>Collections.sort</code> Êàñ <code>Arrays.sort</code>ÔºâÔºå‰ªéËÄåÂÖÅËÆ∏Âú®ÊéíÂ∫èÈ°∫Â∫è‰∏äÂÆûÁé∞Á≤æÁ°ÆÊéßÂà∂„ÄÇËøòÂèØ‰ª•‰ΩøÁî® Comparator Êù•ÊéßÂà∂Êüê‰∫õÊï∞ÊçÆÁªìÊûÑÔºàÂ¶ÇÊúâÂ∫è set ÊàñÊúâÂ∫èÊò†Â∞ÑÔºâÁöÑÈ°∫Â∫èÔºåÊàñËÄÖ‰∏∫ÈÇ£‰∫õÊ≤°ÊúâËá™ÁÑ∂È°∫Â∫èÁöÑÂØπË±° collection Êèê‰æõÊéíÂ∫è„ÄÇ</p>
</blockquote>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://www.cnblogs.com/williamjie/p/11458701.html</p>
</blockquote>
<h3 id="iterator-ÁöÑ‰ΩøÁî®‰∏éÂÖ∂ÁâπÁÇπ">Iterator ÁöÑ‰ΩøÁî®‰∏éÂÖ∂ÁâπÁÇπ</h3>
<p>Ëø≠‰ª£Âô®ÊòØ‰∏ÄÁßçËÆæËÆ°Ê®°ÂºèÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂØπË±°ÔºåÂÆÉÂèØ‰ª•ÈÅçÂéÜÂπ∂ÈÄâÊã©Â∫èÂàó‰∏≠ÁöÑÂØπË±°ÔºåËÄåÂºÄÂèë‰∫∫Âëò‰∏çÈúÄË¶Å‰∫ÜËß£ËØ•Â∫èÂàóÁöÑÂ∫ïÂ±ÇÁªìÊûÑ„ÄÇËø≠‰ª£Âô®ÈÄöÂ∏∏Ë¢´Áß∞‰∏∫‚ÄúËΩªÈáèÁ∫ß‚ÄùÂØπË±°ÔºåÂõ†‰∏∫ÂàõÂª∫ÂÆÉÁöÑ‰ª£‰ª∑Â∞è„ÄÇ</p>
<p>Java ‰∏≠ÁöÑ Iterator ÂäüËÉΩÊØîËæÉÁÆÄÂçïÔºåÂπ∂‰∏îÂè™ËÉΩÂçïÂêëÁßªÂä®Ôºö„ÄÄ„ÄÄ</p>
<ol type="1">
<li><p>‰ΩøÁî®ÊñπÊ≥ï <code>public Iterator iterator()</code> Ë¶ÅÊ±ÇÂÆπÂô®ËøîÂõû‰∏Ä‰∏™ Iterator„ÄÇÁ¨¨‰∏ÄÊ¨°Ë∞ÉÁî® Iterator ÁöÑ <code>next()</code> ÊñπÊ≥ïÊó∂ÔºåÂÆÉËøîÂõûÂ∫èÂàóÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ</p>
<blockquote>
<p>Ê≥®ÊÑèÔºö<code>iterator()</code> ÊñπÊ≥ïÂ≠òÂú®‰∫é <code>java.lang.Iterable</code> Êé•Âè£‰∏≠ÔºåËØ•Êé•Âè£Ë¢´ Collection ÁªßÊâøÔºåÂõ†Ê≠§ÈõÜÂêàÁ±ªÂèØ‰ª•‰ΩøÁî®ÊñπÊ≥ï<code>iterator()</code>ËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£Âô®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// collectionÊé•Âè£ÁªßÊâø‰∫ÜIterableÊé•Âè£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt; </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Ë¢´collectionÊé•Âè£ÁªßÊâøÁöÑIterableÊé•Âè£‰∏≠ÊúâÊñπÊ≥ïiteratorÔºåÂÖ∂‰ºöËøîÂõû‰∏Ä‰∏™IteratorÂØπË±°</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">       <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// IteratorÂØπË±°‰∏≠Áõ∏Â∫îÁöÑÊñπÊ≥ï</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">       <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">       <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">       <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">throw</span> <span class="keyword">new</span> UnsupportedOperationException(<span class="string">&quot;remove&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote></li>
<li><p>‰ΩøÁî® <code>public E next()</code> Ëé∑ÂæóÂ∫èÂàó‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ„ÄÄ</p></li>
<li><p>‰ΩøÁî® <code>public boolean hasNext()</code> Ê£ÄÊü•Â∫èÂàó‰∏≠ÊòØÂê¶ËøòÊúâÂÖÉÁ¥†„ÄÇ„ÄÄ„ÄÄ</p></li>
<li><p>‰ΩøÁî® <code>default void remove()</code> Â∞ÜËø≠‰ª£Âô®Êñ∞ËøîÂõûÁöÑÂÖÉÁ¥†Âà†Èô§„ÄÇ</p></li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="iterator-Âíå-listiterator-ÁöÑÂºÇÂêå">Iterator Âíå ListIterator ÁöÑÂºÇÂêå</h3>
<p><strong>Áõ∏ÂêåÁÇπÔºö</strong></p>
<ol type="1">
<li><p>ÈÉΩÊòØËø≠‰ª£Âô®ÔºåÂΩìÈúÄË¶ÅÂØπÈõÜÂêà‰∏≠ÂÖÉÁ¥†ËøõË°åÈÅçÂéÜ‰∏çÈúÄË¶ÅÂπ≤Ê∂âÂÖ∂ÈÅçÂéÜËøáÁ®ãÊó∂ÔºåËøô‰∏§ÁßçËø≠‰ª£Âô®ÈÉΩÂèØ‰ª•‰ΩøÁî®Ôºõ</p></li>
<li><p>ListIterator ÂÆûÁé∞‰∫Ü Iterator Êé•Âè£Ôºõ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ListIterator</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>‰∏çÂêåÁÇπÔºö</strong></p>
<ol type="1">
<li><strong>‰ΩøÁî®ËåÉÂõ¥‰∏çÂêå</strong>ÔºöIterator ÂèØÁî®Êù•ÈÅçÂéÜ Set„ÄÅList„ÄÅMapÈõÜÂêàÔºå‰ΩÜÊòØ <strong>ListIterator Âè™ËÉΩÁî®Êù•ÈÅçÂéÜ List</strong>„ÄÇ</li>
<li><strong>ÈÅçÂéÜÊñπÂêë‰∏çÂêå</strong>ÔºöIterator ÂØπÈõÜÂêàÂè™ËÉΩÊòØÂâçÂêëÈÅçÂéÜÔºà<code>hasNext()</code>, <code>Next()</code>ÔºâÔºåListIterator Êó¢ÂèØ‰ª•ÂâçÂêë‰πüÂèØ‰ª•ÂêéÂêë(<code>hasNext()</code>, <code>Next()</code>, <code>hasPrevious()</code>, <code>previous()</code>)Ôºõ</li>
<li>ListIterator ÂèØ‰ª•ÂÆö‰ΩçÂΩìÂâçÁ¥¢ÂºïÁöÑ‰ΩçÁΩÆÔºå<code>nextIndex()</code>Âíå<code>previousIndex()</code>ÂèØ‰ª•ÂÆûÁé∞„ÄÇIteratorÊ≤°ÊúâÊ≠§ÂäüËÉΩ„ÄÇ</li>
<li>ListIteratorÊúâaddÊñπÊ≥ïÔºåÂèØ‰ª•ÂêëList‰∏≠Ê∑ªÂä†ÂØπË±°ÔºåËÄåIterator‰∏çËÉΩÔºõ</li>
<li>ÈÉΩÂèØÂÆûÁé∞Âà†Èô§Êìç‰ΩúÔºå‰ΩÜÊòØ ListIterator ÂèØ‰ª•ÂÆûÁé∞ÂØπË±°ÁöÑ‰øÆÊîπÔºå<code>set()</code>ÊñπÊ≥ïÂèØ‰ª•ÂÆûÁé∞„ÄÇIterator‰ªÖËÉΩÈÅçÂéÜÔºå‰∏çËÉΩ‰øÆÊîπ</li>
</ol>
<p><strong>ÊÄª‰πã</strong>ÔºöListIterator ÂÆûÁé∞‰∫Ü Iterator Êé•Âè£ÔºåÂπ∂ÂåÖÂê´ÂÖ∂‰ªñÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÔºöÂ¢ûÂä†ÂÖÉÁ¥†ÔºåÊõøÊç¢ÂÖÉÁ¥†ÔºåËé∑ÂèñÂâç‰∏Ä‰∏™ÂíåÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÁ≠âÁ≠â„ÄÇ</p>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://blog.csdn.net/xiangyuenacha/article/details/84253630</p>
</blockquote>
<h3 id="iterator-Âíå-enumeration-ÁöÑÂå∫Âà´">Iterator Âíå Enumeration ÁöÑÂå∫Âà´</h3>
<p>‰∏é Enumeration Áõ∏ÊØîÔºåIterator Êõ¥Âä†ÂÆâÂÖ®ÔºåÂõ†‰∏∫ÂΩì‰∏Ä‰∏™ÈõÜÂêàÊ≠£Âú®Ë¢´ÈÅçÂéÜÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÈòªÊ≠¢ÂÖ∂ÂÆÉÁ∫øÁ®ãÂéª‰øÆÊîπÈõÜÂêà„ÄÇÂê¶Âàô‰ºöÊäõÂá∫ ConcurrentModificationException ÂºÇÂ∏∏„ÄÇËøôÂÖ∂ÂÆûÂ∞±ÊòØ fail-fast Êú∫Âà∂„ÄÇÂÖ∑‰ΩìÂå∫Âà´Êúâ‰∏âÁÇπÔºö</p>
<ol type="1">
<li>Iterator ÁöÑÊñπÊ≥ïÂêçÊØî Enumeration Êõ¥ÁßëÂ≠¶Ôºõ</li>
<li><strong>Iterator Êúâ fail-fast Êú∫Âà∂ÔºåÊØî Enumeration Êõ¥ÂÆâÂÖ®</strong>Ôºõ</li>
<li>Iterator ËÉΩÂ§üÂà†Èô§ÂÖÉÁ¥†ÔºåEnumeration Âπ∂‰∏çËÉΩÂà†Èô§ÂÖÉÁ¥†„ÄÇ</li>
</ol>
<p>ÂáΩÊï∞Êé•Âè£Â¶Ç‰∏ãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Enumeration</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasMoreElements</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">E <span class="title">nextElement</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://mp.weixin.qq.com/s/q1r9Pno6ANUzZ9wMzA-JSg</p>
</blockquote>
<h3 id="fail-fast-‰∏é-fail-safe-ÁöÑÂå∫Âà´">fail-fast ‰∏é fail-safe ÁöÑÂå∫Âà´ <span class="emoji" data-emoji="exclamation">‚ùó</span></h3>
<p><strong>fail-fastÔºö</strong></p>
<p>fail-fast ÁöÑÂ≠óÈù¢ÊÑèÊÄùÊòØ‚ÄúÂø´ÈÄüÂ§±Ë¥•‚Äù„ÄÇÂΩìÊàë‰ª¨Âú®ÈÅçÂéÜÈõÜÂêàÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏‰ºö‰ΩøÁî®Ëø≠‰ª£Âô®Ôºå‰ΩÜÂú®Ëø≠‰ª£Âô®ÈÅçÂéÜÂÖÉÁ¥†ÁöÑËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÈõÜÂêàÁöÑÁªìÊûÑË¢´ÊîπÂèòÁöÑËØùÔºåÂ∞±‰ºöÊäõÂá∫ÂºÇÂ∏∏ÔºåÈò≤Ê≠¢ÁªßÁª≠ÈÅçÂéÜ„ÄÇËøôÂ∞±ÊòØÊâÄË∞ìÁöÑÂø´ÈÄüÂ§±Ë¥•Êú∫Âà∂„ÄÇ</p>
<p><strong>fail-fast Ëø≠‰ª£Âô®ÊäõÂá∫ ConcurrentModificationExceptionÔºåËÄå fail-safe Ëø≠‰ª£Âô®Âàô‰∏ç‰ºö</strong>„ÄÇ</p>
<blockquote>
<p>ÁªìÊûÑ‰∏äÁöÑÊîπÂèòÔºöÈõÜÂêà‰∏äÁöÑÊèíÂÖ•ÂíåÂà†Èô§Â∞±ÊòØÁªìÊûÑ‰∏äÁöÑÊîπÂèòÔºõ</p>
<p>ÂØπÈõÜÂêà‰∏≠Êüê‰∏™ÂÖÉÁ¥†ËøõË°å‰øÆÊîπÁöÑËØùÔºåÂπ∂‰∏çÊòØÁªìÊûÑ‰∏äÁöÑÊîπÂèòÔºõ</p>
<p>ÊäõÂá∫ ConcurrentModificationException ÂºÇÂ∏∏ÂÆû‰æãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFailFast</span><span class="params">()</span></span>&#123;</span><br><span class="line">       List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++)&#123;</span><br><span class="line">           list.add(i);</span><br><span class="line">       &#125;</span><br><span class="line">       Iterator&lt;Integer&gt; it = list.iterator();</span><br><span class="line">       <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">           <span class="keyword">if</span>(temp == <span class="number">3</span>)&#123;</span><br><span class="line">               temp++;</span><br><span class="line">               list.remove(<span class="number">3</span>);  <span class="comment">// Âú®Ëø≠‰ª£ÁöÑËøáÁ®ã‰∏≠ÔºåÊîπÂèò‰∫ÜÈõÜÂêàÁöÑÁªìÊûÑÔºåÂØºËá¥fail-fast</span></span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               temp++;</span><br><span class="line">               System.out.println(it.next());</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>fail-fast Â∑•‰ΩúÂéüÁêÜÔºö</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âèñ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	checkForComodification();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title">checkForComodification</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (modCount != expectedModCount)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ConcurrentModificationException();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂΩìËø≠‰ª£Âô®Âú®ÊâßË°å <code>next()</code> ÊñπÊ≥ïÊó∂Ôºå‰ºöË∞ÉÁî®<code>checkForComodification()</code>ÔºåÂΩì<code>modCount != expectedModCount</code>Êó∂ÂàôÊäõÂá∫ÂºÇÂ∏∏ÔºåËÄåÂΩìÈõÜÂêàÁöÑÁªìÊûÑÂèëÁîüÂèòÂåñÊó∂ÔºåmodCountÂ∞±‰ºöÂèëÁîüÊîπÂèòÔºåÂ¶Ç</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ArrayList Âú®Ê∑ªÂä†ÂÖÉÁ¥†Êó∂ÔºåmodCount Â∞±‰ºöË¢´ÊîπÂèò</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);  <span class="comment">// Increments modCount!!</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;  <span class="comment">// ËøôÈáå‰øÆÊîπ‰∫ÜÔºÅÔºÅÔºÅ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// overflow-conscious code</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>fail-fast ÁöÑ‰∏Ä‰∫õÂ§ÑÁêÜÊñπÊ≥ïÔºö</strong></p>
<p>Â¶ÇÊûúÊàë‰ª¨‰∏çÂ∏åÊúõÂú®Ëø≠‰ª£Âô®ÈÅçÂéÜÁöÑÊó∂ÂÄôÂõ†‰∏∫Âπ∂ÂèëÁ≠âÂéüÂõ†ÔºåÂØºËá¥ÈõÜÂêàÁöÑÁªìÊûÑË¢´ÊîπÂèòÔºåËøõËÄåÂèØËÉΩÊäõÂá∫ÂºÇÂ∏∏ÁöÑËØùÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Ê∂âÂèäÂà∞‰ºöÂΩ±ÂìçÂà∞ modCount ÂÄºÊîπÂèòÁöÑÂú∞ÊñπÔºåÂä†‰∏äÂêåÊ≠•ÈîÅ synchronizedÔºåÊàñËÄÖÁõ¥Êé•‰ΩøÁî® <code>Collections.synchronizedList</code> Êù•Ëß£ÂÜ≥„ÄÇ</p>
<p><strong>fail-safeÔºö</strong></p>
<p>java.util ÂåÖ‰∏≠ÁöÑÊâÄÊúâÈõÜÂêàÁ±ªÈÉΩË¢´ËÆæËÆ°‰∏∫ fail-fast ÁöÑÔºåËÄå <strong>java.util.concurrent ‰∏≠ÁöÑÈõÜÂêàÁ±ªÈÉΩ‰∏∫ fail-safe ÁöÑ</strong>„ÄÇ</p>
<p>ÂØπ‰∫éÈááÁî® fail-safe Êú∫Âà∂Êù•ËØ¥ÔºåÂΩìÊ£ÄÊµãÂà∞Ê≠£Âú®ÈÅçÂéÜÁöÑÈõÜÂêàÁöÑÁªìÊûÑË¢´ÊîπÂèòÊó∂Ôºå‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏Ôºõ</p>
<p>ËøôÊòØÂõ†‰∏∫Ôºå<strong>ÂΩìÈõÜÂêàÁöÑÁªìÊûÑË¢´ÊîπÂèòÁöÑÊó∂ÂÄôÔºåfail-safe Êú∫Âà∂‰ºöÂ§çÂà∂ÂéüÈõÜÂêàÁöÑ‰∏Ä‰ªΩÊï∞ÊçÆÂá∫Êù•ÔºåÁÑ∂ÂêéÂú®Â§çÂà∂ÁöÑÈÇ£‰ªΩÊï∞ÊçÆ‰∏äÁªßÁª≠ÈÅçÂéÜ„ÄÇ</strong></p>
<blockquote>
<p>ÁÑ∂ÂêéÂú®Ê∑ªÂä†ÁöÑÊó∂ÂÄôÔºå‰ºöÂ§çÂà∂‰∏Ä‰ªΩÂâØÊú¨Âá∫Êù•Ê∑ªÂä†ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂÜçÊñ∞ÁöÑËÆæÁΩÆÂõûÂéª....</p>
<p>Â∞±ÊòØÂÜôÁöÑÊó∂ÂÄôÔºåÊääÂÆπÂô®Êâ©ÂÆπ‰∏Ä‰∏™Âá∫Êù•ÔºåÁÑ∂ÂêéÊääÂÄºÂ°´ÂÜô‰∏äÂéªÔºåÂÜçÈÄöÁü•ÂÖ∂‰ªñÁöÑÁ∫øÁ®ãÔºåÊääÂéüÂÖàÂÆπÂô®ÁöÑÂºïÁî®ÊåáÂêëÊâ©ÂÆπÂêéÁöÑÂÆπÂô®„ÄÇ</p>
</blockquote>
<p>Âõ†Ê≠§ÔºåËôΩÁÑ∂fail-safe‰∏ç‰ºöÊäõÂá∫ÂºÇÂ∏∏Ôºå‰ΩÜÂ≠òÂú®‰ª•‰∏ãÁº∫ÁÇπÔºö</p>
<ol type="1">
<li>Â§çÂà∂Êó∂ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÁ©∫Èó¥ÂíåÊó∂Èó¥‰∏äÁöÑÂºÄÈîÄ„ÄÇ</li>
<li>‰∏çËÉΩ‰øùËØÅÈÅçÂéÜÁöÑÊòØÊúÄÊñ∞ÂÜÖÂÆπ„ÄÇ</li>
</ol>
<blockquote>
<p>ÂèÇËÄÉÔºöhttps://www.jianshu.com/p/bee159e0bd49</p>
</blockquote>

    </div>

    
    
    
	
	<div>
		
			<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">

<div>
    
       <div style="text-align:center;color:#bfbfbf;font-size:16px;">
             <span>--- Êú¨ÊñáÁªìÊùü </span>
             <i class="fa fa-thumbs-o-up"></i>
             <span> ÊÑüË∞¢ÈòÖËØª ---</span>
       </div>
    
</div>
		
	</div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> Â≠¶‰π†Á¨îËÆ∞</a>
              <a href="/tags/Java/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> Java</a>
              <a href="/tags/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> Èù¢ËØïÁ¨îËÆ∞</a>
              <a href="/tags/%E9%9D%A2%E7%BB%8F/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> Èù¢Áªè</a>
              <a href="/tags/%E9%9B%86%E5%90%88%E7%B1%BB/" rel="tag"><i class="fa fa-hand-peace-o" aria-hidden="true"></i> ÈõÜÂêàÁ±ª</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/27/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A3-Java%E5%9F%BA%E7%A1%80/" rel="prev" title="Èù¢ÁªèÔºö3-JavaÂü∫Á°Ä">
      <i class="fa fa-chevron-left"></i> Èù¢ÁªèÔºö3-JavaÂü∫Á°Ä
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/07/11/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/%E9%9D%A2%E7%BB%8F%EF%BC%9A5-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="next" title="Èù¢ÁªèÔºö5-Âπ∂ÂèëÁºñÁ®ã">
      Èù¢ÁªèÔºö5-Âπ∂ÂèëÁºñÁ®ã <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9D%A2%E7%BB%8F4-%E9%9B%86%E5%90%88%E7%B1%BB"><span class="nav-text">Èù¢ÁªèÔºö4-ÈõÜÂêàÁ±ª</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%AE%B9%E5%99%A8"><span class="nav-text">Â∏∏Áî®ÁöÑÂÆπÂô® ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list-set-map-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">List &amp; Set &amp; Map ÁöÑÂå∫Âà´</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E7%94%A8%E9%9B%86%E5%90%88"><span class="nav-text">Â¶Ç‰ΩïÈÄâÁî®ÈõÜÂêà</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arraylist-%E5%92%8C-linkedlist-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">ArrayList Âíå LinkedList ÁöÑÂå∫Âà´ ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#randomaccess-%E6%8E%A5%E5%8F%A3"><span class="nav-text">RandomAccess Êé•Âè£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#arraylist-%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="nav-text">ArrayList ÁöÑÊâ©ÂÆπÊú∫Âà∂ ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#array-%E5%92%8C-arraylist-%E5%8C%BA%E5%88%AB"><span class="nav-text">Array Âíå ArrayList Âå∫Âà´ ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-text">HashMap ÁöÑÊï∞ÊçÆÁªìÊûÑ ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E7%9A%84-put-get"><span class="nav-text">HashMap ÁöÑ put() &amp; get() ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E7%9A%84-resize-%E6%96%B9%E6%B3%95"><span class="nav-text">HashMap ÁöÑ resize ÊñπÊ≥ï ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E7%9A%84-size-%E6%98%AF-2-%E7%9A%84%E6%95%B4%E6%95%B0%E6%AC%A1%E6%96%B9"><span class="nav-text">HashMap ÁöÑ size ÊòØ 2 ÁöÑÊï¥Êï∞Ê¨°Êñπ ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%AD%BB%E5%BE%AA%E7%8E%AF%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98"><span class="nav-text">HashMap Â§öÁ∫øÁ®ãÊ≠ªÂæ™ÁéØ+Êï∞ÊçÆ‰∏¢Â§±ÈóÆÈ¢ò ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashmap-%E4%B8%8E-hashtable-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">HashMap ‰∏é HashTable ÁöÑÂå∫Âà´ ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashtable-%E4%B8%8E-concurrenthashmap-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">HashTable ‰∏é ConcurrentHashMap ÁöÑÂå∫Âà´ ‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#concurrenthashmap-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">ConcurrentHashMap ÁöÑÂÆûÁé∞ÂéüÁêÜ ‚ùó‚ùó‚ùó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linkedhashmap-%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">LinkedHashMap ÁöÑÂÆûÁé∞ÂéüÁêÜ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#treemap-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">TreeMap ÂÆûÁé∞ÂéüÁêÜ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set-set%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">Set &amp; SetÂÆûÁé∞ÂéüÁêÜ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#set-%E4%BF%9D%E8%AF%81%E5%85%83%E7%B4%A0%E4%B8%8D%E9%87%8D%E5%A4%8D"><span class="nav-text">Set ‰øùËØÅÂÖÉÁ¥†‰∏çÈáçÂ§ç</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#collection-%E5%92%8C-collections"><span class="nav-text">Collection Âíå Collections</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iterator-%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%85%B6%E7%89%B9%E7%82%B9"><span class="nav-text">Iterator ÁöÑ‰ΩøÁî®‰∏éÂÖ∂ÁâπÁÇπ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iterator-%E5%92%8C-listiterator-%E7%9A%84%E5%BC%82%E5%90%8C"><span class="nav-text">Iterator Âíå ListIterator ÁöÑÂºÇÂêå</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#iterator-%E5%92%8C-enumeration-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">Iterator Âíå Enumeration ÁöÑÂå∫Âà´</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fail-fast-%E4%B8%8E-fail-safe-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">fail-fast ‰∏é fail-safe ÁöÑÂå∫Âà´ ‚ùó</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ZhuCC"
      src="/images/%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">ZhuCC</p>
  <div class="site-description" itemprop="description">‰∏çÊÄ•‰∏çË∫Å„ÄÇ</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">203</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">96</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
	  
	  
        <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
        <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
        <div class="widget-wrap">
            <div id="myCanvasContainer" class="widget tagcloud">
                <canvas width="250" height="250" id="resCanvas" style="width=100%">
                    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Anaconda/" rel="tag">Anaconda</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arthas/" rel="tag">Arthas</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CAT/" rel="tag">CAT</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Chrome/" rel="tag">Chrome</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CompletableFuture/" rel="tag">CompletableFuture</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/" rel="tag">ELK</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch/" rel="tag">Elasticsearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearck/" rel="tag">Elasticsearck</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Gitee/" rel="tag">Gitee</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDBC/" rel="tag">JDBC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JDK/" rel="tag">JDK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">74</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag">JavaÂü∫Á°Ä</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java%E8%AF%AD%E6%B3%95/" rel="tag">JavaËØ≠Ê≥ï</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/K%E8%BF%91%E9%82%BB/" rel="tag">KËøëÈÇª</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeetCode/" rel="tag">LeetCode</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mock/" rel="tag">Mock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mockito/" rel="tag">Mockito</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OSS/" rel="tag">OSS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/" rel="tag">OpenCV</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pytorch/" rel="tag">Pytorch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/" rel="tag">TCP/IP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/" rel="tag">TensorFlow</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ThreadLocal/" rel="tag">ThreadLocal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TortoiseGit/" rel="tag">TortoiseGit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TransmittableThreadLocal/" rel="tag">TransmittableThreadLocal</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Typora/" rel="tag">Typora</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/" rel="tag">Ubuntu</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nvidia/" rel="tag">nvidia</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E7%BB%8F%E5%8E%86/" rel="tag">‰∏™‰∫∫ÁªèÂéÜ</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" rel="tag">‰∏≠Èó¥‰ª∂</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/" rel="tag">ÂÖ®ÊñáÊ£ÄÁ¥¢</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%B3%E7%AD%96%E6%A0%91/" rel="tag">ÂÜ≥Á≠ñÊ†ë</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/" rel="tag">ÂàÜÁ±ªÈóÆÈ¢ò</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98/" rel="tag">Âà∑È¢ò</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" rel="tag">Âà∑È¢òÁ¨îËÆ∞</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A0%E5%AF%86%E6%96%87%E7%AB%A0/" rel="tag">Âä†ÂØÜÊñáÁ´†</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" rel="tag">ÂçöÂÆ¢Êê≠Âª∫</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%82%E8%80%83%E6%96%87%E4%BB%B6/" rel="tag">ÂèÇËÄÉÊñá‰ª∂</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag">Âü∫Á°ÄÁü•ËØÜ</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">Â≠¶‰π†Á¨îËÆ∞</a><span class="tag-list-count">104</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" rel="tag">Âπ∂ÂèëÁºñÁ®ã</a><span class="tag-list-count">26</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" rel="tag">ÂºÄÂèëÊ°ÜÊû∂</a><span class="tag-list-count">31</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%88%90%E9%95%BF%E5%8F%B2/" rel="tag">ÊàêÈïøÂè≤</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8C%81%E4%B9%85%E5%B1%82%E6%A1%86%E6%9E%B6/" rel="tag">ÊåÅ‰πÖÂ±ÇÊ°ÜÊû∂</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/" rel="tag">ÊéíÂ∫èÁÆóÊ≥ï</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag">Êìç‰ΩúÁ≥ªÁªü</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%94%AF%E6%8C%81%E5%90%91%E9%87%8F%E6%9C%BA/" rel="tag">ÊîØÊåÅÂêëÈáèÊú∫</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E5%AD%A6%E6%8E%A8%E5%AF%BC/" rel="tag">Êï∞Â≠¶Êé®ÂØº</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">Êï∞ÊçÆÂ∫ì</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/" rel="tag">Êï∞ÊçÆÊ∏ÖÊ¥ó</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">Êï∞ÊçÆÁªìÊûÑ</a><span class="tag-list-count">22</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%B8%B8/" rel="tag">Êó•Â∏∏</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/" rel="tag">Êó•ÂøóÊ°ÜÊû∂</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" rel="tag">Êú∫Âô®Â≠¶‰π†</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E7%BB%93%E6%9E%84/" rel="tag">Ê†ëÁªìÊûÑ</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" rel="tag">Ê†ëËéìÊ¥æ</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/" rel="tag">ÊµãËØïÂ∑•ÂÖ∑</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">Ê∂àÊÅØÈòüÂàó</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" rel="tag">Ê∑±Â∫¶Â≠¶‰π†</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%B9%E5%BE%81%E9%80%89%E6%8B%A9/" rel="tag">ÁâπÂæÅÈÄâÊã©</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" rel="tag">ÁéØÂ¢ÉÈÖçÁΩÆ</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/" rel="tag">ÁõÆÊ†áÊ£ÄÊµã</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">ÁÆóÊ≥ï</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" rel="tag">Á∫øÊÄßÂõûÂΩí</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%9A%E7%B1%BB/" rel="tag">ËÅöÁ±ª</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%A8%E7%A4%BA%E5%B1%82/" rel="tag">Ë°®Á§∫Â±Ç</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E8%B7%AF/" rel="tag">ËÆ°ÁÆóÊú∫ÁΩëË∑Ø</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag">ËØª‰π¶Á¨îËÆ∞</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B0%83%E7%94%A8%E9%93%BE%E7%9B%91%E6%8E%A7/" rel="tag">Ë∞ÉÁî®ÈìæÁõëÊéß</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%9D%E5%8F%B6%E6%96%AF/" rel="tag">Ë¥ùÂè∂ÊñØ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8/" rel="tag">ËΩØ‰ª∂‰ΩøÁî®</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92/" rel="tag">ÈÄªËæëÂõûÂΩí</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88%E7%B1%BB/" rel="tag">ÈõÜÂêàÁ±ª</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/" rel="tag">ÈõÜÊàêÂ≠¶‰π†</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E7%BB%8F/" rel="tag">Èù¢Áªè</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E7%AC%94%E8%AE%B0/" rel="tag">Èù¢ËØïÁ¨îËÆ∞</a><span class="tag-list-count">61</span></li></ul>
                </canvas>
            </div>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZhuCC</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Á´ôÁÇπÊÄªÂ≠óÊï∞">3.6m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Á´ôÁÇπÈòÖËØªÊó∂Èïø">54:18</span>
</div>

<!--
  <div class="powered-by">Áî± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> Âº∫ÂäõÈ©±Âä®
  </div>
-->

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '3it0tVBbppFeFBVa8QgB3vxM-gzGzoHsz',
      appKey     : '9VtnMWSrhAtC1pSRaA4Rivx9',
      placeholder: "ËØ∑Â§öÂ§öÊåáÊïô~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>
</html>
